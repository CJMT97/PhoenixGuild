import{initializeApp as zA}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getFirestore as BA,doc as Ln,getDoc as Hi,setDoc as qc,updateDoc as Ds,serverTimestamp as Bi,increment as Pa,getDocs as y_,collection as Id,addDoc as HA,arrayUnion as qA,query as GA,where as FA}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";import{getAuth as YA,onAuthStateChanged as vm}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function QA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function KA(){if(__)return dl;__=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return dl.Fragment=e,dl.jsx=i,dl.jsxs=i,dl}var v_;function XA(){return v_||(v_=1,Dd.exports=KA()),Dd.exports}var S=XA(),Nd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function $A(){if(E_)return be;E_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function F(N,Z,oe){this.props=N,this.context=Z,this.refs=z,this.updater=oe||K}F.prototype.isReactComponent={},F.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=F.prototype;function se(N,Z,oe){this.props=N,this.context=Z,this.refs=z,this.updater=oe||K}var re=se.prototype=new X;re.constructor=se,Q(re,F.prototype),re.isPureReactComponent=!0;var me=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function O(N,Z,oe,ie,fe,Se){return oe=Se.ref,{$$typeof:r,type:N,key:Z,ref:oe!==void 0?oe:null,props:Se}}function w(N,Z){return O(N.type,Z,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function M(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return Z[oe]})}var k=/\/+/g;function P(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):Z.toString(36)}function D(){}function _t(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Oe(N,Z,oe,ie,fe){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Se){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case r:case e:Ae=!0;break;case T:return Ae=N._init,Oe(Ae(N._payload),Z,oe,ie,fe)}}if(Ae)return fe=fe(N),Ae=ie===""?"."+P(N,0):ie,me(fe)?(oe="",Ae!=null&&(oe=Ae.replace(k,"$&/")+"/"),Oe(fe,Z,oe,"",function(qn){return qn})):fe!=null&&(C(fe)&&(fe=w(fe,oe+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(k,"$&/")+"/")+Ae)),Z.push(fe)),1;Ae=0;var bt=ie===""?".":ie+":";if(me(N))for(var Xe=0;Xe<N.length;Xe++)ie=N[Xe],Se=bt+P(ie,Xe),Ae+=Oe(ie,Z,oe,Se,fe);else if(Xe=b(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(ie=N.next()).done;)ie=ie.value,Se=bt+P(ie,Xe++),Ae+=Oe(ie,Z,oe,Se,fe);else if(Se==="object"){if(typeof N.then=="function")return Oe(_t(N),Z,oe,ie,fe);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(N,Z,oe){if(N==null)return N;var ie=[],fe=0;return Oe(N,ie,"","",function(Se){return Z.call(oe,Se,fe++)}),ie}function ne(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var le=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function pe(){}return be.Children={map:q,forEach:function(N,Z,oe){q(N,function(){Z.apply(this,arguments)},oe)},count:function(N){var Z=0;return q(N,function(){Z++}),Z},toArray:function(N){return q(N,function(Z){return Z})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},be.Component=F,be.Fragment=i,be.Profiler=l,be.PureComponent=se,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,be.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ue.H.useMemoCache(N)}},be.cache=function(N){return function(){return N.apply(null,arguments)}},be.cloneElement=function(N,Z,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=Q({},N.props),fe=N.key,Se=void 0;if(Z!=null)for(Ae in Z.ref!==void 0&&(Se=void 0),Z.key!==void 0&&(fe=""+Z.key),Z)!Ee.call(Z,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Z.ref===void 0||(ie[Ae]=Z[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var bt=Array(Ae),Xe=0;Xe<Ae;Xe++)bt[Xe]=arguments[Xe+2];ie.children=bt}return O(N.type,fe,void 0,void 0,Se,ie)},be.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},be.createElement=function(N,Z,oe){var ie,fe={},Se=null;if(Z!=null)for(ie in Z.key!==void 0&&(Se=""+Z.key),Z)Ee.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=Z[ie]);var Ae=arguments.length-2;if(Ae===1)fe.children=oe;else if(1<Ae){for(var bt=Array(Ae),Xe=0;Xe<Ae;Xe++)bt[Xe]=arguments[Xe+2];fe.children=bt}if(N&&N.defaultProps)for(ie in Ae=N.defaultProps,Ae)fe[ie]===void 0&&(fe[ie]=Ae[ie]);return O(N,Se,void 0,void 0,null,fe)},be.createRef=function(){return{current:null}},be.forwardRef=function(N){return{$$typeof:p,render:N}},be.isValidElement=C,be.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ne}},be.memo=function(N,Z){return{$$typeof:g,type:N,compare:Z===void 0?null:Z}},be.startTransition=function(N){var Z=ue.T,oe={};ue.T=oe;try{var ie=N(),fe=ue.S;fe!==null&&fe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(pe,le)}catch(Se){le(Se)}finally{ue.T=Z}},be.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},be.use=function(N){return ue.H.use(N)},be.useActionState=function(N,Z,oe){return ue.H.useActionState(N,Z,oe)},be.useCallback=function(N,Z){return ue.H.useCallback(N,Z)},be.useContext=function(N){return ue.H.useContext(N)},be.useDebugValue=function(){},be.useDeferredValue=function(N,Z){return ue.H.useDeferredValue(N,Z)},be.useEffect=function(N,Z,oe){var ie=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,Z)},be.useId=function(){return ue.H.useId()},be.useImperativeHandle=function(N,Z,oe){return ue.H.useImperativeHandle(N,Z,oe)},be.useInsertionEffect=function(N,Z){return ue.H.useInsertionEffect(N,Z)},be.useLayoutEffect=function(N,Z){return ue.H.useLayoutEffect(N,Z)},be.useMemo=function(N,Z){return ue.H.useMemo(N,Z)},be.useOptimistic=function(N,Z){return ue.H.useOptimistic(N,Z)},be.useReducer=function(N,Z,oe){return ue.H.useReducer(N,Z,oe)},be.useRef=function(N){return ue.H.useRef(N)},be.useState=function(N){return ue.H.useState(N)},be.useSyncExternalStore=function(N,Z,oe){return ue.H.useSyncExternalStore(N,Z,oe)},be.useTransition=function(){return ue.H.useTransition()},be.version="19.1.1",be}var T_;function Em(){return T_||(T_=1,Nd.exports=$A()),Nd.exports}var B=Em(),Od={exports:{}},ml={},xd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function WA(){return A_||(A_=1,function(r){function e(q,ne){var le=q.length;q.push(ne);e:for(;0<le;){var pe=le-1>>>1,N=q[pe];if(0<l(N,ne))q[pe]=ne,q[le]=N,le=pe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ne=q[0],le=q.pop();if(le!==ne){q[0]=le;e:for(var pe=0,N=q.length,Z=N>>>1;pe<Z;){var oe=2*(pe+1)-1,ie=q[oe],fe=oe+1,Se=q[fe];if(0>l(ie,le))fe<N&&0>l(Se,ie)?(q[pe]=Se,q[fe]=le,pe=fe):(q[pe]=ie,q[oe]=le,pe=oe);else if(fe<N&&0>l(Se,le))q[pe]=Se,q[fe]=le,pe=fe;else break e}}return ne}function l(q,ne){var le=q.sortIndex-ne.sortIndex;return le!==0?le:q.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,R=null,b=3,K=!1,Q=!1,z=!1,F=!1,X=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function me(q){for(var ne=i(g);ne!==null;){if(ne.callback===null)a(g);else if(ne.startTime<=q)a(g),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=i(g)}}function ue(q){if(z=!1,me(q),!Q)if(i(y)!==null)Q=!0,Ee||(Ee=!0,P());else{var ne=i(g);ne!==null&&Oe(ue,ne.startTime-q)}}var Ee=!1,O=-1,w=5,C=-1;function M(){return F?!0:!(r.unstable_now()-C<w)}function k(){if(F=!1,Ee){var q=r.unstable_now();C=q;var ne=!0;try{e:{Q=!1,z&&(z=!1,se(O),O=-1),K=!0;var le=b;try{t:{for(me(q),R=i(y);R!==null&&!(R.expirationTime>q&&M());){var pe=R.callback;if(typeof pe=="function"){R.callback=null,b=R.priorityLevel;var N=pe(R.expirationTime<=q);if(q=r.unstable_now(),typeof N=="function"){R.callback=N,me(q),ne=!0;break t}R===i(y)&&a(y),me(q)}else a(y);R=i(y)}if(R!==null)ne=!0;else{var Z=i(g);Z!==null&&Oe(ue,Z.startTime-q),ne=!1}}break e}finally{R=null,b=le,K=!1}ne=void 0}}finally{ne?P():Ee=!1}}}var P;if(typeof re=="function")P=function(){re(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,_t=D.port2;D.port1.onmessage=k,P=function(){_t.postMessage(null)}}else P=function(){X(k,0)};function Oe(q,ne){O=X(function(){q(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(q){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var le=b;b=ne;try{return q()}finally{b=le}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=b;b=q;try{return ne()}finally{b=le}},r.unstable_scheduleCallback=function(q,ne,le){var pe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=le+N,q={id:T++,callback:ne,priorityLevel:q,startTime:le,expirationTime:N,sortIndex:-1},le>pe?(q.sortIndex=le,e(g,q),i(y)===null&&q===i(g)&&(z?(se(O),O=-1):z=!0,Oe(ue,le-pe))):(q.sortIndex=N,e(y,q),Q||K||(Q=!0,Ee||(Ee=!0,P()))),q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(q){var ne=b;return function(){var le=b;b=ne;try{return q.apply(this,arguments)}finally{b=le}}}}(Md)),Md}var S_;function ZA(){return S_||(S_=1,xd.exports=WA()),xd.exports}var kd={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function JA(){if(b_)return qt;b_=1;var r=Em();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,g,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qt.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return h(y,g,null,T)},qt.flushSync=function(y){var g=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=g,a.p=T,a.d.f()}},qt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},qt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},qt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,K=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:b,fetchPriority:K}):T==="script"&&a.d.X(y,{crossOrigin:R,integrity:b,fetchPriority:K,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},qt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin);a.d.L(y,T,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qt.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},qt.requestFormReset=function(y){a.d.r(y)},qt.unstable_batchedUpdates=function(y,g){return y(g)},qt.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},qt.version="19.1.1",qt}var w_;function eS(){if(w_)return kd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=JA(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function tS(){if(R_)return ml;R_=1;var r=ZA(),e=Em(),i=eS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),t;if(f===o)return p(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var v=!1,E=c.child;E;){if(E===s){v=!0,s=c,o=f;break}if(E===o){v=!0,o=c,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,o=c;break}if(E===o){v=!0,o=f,s=c;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),re=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case F:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case re:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case me:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:_t(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return _t(t(n))}catch{}}return null}var Oe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],N=-1;function Z(t){return{current:t}}function oe(t){0>N||(t.current=pe[N],pe[N]=null,N--)}function ie(t,n){N++,pe[N]=t.current,t.current=n}var fe=Z(null),Se=Z(null),Ae=Z(null),bt=Z(null);function Xe(t,n){switch(ie(Ae,n),ie(Se,t),ie(fe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Fy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Fy(n),t=Yy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(fe),ie(fe,t)}function qn(){oe(fe),oe(Se),oe(Ae)}function nr(t){t.memoizedState!==null&&ie(bt,t);var n=fe.current,s=Yy(n,t.type);n!==s&&(ie(Se,t),ie(fe,s))}function di(t){Se.current===t&&(oe(fe),oe(Se)),bt.current===t&&(oe(bt),ll._currentValue=le)}var Fr=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,ro=r.unstable_shouldYield,Jl=r.unstable_requestPaint,pn=r.unstable_now,Ch=r.unstable_getCurrentPriorityLevel,so=r.unstable_ImmediatePriority,Gs=r.unstable_UserBlockingPriority,Kr=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,ao=r.log,eu=r.unstable_setDisableYieldValue,rt=null,Be=null;function an(t){if(typeof ao=="function"&&eu(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(rt,t)}catch{}}var Bt=Math.clz32?Math.clz32:Xr,tu=Math.log,Dh=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(tu(t)/Dh|0)|0}var $r=256,Wr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ys(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Dn(o):(v&=E,v!==0?c=Dn(v):s||(s=E&~t,s!==0&&(c=Dn(s))))):(E=o&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):s||(s=o&~t,s!==0&&(c=Dn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function oo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var t=$r;return $r<<=1,($r&4194048)===0&&($r=256),t}function uo(){var t=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),t}function mi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function co(t,n,s,o,c,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(s=v&~s;0<s;){var $=31-Bt(s),J=1<<$;E[$]=0,I[$]=-1;var H=j[$];if(H!==null)for(j[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}s&=~J}o!==0&&Gn(t,o,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Gn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function ho(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Bt(s),c=1<<o;c&n|t[o]&n&&(t[o]|=n),s&=~c}}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rr(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:h_(t.type))}function nu(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var Ze=Math.random().toString(36).slice(2),vt="__reactFiber$"+Ze,ft="__reactProps$"+Ze,gn="__reactContainer$"+Ze,fo="__reactEvents$"+Ze,Nh="__reactListeners$"+Ze,sr="__reactHandles$"+Ze,iu="__reactResources$"+Ze,Jr="__reactMarker$"+Ze;function ar(t){delete t[vt],delete t[ft],delete t[fo],delete t[Nh],delete t[sr]}function gi(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[gn]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=$y(t);t!==null;){if(s=t[vt])return s;t=$y(t)}return n}t=s,s=t.parentNode}return null}function Fn(t){if(t=t[vt]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xt(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[Jr]=!0}var mo=new Set,Ks={};function Nn(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Ks[t]=n,t=0;t<n.length;t++)mo.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},es={};function au(t){return Fr.call(es,t)?!0:Fr.call(su,t)?!1:ru.test(t)?es[t]=!0:(su[t]=!0,!1)}function or(t,n,s){if(au(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Qn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function xt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var ts,ou;function _i(t){if(ts===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||"",ou=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+ou}var Xs=!1;function $s(t,n){if(!t||Xs)return"";Xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){H=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var I=v.split(`
`),j=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===j.length)for(o=I.length-1,c=j.length-1;1<=o&&0<=c&&I[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==j[c]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=c);break}}}finally{Xs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?_i(s):""}function po(t){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return $s(t.type,!1);case 11:return $s(t.type.render,!1);case 1:return $s(t.type,!0);case 31:return _i("Activity");default:return""}}function Ws(t){try{var n="";do n+=po(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function go(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oh(t){var n=go(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Zs(t){t._valueTracker||(t._valueTracker=Oh(t))}function yo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=go(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xh=/[\n"\\]/g;function dt(t){return t.replace(xh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,s,o,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?lr(t,v,$t(n)):s!=null?lr(t,v,$t(s)):o!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function is(t,n,s,o,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+$t(s):"",n=n!=null?""+$t(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function lr(t,n,s){n==="number"&&ns(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vi(t,n,s,o){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&o&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ge(t,n,s){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+$t(s):""}function rs(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Oe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=$t(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function yn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||ss.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function _o(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&lu(t,c,o)}else for(var f in n)n.hasOwnProperty(f)&&lu(t,f,n[f])}function vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ei=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function Eo(t){var n=Fn(t);if(n&&(t=n.stateNode)){var s=t[ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(on(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var c=o[ft]||null;if(!c)throw Error(a(90));on(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&yo(o)}break e;case"textarea":Ge(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&vi(t,!!s.multiple,n,!1)}}}var Kn=!1;function uu(t,n,s){if(Kn)return t(n,s);Kn=!0;try{var o=t(n);return o}finally{if(Kn=!1,(Ti!==null||Ai!==null)&&(nc(),Ti&&(n=Ti,t=Ai,Ai=Ti=null,Eo(n),t)))for(n=0;n<t.length;n++)Eo(t[n])}}function as(t,n){var s=t.stateNode;if(s===null)return null;var o=s[ft]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(On)try{var os={};Object.defineProperty(os,"passive",{get:function(){vn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{vn=!1}var Xn=null,ur=null,Si=null;function To(){if(Si)return Si;var t,n=ur,s=n.length,o,c="value"in Xn?Xn.value:Xn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var v=s-t;for(o=1;o<=v&&n[s-o]===c[f-o];o++);return Si=c.slice(t,1<o?1-o:void 0)}function $n(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Ao(){return!1}function wt(t){function n(s,o,c,f,v){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:Ao,this.isPropagationStopped=Ao,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),n}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=wt(je),ls=T({},je,{view:0,detail:0}),cu=wt(ls),ta,na,Zn,us=T({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(ta=t.screenX-Zn.screenX,na=t.screenY-Zn.screenY):na=ta=0,Zn=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),En=wt(us),hu=T({},us,{dataTransfer:0}),Vh=wt(hu),cs=T({},ls,{relatedTarget:0}),ia=wt(cs),So=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=wt(So),fu=T({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=wt(fu),Ph=T({},je,{data:0}),bo=wt(Ph),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function fs(){return wo}var pu=T({},ls,{key:function(t){if(t.key){var n=hs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=wt(pu),gu=T({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=wt(gu),bi=T({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),yu=wt(bi),_u=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=wt(_u),Eu=T({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=wt(Eu),Wt=T({},je,{newState:0,oldState:0}),Tu=wt(Wt),Au=[9,13,27,32],Jn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,_=On&&(!Jn||u&&8<u&&11>=u),A=" ",U=!1;function Y(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function Et(t,n){switch(t){case"compositionend":return ae(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function ke(t,n){if(Me)return t==="compositionend"||!Jn&&Y(t,n)?(t=To(),Si=ur=Xn=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rt[t.type]:n==="textarea"}function wi(t,n,s,o){Ti?Ai?Ai.push(o):Ai=[o]:Ti=o,n=lc(n,"onChange"),0<n.length&&(s=new ea("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Mt=null,ei=null;function Co(t){zy(t,0)}function Su(t){var n=Yn(t);if(yo(n))return t}function op(t,n){if(t==="change")return n}var lp=!1;if(On){var Uh;if(On){var Lh="oninput"in document;if(!Lh){var up=document.createElement("div");up.setAttribute("oninput","return;"),Lh=typeof up.oninput=="function"}Uh=Lh}else Uh=!1;lp=Uh&&(!document.documentMode||9<document.documentMode)}function cp(){Mt&&(Mt.detachEvent("onpropertychange",hp),ei=Mt=null)}function hp(t){if(t.propertyName==="value"&&Su(ei)){var n=[];wi(n,ei,t,_n(t)),uu(Co,n)}}function gT(t,n,s){t==="focusin"?(cp(),Mt=n,ei=s,Mt.attachEvent("onpropertychange",hp)):t==="focusout"&&cp()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(ei)}function _T(t,n){if(t==="click")return Su(n)}function vT(t,n){if(t==="input"||t==="change")return Su(n)}function ET(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:ET;function Io(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!Fr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dp(t,n){var s=fp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fp(s)}}function mp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?mp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ns(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ns(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var TT=On&&"documentMode"in document&&11>=document.documentMode,la=null,zh=null,Do=null,Bh=!1;function gp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||la==null||la!==ns(o)||(o=la,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Io(Do,o)||(Do=o,o=lc(zh,"onSelect"),0<o.length&&(n=new ea("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=la)))}function ds(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ua={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Hh={},yp={};On&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ms(t){if(Hh[t])return Hh[t];if(!ua[t])return t;var n=ua[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in yp)return Hh[t]=n[s];return t}var _p=ms("animationend"),vp=ms("animationiteration"),Ep=ms("animationstart"),AT=ms("transitionrun"),ST=ms("transitionstart"),bT=ms("transitioncancel"),Tp=ms("transitionend"),Ap=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function xn(t,n){Ap.set(t,n),Nn(n,[t])}var Sp=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var s=Sp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ws(n)},Sp.set(t,n),n)}return{value:t,source:n,stack:Ws(n)}}var An=[],ca=0,Gh=0;function bu(){for(var t=ca,n=Gh=ca=0;n<t;){var s=An[n];An[n++]=null;var o=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,o!==null&&c!==null){var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}f!==0&&bp(s,c,f)}}function wu(t,n,s,o){An[ca++]=t,An[ca++]=n,An[ca++]=s,An[ca++]=o,Gh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fh(t,n,s,o){return wu(t,n,s,o),Ru(t)}function ha(t,n){return wu(t,null,null,n),Ru(t)}function bp(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Bt(s),t=f.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(t){if(50<el)throw el=0,Zf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function wT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,s,o){return new wT(t,n,s,o)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var s=t.alternate;return s===null?(s=un(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function wp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,s,o,c,f){var v=0;if(o=t,typeof t=="function")Yh(t)&&(v=1);else if(typeof t=="string")v=CA(t,s,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=un(31,s,n,c),t.elementType=C,t.lanes=f,t;case Q:return ps(s.children,c,f,n);case z:v=8,c|=24;break;case F:return t=un(12,s,n,c|2),t.elementType=F,t.lanes=f,t;case ue:return t=un(13,s,n,c),t.elementType=ue,t.lanes=f,t;case Ee:return t=un(19,s,n,c),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case re:v=10;break e;case se:v=9;break e;case me:v=11;break e;case O:v=14;break e;case w:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=un(v,s,n,c),n.elementType=t,n.type=o,n.lanes=f,n}function ps(t,n,s,o){return t=un(7,t,o,n),t.lanes=s,t}function Qh(t,n,s){return t=un(6,t,null,n),t.lanes=s,t}function Kh(t,n,s){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var da=[],ma=0,Iu=null,Du=0,Sn=[],bn=0,gs=null,Ci=1,Ii="";function ys(t,n){da[ma++]=Du,da[ma++]=Iu,Iu=t,Du=n}function Rp(t,n,s){Sn[bn++]=Ci,Sn[bn++]=Ii,Sn[bn++]=gs,gs=t;var o=Ci;t=Ii;var c=32-Bt(o)-1;o&=~(1<<c),s+=1;var f=32-Bt(n)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,Ci=1<<32-Bt(n)+c|s<<c|o,Ii=f+t}else Ci=1<<f|s<<c|o,Ii=t}function Xh(t){t.return!==null&&(ys(t,1),Rp(t,1,0))}function $h(t){for(;t===Iu;)Iu=da[--ma],da[ma]=null,Du=da[--ma],da[ma]=null;for(;t===gs;)gs=Sn[--bn],Sn[bn]=null,Ii=Sn[--bn],Sn[bn]=null,Ci=Sn[--bn],Sn[bn]=null}var Zt=null,st=null,Le=!1,_s=null,ti=!1,Wh=Error(a(519));function vs(t){var n=Error(a(418,""));throw xo(Tn(n,t)),Wh}function Cp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[ft]=o,s){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)Ne(nl[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Ne("invalid",n),is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Zs(n);break;case"select":Ne("invalid",n);break;case"textarea":Ne("invalid",n),rs(n,o.value,o.defaultValue,o.children),Zs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Ne("beforetoggle",n),Ne("toggle",n)),o.onScroll!=null&&Ne("scroll",n),o.onScrollEnd!=null&&Ne("scrollend",n),o.onClick!=null&&(n.onclick=uc),n=!0):n=!1,n||vs(t)}function Ip(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Zt=Zt.return}}function No(t){if(t!==Zt)return!1;if(!Le)return Ip(t),Le=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||md(t.type,t.memoizedProps)),s=!s),s&&st&&vs(t),Ip(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){st=kn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}st=null}}else n===27?(n=st,wr(t.type)?(t=_d,_d=null,st=t):st=n):st=Zt?kn(t.stateNode.nextSibling):null;return!0}function Oo(){st=Zt=null,Le=!1}function Dp(){var t=_s;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),_s=null),t}function xo(t){_s===null?_s=[t]:_s.push(t)}var Zh=Z(null),Es=null,Di=null;function cr(t,n,s){ie(Zh,n._currentValue),n._currentValue=s}function Ni(t){t._currentValue=Zh.current,oe(Zh)}function Jh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function ef(t,n,s,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,t),o||(v=null);break e}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Jh(v,s,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Mo(t,n,s,o){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===bt.current){if(v=c.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}c=c.return}t!==null&&ef(n,t,s,o),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ts(t){Es=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Np(Es,t)}function Ou(t,n){return Es===null&&Ts(t),Np(t,n)}function Np(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(a(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return s}var RT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},CT=r.unstable_scheduleCallback,IT=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new RT,data:new Map,refCount:0}}function ko(t){t.refCount--,t.refCount===0&&CT(IT,function(){t.controller.abort()})}var Vo=null,nf=0,pa=0,ga=null;function DT(t,n){if(Vo===null){var s=Vo=[];nf=0,pa=sd(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Op,Op),n}function Op(){if(--nf===0&&Vo!==null){ga!==null&&(ga.status="fulfilled");var t=Vo;Vo=null,pa=0,ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var xp=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&DT(t,n),xp!==null&&xp(t,n)};var As=Z(null);function rf(){var t=As.current;return t!==null?t:$e.pooledCache}function xu(t,n){n===null?ie(As,As.current):ie(As,n.pool)}function Mp(){var t=rf();return t===null?null:{parent:At._currentValue,pool:t}}var Po=Error(a(460)),kp=Error(a(474)),Mu=Error(a(542)),sf={then:function(){}};function Vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function Pp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ku,ku),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lp(t),t;default:if(typeof n.status=="string")n.then(ku,ku);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lp(t),t}throw Uo=n,Po}}var Uo=null;function Up(){if(Uo===null)throw Error(a(459));var t=Uo;return Uo=null,t}function Lp(t){if(t===Po||t===Mu)throw Error(a(483))}var hr=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Ru(t),bp(t,null,s),n}return wu(t,o,n,s),Ru(t)}function Lo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ho(t,s)}}function lf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uf=!1;function jo(){if(uf){var t=ga;if(t!==null)throw t}}function zo(t,n,s,o){uf=!1;var c=t.updateQueue;hr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,j=I.next;I.next=null,v===null?f=j:v.next=j,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==v&&(E===null?$.firstBaseUpdate=j:E.next=j,$.lastBaseUpdate=I))}if(f!==null){var J=c.baseState;v=0,$=j=I=null,E=f;do{var H=E.lane&-536870913,G=H!==E.lane;if(G?(Ve&H)===H:(o&H)===H){H!==0&&H===pa&&(uf=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Te=t,ye=E;H=n;var Qe=s;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(Qe,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Qe,J,H):Te,H==null)break e;J=T({},J,H);break e;case 2:hr=!0}}H=E.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[H]:G.push(H))}else G={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(j=$=G,I=J):$=$.next=G,v|=H;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;G=E,E=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);$===null&&(I=J),c.baseState=I,c.firstBaseUpdate=j,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),Tr|=v,t.lanes=v,t.memoizedState=J}}function jp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function zp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jp(s[t],n)}var ya=Z(null),Vu=Z(0);function Bp(t,n){t=Ui,ie(Vu,t),ie(ya,n),Ui=t|n.baseLanes}function cf(){ie(Vu,Ui),ie(ya,ya.current)}function hf(){Ui=Vu.current,oe(ya),oe(Vu)}var mr=0,Re=null,Fe=null,mt=null,Pu=!1,_a=!1,Ss=!1,Uu=0,Bo=0,va=null,OT=0;function ut(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function df(t,n,s,o,c,f){return mr=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?bg:wg,Ss=!1,f=s(o,c),Ss=!1,_a&&(f=qp(n,s,o,c)),Hp(t),f}function Hp(t){q.H=qu;var n=Fe!==null&&Fe.next!==null;if(mr=0,mt=Fe=Re=null,Pu=!1,Bo=0,va=null,n)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&Nu(t)&&(Ct=!0))}function qp(t,n,s,o){Re=t;var c=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=c)throw Error(a(301));if(c+=1,mt=Fe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=LT,f=n(s,o)}while(_a);return f}function xT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ho(n):n,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(Re.flags|=1024),n}function mf(){var t=Uu!==0;return Uu=0,t}function pf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function gf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}mr=0,mt=Fe=Re=null,_a=!1,Bo=Uu=0,va=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Re.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Fe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var n=mt===null?Re.memoizedState:mt.next;if(n!==null)mt=n,Fe=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},mt===null?Re.memoizedState=mt=t:mt=mt.next=t}return mt}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(t){var n=Bo;return Bo+=1,va===null&&(va=[]),t=Pp(va,t,n),n=Re,(mt===null?n.memoizedState:mt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?bg:wg),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ho(t);if(t.$$typeof===re)return Ht(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,s=Re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=yf(),Re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=M;return n.index++,s}function Oi(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=pt();return vf(n,Fe,t)}function vf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=t.baseQueue,f=o.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,o.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,I=null,j=n,$=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ve&J)===J:(mr&J)===J){var H=j.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===pa&&($=!0);else if((mr&H)===H){j=j.next,H===pa&&($=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=J,v=f):I=I.next=J,Re.lanes|=H,Tr|=H;J=j.action,Ss&&s(f,J),f=j.hasEagerState?j.eagerState:s(f,J)}else H={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=H,v=f):I=I.next=H,Re.lanes|=J,Tr|=J;j=j.next}while(j!==null&&j!==n);if(I===null?v=f:I.next=E,!ln(f,t.memoizedState)&&(Ct=!0,$&&(s=ga,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Gp(t,n,s){var o=Re,c=pt(),f=Le;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!ln((Fe||c).memoizedState,s);v&&(c.memoizedState=s,Ct=!0),c=c.queue;var E=Qp.bind(null,o,c,t);if(qo(2048,8,E,[t]),c.getSnapshot!==n||v||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Ea(9,zu(),Yp.bind(null,o,c,s,n),null),$e===null)throw Error(a(349));f||(mr&124)!==0||Fp(o,n,s)}return s}function Fp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n=yf(),Re.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Yp(t,n,s,o){n.value=s,n.getSnapshot=o,Kp(n)&&Xp(t)}function Qp(t,n,s){return s(function(){Kp(n)&&Xp(t)})}function Kp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function Xp(t){var n=ha(t,2);n!==null&&mn(n,t,2)}function Tf(t){var n=Jt();if(typeof t=="function"){var s=t;if(t=s(),Ss){an(!0);try{s()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function $p(t,n,s,o){return t.baseState=s,vf(t,Fe,typeof o=="function"?o:Oi)}function MT(t,n,s,o,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Wp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wp(t,n){var s=n.action,o=n.payload,c=t.state;if(n.isTransition){var f=q.T,v={};q.T=v;try{var E=s(c,o),I=q.S;I!==null&&I(v,E),Zp(t,n,E)}catch(j){Af(t,n,j)}finally{q.T=f}}else try{f=s(c,o),Zp(t,n,f)}catch(j){Af(t,n,j)}}function Zp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Jp(t,n,o)},function(o){return Af(t,n,o)}):Jp(t,n,s)}function Jp(t,n,s){n.status="fulfilled",n.value=s,eg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Wp(t,s)))}function Af(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,eg(n),n=n.next;while(n!==o)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function ng(t,n){if(Le){var s=$e.formState;if(s!==null){e:{var o=Re;if(Le){if(st){t:{for(var c=st,f=ti;c.nodeType!==8;){if(!f){c=null;break t}if(c=kn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){st=kn(c.nextSibling),o=c.data==="F!";break e}}vs(o)}o=!1}o&&(n=s[0])}}return s=Jt(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},s.queue=o,s=Tg.bind(null,Re,o),o.dispatch=s,o=Tf(!1),f=Cf.bind(null,Re,!1,o.queue),o=Jt(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,s=MT.bind(null,Re,c,f,s),c.dispatch=s,o.memoizedState=t,[n,s,!1]}function ig(t){var n=pt();return rg(n,Fe,t)}function rg(t,n,s){if(n=vf(t,n,tg)[0],t=ju(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(v){throw v===Po?Mu:v}else o=n;n=pt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Re.flags|=2048,Ea(9,zu(),kT.bind(null,c,s),null)),[o,f,t]}function kT(t,n){t.action=n}function sg(t){var n=pt(),s=Fe;if(s!==null)return rg(n,s,t);pt(),n=n.memoizedState,s=pt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ea(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=yf(),Re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function zu(){return{destroy:void 0,resource:void 0}}function ag(){return pt().memoizedState}function Bu(t,n,s,o){var c=Jt();o=o===void 0?null:o,Re.flags|=t,c.memoizedState=Ea(1|n,zu(),s,o)}function qo(t,n,s,o){var c=pt();o=o===void 0?null:o;var f=c.memoizedState.inst;Fe!==null&&o!==null&&ff(o,Fe.memoizedState.deps)?c.memoizedState=Ea(n,f,s,o):(Re.flags|=t,c.memoizedState=Ea(1|n,f,s,o))}function og(t,n){Bu(8390656,8,t,n)}function lg(t,n){qo(2048,8,t,n)}function ug(t,n){return qo(4,2,t,n)}function cg(t,n){return qo(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,s){s=s!=null?s.concat([t]):null,qo(4,4,hg.bind(null,n,t),s)}function Sf(){}function dg(t,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function mg(t,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=t(),Ss){an(!0);try{t()}finally{an(!1)}}return s.memoizedState=[o,n],o}function bf(t,n,s){return s===void 0||(mr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=yy(),Re.lanes|=t,Tr|=t,s)}function pg(t,n,s,o){return ln(s,n)?s:ya.current!==null?(t=bf(t,s,o),ln(t,n)||(Ct=!0),t):(mr&42)===0?(Ct=!0,t.memoizedState=s):(t=yy(),Re.lanes|=t,Tr|=t,n)}function gg(t,n,s,o,c){var f=ne.p;ne.p=f!==0&&8>f?f:8;var v=q.T,E={};q.T=E,Cf(t,!1,n,s);try{var I=c(),j=q.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=NT(I,o);Go(t,n,$,dn(t))}else Go(t,n,o,dn(t))}catch(J){Go(t,n,{then:function(){},status:"rejected",reason:J},dn())}finally{ne.p=f,q.T=v}}function VT(){}function wf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var c=yg(t).queue;gg(t,c,n,le,s===null?VT:function(){return _g(t),s(o)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:le},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function _g(t){var n=yg(t).next.queue;Go(t,n,{},dn())}function Rf(){return Ht(ll)}function vg(){return pt().memoizedState}function Eg(){return pt().memoizedState}function PT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=dn();t=fr(s);var o=dr(n,t,s);o!==null&&(mn(o,n,s),Lo(o,n,s)),n={cache:tf()},t.payload=n;return}n=n.return}}function UT(t,n,s){var o=dn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Ag(n,s):(s=Fh(t,n,s,o),s!==null&&(mn(s,t,o),Sg(s,n,o)))}function Tg(t,n,s){var o=dn();Go(t,n,s,o)}function Go(t,n,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return wu(t,n,c,0),$e===null&&bu(),!1}catch{}finally{}if(s=Fh(t,n,c,o),s!==null)return mn(s,t,o),Sg(s,n,o),!0}return!1}function Cf(t,n,s,o){if(o={lane:2,revertLane:sd(),action:o,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Fh(t,s,o,2),n!==null&&mn(n,t,2)}function Hu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Ag(t,n){_a=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Sg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ho(t,s)}}var qu={readContext:Ht,use:Lu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},bg={readContext:Ht,use:Lu,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:og,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Bu(4194308,4,hg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Bu(4194308,4,t,n)},useInsertionEffect:function(t,n){Bu(4,2,t,n)},useMemo:function(t,n){var s=Jt();n=n===void 0?null:n;var o=t();if(Ss){an(!0);try{t()}finally{an(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Jt();if(s!==void 0){var c=s(n);if(Ss){an(!0);try{s(n)}finally{an(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=UT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,s=Tg.bind(null,Re,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(t,n){var s=Jt();return bf(s,t,n)},useTransition:function(){var t=Tf(!1);return t=gg.bind(null,Re,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Re,c=Jt();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$e===null)throw Error(a(349));(Ve&124)!==0||Fp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,og(Qp.bind(null,o,f,t),[t]),o.flags|=2048,Ea(9,zu(),Yp.bind(null,o,f,s,n),null),s},useId:function(){var t=Jt(),n=$e.identifierPrefix;if(Le){var s=Ii,o=Ci;s=(o&~(1<<32-Bt(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=OT++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:ng,useActionState:ng,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Re,!0,s),s.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return Jt().memoizedState=PT.bind(null,Re)}},wg={readContext:Ht,use:Lu,useCallback:dg,useContext:Ht,useEffect:lg,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:ju,useRef:ag,useState:function(){return ju(Oi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=pt();return pg(s,Fe.memoizedState,t,n)},useTransition:function(){var t=ju(Oi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:Rf,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var s=pt();return $p(s,Fe,t,n)},useMemoCache:_f,useCacheRefresh:Eg},LT={readContext:Ht,use:Lu,useCallback:dg,useContext:Ht,useEffect:lg,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:Ef,useRef:ag,useState:function(){return Ef(Oi)},useDebugValue:Sf,useDeferredValue:function(t,n){var s=pt();return Fe===null?bf(s,t,n):pg(s,Fe.memoizedState,t,n)},useTransition:function(){var t=Ef(Oi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),n]},useSyncExternalStore:Gp,useId:vg,useHostTransitionStatus:Rf,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var s=pt();return Fe!==null?$p(s,Fe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Eg},Ta=null,Fo=0;function Gu(t){var n=Fo;return Fo+=1,Ta===null&&(Ta=[]),Pp(Ta,t,n)}function Yo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Rg(t){var n=t._init;return n(t._payload)}function Cg(t){function n(V,x){if(t){var L=V.deletions;L===null?(V.deletions=[x],V.flags|=16):L.push(x)}}function s(V,x){if(!t)return null;for(;x!==null;)n(V,x),x=x.sibling;return null}function o(V){for(var x=new Map;V!==null;)V.key!==null?x.set(V.key,V):x.set(V.index,V),V=V.sibling;return x}function c(V,x){return V=Ri(V,x),V.index=0,V.sibling=null,V}function f(V,x,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<x?(V.flags|=67108866,x):L):(V.flags|=67108866,x)):(V.flags|=1048576,x)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,x,L,W){return x===null||x.tag!==6?(x=Qh(L,V.mode,W),x.return=V,x):(x=c(x,L),x.return=V,x)}function I(V,x,L,W){var ce=L.type;return ce===Q?$(V,x,L.props.children,W,L.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Rg(ce)===x.type)?(x=c(x,L.props),Yo(x,L),x.return=V,x):(x=Cu(L.type,L.key,L.props,null,V.mode,W),Yo(x,L),x.return=V,x)}function j(V,x,L,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Kh(L,V.mode,W),x.return=V,x):(x=c(x,L.children||[]),x.return=V,x)}function $(V,x,L,W,ce){return x===null||x.tag!==7?(x=ps(L,V.mode,W,ce),x.return=V,x):(x=c(x,L),x.return=V,x)}function J(V,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Qh(""+x,V.mode,L),x.return=V,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return L=Cu(x.type,x.key,x.props,null,V.mode,L),Yo(L,x),L.return=V,L;case K:return x=Kh(x,V.mode,L),x.return=V,x;case w:var W=x._init;return x=W(x._payload),J(V,x,L)}if(Oe(x)||P(x))return x=ps(x,V.mode,L,null),x.return=V,x;if(typeof x.then=="function")return J(V,Gu(x),L);if(x.$$typeof===re)return J(V,Ou(V,x),L);Fu(V,x)}return null}function H(V,x,L,W){var ce=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:E(V,x,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ce?I(V,x,L,W):null;case K:return L.key===ce?j(V,x,L,W):null;case w:return ce=L._init,L=ce(L._payload),H(V,x,L,W)}if(Oe(L)||P(L))return ce!==null?null:$(V,x,L,W,null);if(typeof L.then=="function")return H(V,x,Gu(L),W);if(L.$$typeof===re)return H(V,x,Ou(V,L),W);Fu(V,L)}return null}function G(V,x,L,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return V=V.get(L)||null,E(x,V,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return V=V.get(W.key===null?L:W.key)||null,I(x,V,W,ce);case K:return V=V.get(W.key===null?L:W.key)||null,j(x,V,W,ce);case w:var Ie=W._init;return W=Ie(W._payload),G(V,x,L,W,ce)}if(Oe(W)||P(W))return V=V.get(L)||null,$(x,V,W,ce,null);if(typeof W.then=="function")return G(V,x,L,Gu(W),ce);if(W.$$typeof===re)return G(V,x,L,Ou(x,W),ce);Fu(x,W)}return null}function Te(V,x,L,W){for(var ce=null,Ie=null,de=x,_e=x=0,Dt=null;de!==null&&_e<L.length;_e++){de.index>_e?(Dt=de,de=null):Dt=de.sibling;var Ue=H(V,de,L[_e],W);if(Ue===null){de===null&&(de=Dt);break}t&&de&&Ue.alternate===null&&n(V,de),x=f(Ue,x,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue,de=Dt}if(_e===L.length)return s(V,de),Le&&ys(V,_e),ce;if(de===null){for(;_e<L.length;_e++)de=J(V,L[_e],W),de!==null&&(x=f(de,x,_e),Ie===null?ce=de:Ie.sibling=de,Ie=de);return Le&&ys(V,_e),ce}for(de=o(de);_e<L.length;_e++)Dt=G(de,V,_e,L[_e],W),Dt!==null&&(t&&Dt.alternate!==null&&de.delete(Dt.key===null?_e:Dt.key),x=f(Dt,x,_e),Ie===null?ce=Dt:Ie.sibling=Dt,Ie=Dt);return t&&de.forEach(function(Nr){return n(V,Nr)}),Le&&ys(V,_e),ce}function ye(V,x,L,W){if(L==null)throw Error(a(151));for(var ce=null,Ie=null,de=x,_e=x=0,Dt=null,Ue=L.next();de!==null&&!Ue.done;_e++,Ue=L.next()){de.index>_e?(Dt=de,de=null):Dt=de.sibling;var Nr=H(V,de,Ue.value,W);if(Nr===null){de===null&&(de=Dt);break}t&&de&&Nr.alternate===null&&n(V,de),x=f(Nr,x,_e),Ie===null?ce=Nr:Ie.sibling=Nr,Ie=Nr,de=Dt}if(Ue.done)return s(V,de),Le&&ys(V,_e),ce;if(de===null){for(;!Ue.done;_e++,Ue=L.next())Ue=J(V,Ue.value,W),Ue!==null&&(x=f(Ue,x,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return Le&&ys(V,_e),ce}for(de=o(de);!Ue.done;_e++,Ue=L.next())Ue=G(de,V,_e,Ue.value,W),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?_e:Ue.key),x=f(Ue,x,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return t&&de.forEach(function(jA){return n(V,jA)}),Le&&ys(V,_e),ce}function Qe(V,x,L,W){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ce=L.key;x!==null;){if(x.key===ce){if(ce=L.type,ce===Q){if(x.tag===7){s(V,x.sibling),W=c(x,L.props.children),W.return=V,V=W;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Rg(ce)===x.type){s(V,x.sibling),W=c(x,L.props),Yo(W,L),W.return=V,V=W;break e}s(V,x);break}else n(V,x);x=x.sibling}L.type===Q?(W=ps(L.props.children,V.mode,W,L.key),W.return=V,V=W):(W=Cu(L.type,L.key,L.props,null,V.mode,W),Yo(W,L),W.return=V,V=W)}return v(V);case K:e:{for(ce=L.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){s(V,x.sibling),W=c(x,L.children||[]),W.return=V,V=W;break e}else{s(V,x);break}else n(V,x);x=x.sibling}W=Kh(L,V.mode,W),W.return=V,V=W}return v(V);case w:return ce=L._init,L=ce(L._payload),Qe(V,x,L,W)}if(Oe(L))return Te(V,x,L,W);if(P(L)){if(ce=P(L),typeof ce!="function")throw Error(a(150));return L=ce.call(L),ye(V,x,L,W)}if(typeof L.then=="function")return Qe(V,x,Gu(L),W);if(L.$$typeof===re)return Qe(V,x,Ou(V,L),W);Fu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(s(V,x.sibling),W=c(x,L),W.return=V,V=W):(s(V,x),W=Qh(L,V.mode,W),W.return=V,V=W),v(V)):s(V,x)}return function(V,x,L,W){try{Fo=0;var ce=Qe(V,x,L,W);return Ta=null,ce}catch(de){if(de===Po||de===Mu)throw de;var Ie=un(29,de,null,V.mode);return Ie.lanes=W,Ie.return=V,Ie}finally{}}}var Aa=Cg(!0),Ig=Cg(!1),wn=Z(null),ni=null;function pr(t){var n=t.alternate;ie(St,St.current&1),ie(wn,t),ni===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(ni=t)}function Dg(t){if(t.tag===22){if(ie(St,St.current),ie(wn,t),ni===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ni=t)}}else gr()}function gr(){ie(St,St.current),ie(wn,wn.current)}function xi(t){oe(wn),ni===t&&(ni=null),oe(St)}var St=Z(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||yd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function If(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Df={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=dn(),c=fr(o);c.payload=n,s!=null&&(c.callback=s),n=dr(t,c,o),n!==null&&(mn(n,t,o),Lo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=dn(),c=fr(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=dr(t,c,o),n!==null&&(mn(n,t,o),Lo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=dn(),o=fr(s);o.tag=2,n!=null&&(o.callback=n),n=dr(t,o,s),n!==null&&(mn(n,t,s),Lo(n,t,s))}};function Ng(t,n,s,o,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!Io(s,o)||!Io(c,f):!0}function Og(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function bs(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xg(t){Qu(t)}function Mg(t){console.error(t)}function kg(t){Qu(t)}function Ku(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nf(t,n,s){return s=fr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(t,n)},s}function Pg(t){return t=fr(t),t.tag=3,t}function Ug(t,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vg(n,s,o),typeof c!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jT(t,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Mo(n,s,c,!0),s=wn.current,s!==null){switch(s.tag){case 13:return ni===null?ed():s.alternate===null&&at===0&&(at=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===sf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(t,o,c)),!1;case 22:return s.flags|=65536,o===sf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(t,o,c)),!1}throw Error(a(435,s.tag))}return nd(t,o,c),ed(),!1}if(Le)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Wh&&(t=Error(a(422),{cause:o}),xo(Tn(t,s)))):(o!==Wh&&(n=Error(a(423),{cause:o}),xo(Tn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Tn(o,s),c=Nf(t.stateNode,o,c),lf(t,c),at!==4&&(at=2)),!1;var f=Error(a(520),{cause:o});if(f=Tn(f,s),Jo===null?Jo=[f]:Jo.push(f),at!==4&&(at=2),n===null)return!0;o=Tn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nf(s.stateNode,o,t),lf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Pg(c),Ug(c,t,s,o),lf(s,c),!1}s=s.return}while(s!==null);return!1}var Lg=Error(a(461)),Ct=!1;function kt(t,n,s,o){n.child=t===null?Ig(n,null,s,o):Aa(n,t.child,s,o)}function jg(t,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ts(n),o=df(t,n,s,v,f,c),E=mf(),t!==null&&!Ct?(pf(t,n,c),Mi(t,n,c)):(Le&&E&&Xh(n),n.flags|=1,kt(t,n,o,c),n.child)}function zg(t,n,s,o,c){if(t===null){var f=s.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,o,c)):(t=Cu(s.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lf(t,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(v,o)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ri(f,o),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,s,o,c){if(t!==null){var f=t.memoizedProps;if(Io(f,o)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=o=f,Lf(t,c))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Of(t,n,s,o,c)}function Hg(t,n,s){var o=n.pendingProps,c=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return qg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(n,f!==null?f.cachePool:null),f!==null?Bp(n,f):cf(),Dg(n);else return n.lanes=n.childLanes=536870912,qg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(xu(n,f.cachePool),Bp(n,f),gr(),n.memoizedState=null):(t!==null&&xu(n,null),cf(),gr());return kt(t,n,c,s),n.child}function qg(t,n,s,o){var c=rf();return c=c===null?null:{parent:At._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&xu(n,null),cf(),Dg(n),t!==null&&Mo(t,n,o,!0),null}function Xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Of(t,n,s,o,c){return Ts(n),s=df(t,n,s,o,void 0,c),o=mf(),t!==null&&!Ct?(pf(t,n,c),Mi(t,n,c)):(Le&&o&&Xh(n),n.flags|=1,kt(t,n,s,c),n.child)}function Gg(t,n,s,o,c,f){return Ts(n),n.updateQueue=null,s=qp(n,o,s,c),Hp(t),o=mf(),t!==null&&!Ct?(pf(t,n,f),Mi(t,n,f)):(Le&&o&&Xh(n),n.flags|=1,kt(t,n,s,f),n.child)}function Fg(t,n,s,o,c){if(Ts(n),n.stateNode===null){var f=fa,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):fa,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(If(n,s,v,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Df.enqueueReplaceState(f,f.state,null),zo(n,o,f,c),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=bs(s,E);f.props=I;var j=f.context,$=s.contextType;v=fa,typeof $=="object"&&$!==null&&(v=Ht($));var J=s.getDerivedStateFromProps;$=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&Og(n,f,o,v),hr=!1;var H=n.memoizedState;f.state=H,zo(n,o,f,c),jo(),j=n.memoizedState,E||H!==j||hr?(typeof J=="function"&&(If(n,s,J,o),j=n.memoizedState),(I=hr||Ng(n,s,I,o,H,j,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=v,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),v=n.memoizedProps,$=bs(s,v),f.props=$,J=n.pendingProps,H=f.context,j=s.contextType,I=fa,typeof j=="object"&&j!==null&&(I=Ht(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||H!==I)&&Og(n,f,o,I),hr=!1,H=n.memoizedState,f.state=H,zo(n,o,f,c),jo();var G=n.memoizedState;v!==J||H!==G||hr||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(If(n,s,E,o),G=n.memoizedState),($=hr||Ng(n,s,$,o,H,G,I)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=I,o=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Aa(n,t.child,null,c),n.child=Aa(n,null,s,c)):kt(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function Yg(t,n,s,o){return Oo(),n.flags|=256,kt(t,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Mp()}}function kf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Rn),t}function Qg(t,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(c?pr(n):gr(),Le){var E=st,I;if(I=E){e:{for(I=E,E=ti;I.nodeType!==8;){if(!E){E=null;break e}if(I=kn(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:gs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},I=un(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,Zt=n,st=null,I=!0):I=!1}I||vs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yd(E)?n.lanes=32:n.lanes=536870912,null;xi(n)}return E=o.children,o=o.fallback,c?(gr(),c=n.mode,E=$u({mode:"hidden",children:E},c),o=ps(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Mf(s),c.childLanes=kf(t,v,s),n.memoizedState=xf,o):(pr(n),Vf(n,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(pr(n),n.flags&=-257,n=Pf(t,n,s)):n.memoizedState!==null?(gr(),n.child=t.child,n.flags|=128,n=null):(gr(),c=o.fallback,E=n.mode,o=$u({mode:"visible",children:o.children},E),c=ps(c,E,s,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,Aa(n,t.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=kf(t,v,s),n.memoizedState=xf,n=c);else if(pr(n),yd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(a(419)),o.stack="",o.digest=v,xo({value:o,source:null,stack:null}),n=Pf(t,n,s)}else if(Ct||Mo(t,n,s,!1),v=(s&t.childLanes)!==0,Ct||v){if(v=$e,v!==null&&(o=s&-s,o=(o&42)!==0?1:ir(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,ha(t,o),mn(v,t,o),Lg;E.data==="$?"||ed(),n=Pf(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,st=kn(E.nextSibling),Zt=n,Le=!0,_s=null,ti=!1,t!==null&&(Sn[bn++]=Ci,Sn[bn++]=Ii,Sn[bn++]=gs,Ci=t.id,Ii=t.overflow,gs=n),n=Vf(n,o.children),n.flags|=4096);return n}return c?(gr(),c=o.fallback,E=n.mode,I=t.child,j=I.sibling,o=Ri(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?c=Ri(j,c):(c=ps(c,E,s,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=t.child.memoizedState,E===null?E=Mf(s):(I=E.cachePool,I!==null?(j=At._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Mp(),E={baseLanes:E.baseLanes|s,cachePool:I}),c.memoizedState=E,c.childLanes=kf(t,v,s),n.memoizedState=xf,o):(pr(n),s=t.child,t=s.sibling,s=Ri(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=s,n.memoizedState=null,s)}function Vf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Pf(t,n,s){return Aa(n,t.child,null,s),t=Vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Kg(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Jh(t.return,n,s)}function Uf(t,n,s,o,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function Xg(t,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(kt(t,n,o.children,s),o=St.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kg(t,s,n);else if(t.tag===19)Kg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ie(St,o),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Yu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Uf(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Uf(n,!0,s,null,f);break;case"together":Uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Tr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Mo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ri(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ri(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function zT(t,n,s){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),cr(n,At,t.memoizedState.cache),Oo();break;case 27:case 5:nr(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:cr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(pr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Qg(t,n,s):(pr(n),t=Mi(t,n,s),t!==null?t.sibling:null);pr(n);break;case 19:var c=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Mo(t,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Xg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(St,St.current),o)break;return null;case 22:case 23:return n.lanes=0,Hg(t,n,s);case 24:cr(n,At,t.memoizedState.cache)}return Mi(t,n,s)}function $g(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Lf(t,s)&&(n.flags&128)===0)return Ct=!1,zT(t,n,s);Ct=(t.flags&131072)!==0}else Ct=!1,Le&&(n.flags&1048576)!==0&&Rp(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Yh(o)?(t=bs(o,t),n.tag=1,n=Fg(null,n,o,t,s)):(n.tag=0,n=Of(null,n,o,t,s));else{if(o!=null){if(c=o.$$typeof,c===me){n.tag=11,n=jg(null,n,o,t,s);break e}else if(c===O){n.tag=14,n=zg(null,n,o,t,s);break e}}throw n=_t(o)||o,Error(a(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=bs(o,n.pendingProps),Fg(t,n,o,c,s);case 3:e:{if(Xe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,of(t,n),zo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,cr(n,At,o),o!==f.cache&&ef(n,[At],s,!0),jo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(t,n,o,s);break e}else if(o!==c){c=Tn(Error(a(424)),n),xo(c),n=Yg(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=kn(t.firstChild),Zt=n,Le=!0,_s=null,ti=!0,s=Ig(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),o===c){n=Mi(t,n,s);break e}kt(t,n,o,s)}n=n.child}return n;case 26:return Xu(t,n),t===null?(s=e_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,t=n.pendingProps,o=cc(Ae.current).createElement(s),o[vt]=n,o[ft]=t,Pt(o,s,t),lt(o),n.stateNode=o):n.memoizedState=e_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return nr(n),t===null&&Le&&(o=n.stateNode=Wy(n.type,n.pendingProps,Ae.current),Zt=n,ti=!0,c=st,wr(n.type)?(_d=c,st=kn(o.firstChild)):st=c),kt(t,n,n.pendingProps.children,s),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((c=o=st)&&(o=mA(o,n.type,n.pendingProps,ti),o!==null?(n.stateNode=o,Zt=n,st=kn(o.firstChild),ti=!1,c=!0):c=!1),c||vs(n)),nr(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,md(c,f)?o=null:v!==null&&md(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=df(t,n,xT,null,null,s),ll._currentValue=c),Xu(t,n),kt(t,n,o,s),n.child;case 6:return t===null&&Le&&((t=s=st)&&(s=pA(s,n.pendingProps,ti),s!==null?(n.stateNode=s,Zt=n,st=null,t=!0):t=!1),t||vs(n)),null;case 13:return Qg(t,n,s);case 4:return Xe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Aa(n,null,o,s):kt(t,n,o,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return kt(t,n,n.pendingProps,s),n.child;case 8:return kt(t,n,n.pendingProps.children,s),n.child;case 12:return kt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,cr(n,n.type,o.value),kt(t,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Ts(n),c=Ht(c),o=o(c),n.flags|=1,kt(t,n,o,s),n.child;case 14:return zg(t,n,n.type,n.pendingProps,s);case 15:return Bg(t,n,n.type,n.pendingProps,s);case 19:return Xg(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=$u(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ri(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Hg(t,n,s);case 24:return Ts(n),o=Ht(At),t===null?(c=rf(),c===null&&(c=$e,f=tf(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},af(n),cr(n,At,c)):((t.lanes&s)!==0&&(of(t,n),zo(n,null,null,s),jo()),c=t.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cr(n,At,o)):(o=f.cache,cr(n,At,o),o!==c.cache&&ef(n,[At],s,!0))),kt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ki(t){t.flags|=4}function Wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!s_(n)){if(n=wn.current,n!==null&&((Ve&4194048)===Ve?ni!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||n!==ni))throw Uo=sf,kp;t.flags|=8192}}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uo():536870912,t.lanes|=n,Ra|=n)}function Qo(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function BT(t,n,s){var o=n.pendingProps;switch($h(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ni(At),qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(No(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dp())),nt(n),null;case 26:return s=n.memoizedState,t===null?(ki(n),s!==null?(nt(n),Wg(n,s)):(nt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ki(n),nt(n),Wg(n,s)):(nt(n),n.flags&=-16777217):(t.memoizedProps!==o&&ki(n),nt(n),n.flags&=-16777217),null;case 27:di(n),s=Ae.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}t=fe.current,No(n)?Cp(n):(t=Wy(c,o,s),n.stateNode=t,ki(n))}return nt(n),null;case 5:if(di(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(t=fe.current,No(n))Cp(n);else{switch(c=cc(Ae.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}t[vt]=n,t[ft]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Pt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ki(n)}}return nt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,No(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,c=Zt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(t.nodeValue,s)),t||vs(n)}else t=cc(t).createTextNode(o),t[vt]=n,n.stateNode=t}return nt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=No(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[vt]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),c=!1}else c=Dp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),nt(n),null;case 4:return qn(),t===null&&ud(n.stateNode.containerInfo),nt(n),null;case 10:return Ni(n.type),nt(n),null;case 19:if(oe(St),c=n.memoizedState,c===null)return nt(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Qo(c,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,Qo(c,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)wp(s,t),s=s.sibling;return ie(St,St.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>ec&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304)}else{if(!o)if(t=Yu(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),Qo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Le)return nt(n),null}else 2*pn()-c.renderingStartTime>ec&&s!==536870912&&(n.flags|=128,o=!0,Qo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=St.current,ie(St,o?t&1|2:t&1),n):(nt(n),null);case 22:case 23:return xi(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(As),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ni(At),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function HT(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(At),qn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return di(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(St),null;case 4:return qn(),null;case 10:return Ni(n.type),null;case 22:case 23:return xi(n),hf(),t!==null&&oe(As),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(At),null;case 25:return null;default:return null}}function Zg(t,n){switch($h(n),n.tag){case 3:Ni(At),qn();break;case 26:case 27:case 5:di(n);break;case 4:qn();break;case 13:xi(n);break;case 19:oe(St);break;case 10:Ni(n.type);break;case 22:case 23:xi(n),hf(),t!==null&&oe(As);break;case 24:Ni(At)}}function Ko(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==c)}}catch(E){Ke(n,n.return,E)}}function yr(t,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var I=s,j=E;try{j()}catch($){Ke(c,I,$)}}}o=o.next}while(o!==f)}}catch($){Ke(n,n.return,$)}}function Jg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zp(n,s)}catch(o){Ke(t,t.return,o)}}}function ey(t,n,s){s.props=bs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ke(t,n,o)}}function Xo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(c){Ke(t,n,c)}}function ii(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ke(t,n,c)}else s.current=null}function ty(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ke(t,t.return,c)}}function jf(t,n,s){try{var o=t.stateNode;uA(o,t.type,s,n),o[ft]=n}catch(c){Ke(t,t.return,c)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wr(t.type)||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=uc));else if(o!==4&&(o===27&&wr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Bf(t,n,s),t=t.sibling;t!==null;)Bf(t,n,s),t=t.sibling}function Zu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&wr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Zu(t,n,s),t=t.sibling;t!==null;)Zu(t,n,s),t=t.sibling}function iy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pt(n,o,s),n[vt]=t,n[ft]=s}catch(f){Ke(t,t.return,f)}}var Vi=!1,ct=!1,Hf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,It=null;function qT(t,n){if(t=t.containerInfo,fd=gc,t=pp(t),jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,E=-1,I=-1,j=0,$=0,J=t,H=null;t:for(;;){for(var G;J!==s||c!==0&&J.nodeType!==3||(E=v+c),J!==f||o!==0&&J.nodeType!==3||(I=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===t)break t;if(H===s&&++j===c&&(E=v),H===f&&++$===o&&(I=v),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:t,selectionRange:s},gc=!1,It=n;It!==null;)if(n=It,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,It=t;else for(;It!==null;){switch(n=It,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var Te=bs(s.type,c,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Te,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ke(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,It=t;break}It=n.return}}function sy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_r(t,s),o&4&&Ko(5,s);break;case 1:if(_r(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(v){Ke(s,s.return,v)}else{var c=bs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(s,s.return,v)}}o&64&&Jg(s),o&512&&Xo(s,s.return);break;case 3:if(_r(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zp(t,n)}catch(v){Ke(s,s.return,v)}}break;case 27:n===null&&o&4&&iy(s);case 26:case 5:_r(t,s),n===null&&o&4&&ty(s),o&512&&Xo(s,s.return);break;case 12:_r(t,s);break;case 13:_r(t,s),o&4&&ly(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ZT.bind(null,s),gA(t,s))));break;case 22:if(o=s.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||ct,c=Vi;var f=ct;Vi=o,(ct=n)&&!f?vr(t,s,(s.subtreeFlags&8772)!==0):_r(t,s),Vi=c,ct=f}break;case 30:break;default:_r(t,s)}}function ay(t){var n=t.alternate;n!==null&&(t.alternate=null,ay(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ar(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,en=!1;function Pi(t,n,s){for(s=s.child;s!==null;)oy(t,n,s),s=s.sibling}function oy(t,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(rt,s)}catch{}switch(s.tag){case 26:ct||ii(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ct||ii(s,n);var o=Je,c=en;wr(s.type)&&(Je=s.stateNode,en=!1),Pi(t,n,s),rl(s.stateNode),Je=o,en=c;break;case 5:ct||ii(s,n);case 6:if(o=Je,c=en,Je=null,Pi(t,n,s),Je=o,en=c,Je!==null)if(en)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(f){Ke(s,n,f)}else try{Je.removeChild(s.stateNode)}catch(f){Ke(s,n,f)}break;case 18:Je!==null&&(en?(t=Je,Xy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),fl(t)):Xy(Je,s.stateNode));break;case 4:o=Je,c=en,Je=s.stateNode.containerInfo,en=!0,Pi(t,n,s),Je=o,en=c;break;case 0:case 11:case 14:case 15:ct||yr(2,s,n),ct||yr(4,s,n),Pi(t,n,s);break;case 1:ct||(ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ey(s,n,o)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:ct=(o=ct)||s.memoizedState!==null,Pi(t,n,s),ct=o;break;default:Pi(t,n,s)}}function ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(s){Ke(n,n.return,s)}}function GT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ry),n;default:throw Error(a(435,t.tag))}}function qf(t,n){var s=GT(t);n.forEach(function(o){var c=JT.bind(null,t,o);s.has(o)||(s.add(o),o.then(c,c))})}function cn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=t,v=n,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(wr(E.type)){Je=E.stateNode,en=!1;break e}break;case 5:Je=E.stateNode,en=!1;break e;case 3:case 4:Je=E.stateNode.containerInfo,en=!0;break e}E=E.return}if(Je===null)throw Error(a(160));oy(f,v,c),Je=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)uy(n,t),n=n.sibling}var Mn=null;function uy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),o&4&&(yr(3,t,t.return),Ko(3,t),yr(5,t,t.return));break;case 1:cn(n,t),hn(t),o&512&&(ct||s===null||ii(s,s.return)),o&64&&Vi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Mn;if(cn(n,t),hn(t),o&512&&(ct||s===null||ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Jr]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Pt(f,o,s),f[vt]=t,lt(f),o=f;break e;case"link":var v=i_("link","href",c).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}f=c.createElement(o),Pt(f,o,s),c.head.appendChild(f);break;case"meta":if(v=i_("meta","content",c).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}f=c.createElement(o),Pt(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,lt(f),o=f}t.stateNode=o}else r_(c,t.type,t.stateNode);else t.stateNode=n_(c,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?r_(c,t.type,t.stateNode):n_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(n,t),hn(t),o&512&&(ct||s===null||ii(s,s.return)),s!==null&&o&4&&jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(n,t),hn(t),o&512&&(ct||s===null||ii(s,s.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(G){Ke(t,t.return,G)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,jf(t,c,s!==null?s.memoizedProps:c)),o&1024&&(Hf=!0);break;case 6:if(cn(n,t),hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(G){Ke(t,t.return,G)}}break;case 3:if(dc=null,c=Mn,Mn=hc(n.containerInfo),cn(n,t),Mn=c,hn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{fl(n.containerInfo)}catch(G){Ke(t,t.return,G)}Hf&&(Hf=!1,cy(t));break;case 4:o=Mn,Mn=hc(t.stateNode.containerInfo),cn(n,t),hn(t),Mn=o;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xf=pn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qf(t,o)));break;case 22:c=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Vi,$=ct;if(Vi=j||c,ct=$||I,cn(n,t),ct=$,Vi=j,hn(t),o&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Vi||ct||ws(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Ke(I,I.return,G)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(G){Ke(I,I.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,qf(t,s))));break;case 19:cn(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qf(t,o)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ny(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=zf(t);Zu(t,f,c);break;case 5:var v=s.stateNode;s.flags&32&&(yn(v,""),s.flags&=-33);var E=zf(t);Zu(t,E,v);break;case 3:case 4:var I=s.stateNode.containerInfo,j=zf(t);Bf(t,j,I);break;default:throw Error(a(161))}}catch($){Ke(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _r(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(t,n.alternate,n),n=n.sibling}function ws(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:yr(4,n,n.return),ws(n);break;case 1:ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ey(n,n.return,s),ws(n);break;case 27:rl(n.stateNode);case 26:case 5:ii(n,n.return),ws(n);break;case 22:n.memoizedState===null&&ws(n);break;case 30:ws(n);break;default:ws(n)}t=t.sibling}}function vr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:vr(c,f,s),Ko(4,f);break;case 1:if(vr(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Ke(o,o.return,j)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)jp(I[c],E)}catch(j){Ke(o,o.return,j)}}s&&v&64&&Jg(f),Xo(f,f.return);break;case 27:iy(f);case 26:case 5:vr(c,f,s),s&&o===null&&v&4&&ty(f),Xo(f,f.return);break;case 12:vr(c,f,s);break;case 13:vr(c,f,s),s&&v&4&&ly(c,f);break;case 22:f.memoizedState===null&&vr(c,f,s),Xo(f,f.return);break;case 30:break;default:vr(c,f,s)}n=n.sibling}}function Gf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ko(s))}function Ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ko(t))}function ri(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(t,n,s,o),n=n.sibling}function hy(t,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ri(t,n,s,o),c&2048&&Ko(9,n);break;case 1:ri(t,n,s,o);break;case 3:ri(t,n,s,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ko(t)));break;case 12:if(c&2048){ri(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ke(n,n.return,I)}}else ri(t,n,s,o);break;case 13:ri(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ri(t,n,s,o):$o(t,n):f._visibility&2?ri(t,n,s,o):(f._visibility|=2,Sa(t,n,s,o,(n.subtreeFlags&10256)!==0)),c&2048&&Gf(v,n);break;case 24:ri(t,n,s,o),c&2048&&Ff(n.alternate,n);break;default:ri(t,n,s,o)}}function Sa(t,n,s,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=s,I=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(f,v,E,I,c),Ko(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Sa(f,v,E,I,c):$o(f,v):($._visibility|=2,Sa(f,v,E,I,c)),c&&j&2048&&Gf(v.alternate,v);break;case 24:Sa(f,v,E,I,c),c&&j&2048&&Ff(v.alternate,v);break;default:Sa(f,v,E,I,c)}n=n.sibling}}function $o(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,c=o.flags;switch(o.tag){case 22:$o(s,o),c&2048&&Gf(o.alternate,o);break;case 24:$o(s,o),c&2048&&Ff(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Wo=8192;function ba(t){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)fy(t),t=t.sibling}function fy(t){switch(t.tag){case 26:ba(t),t.flags&Wo&&t.memoizedState!==null&&DA(Mn,t.memoizedState,t.memoizedProps);break;case 5:ba(t);break;case 3:case 4:var n=Mn;Mn=hc(t.stateNode.containerInfo),ba(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Wo,Wo=16777216,ba(t),Wo=n):ba(t));break;default:ba(t)}}function dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];It=o,py(o,t)}dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&yr(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ju(t)):Zo(t);break;default:Zo(t)}}function Ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];It=o,py(o,t)}dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:yr(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}t=t.sibling}}function py(t,n){for(;It!==null;){var s=It;switch(s.tag){case 0:case 11:case 15:yr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,It=o;else e:for(s=t;It!==null;){o=It;var c=o.sibling,f=o.return;if(ay(o),o===s){It=null;break e}if(c!==null){c.return=f,It=c;break e}It=f}}}var FT={getCacheForType:function(t){var n=Ht(At),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},YT=typeof WeakMap=="function"?WeakMap:Map,He=0,$e=null,De=null,Ve=0,qe=0,fn=null,Er=!1,wa=!1,Yf=!1,Ui=0,at=0,Tr=0,Rs=0,Qf=0,Rn=0,Ra=0,Jo=null,tn=null,Kf=!1,Xf=0,ec=1/0,tc=null,Ar=null,Vt=0,Sr=null,Ca=null,Ia=0,$f=0,Wf=null,gy=null,el=0,Zf=null;function dn(){if((He&2)!==0&&Ve!==0)return Ve&-Ve;if(q.T!==null){var t=pa;return t!==0?t:sd()}return rr()}function yy(){Rn===0&&(Rn=(Ve&536870912)===0||Le?lo():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Rn}function mn(t,n,s){(t===$e&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Da(t,0),br(t,Ve,Rn,!1)),pi(t,s),((He&2)===0||t!==$e)&&(t===$e&&((He&2)===0&&(Rs|=s),at===4&&br(t,Ve,Rn,!1)),si(t))}function _y(t,n,s){if((He&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Zr(t,n),c=o?XT(t,n):td(t,n,!0),f=o;do{if(c===0){wa&&!o&&br(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!QT(s)){c=td(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var E=t;c=Jo;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,v).flags|=256),v=td(E,v,!1),v!==2){if(Yf&&!I){E.errorRecoveryDisabledLanes|=f,Rs|=f,c=4;break e}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Da(t,0),br(t,n,0,!0);break}e:{switch(o=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:br(o,n,Rn,!Er);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xf+300-pn(),10<c)){if(br(o,n,Rn,!Er),Ys(o,0,!0)!==0)break e;o.timeoutHandle=Qy(vy.bind(null,o,s,tn,tc,Kf,n,Rn,Rs,Ra,Er,f,2,-0,0),c);break e}vy(o,s,tn,tc,Kf,n,Rn,Rs,Ra,Er,f,0,-0,0)}}break}while(!0);si(t)}function vy(t,n,s,o,c,f,v,E,I,j,$,J,H,G){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:IA},fy(n),J=NA(),J!==null)){t.cancelPendingCommit=J(Ry.bind(null,t,n,f,s,o,c,v,E,I,$,1,H,G)),br(t,f,v,!j);return}Ry(t,n,f,s,o,c,v,E,I)}function QT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function br(t,n,s,o){n&=~Qf,n&=~Rs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var f=31-Bt(c),v=1<<f;o[f]=-1,c&=~v}s!==0&&Gn(t,s,n)}function nc(){return(He&6)===0?(tl(0),!1):!0}function Jf(){if(De!==null){if(qe===0)var t=De.return;else t=De,Di=Es=null,gf(t),Ta=null,Fo=0,t=De;for(;t!==null;)Zg(t.alternate,t),t=t.return;De=null}}function Da(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Jf(),$e=t,De=s=Ri(t.current,null),Ve=n,qe=0,fn=null,Er=!1,wa=Zr(t,n),Yf=!1,Ra=Rn=Qf=Rs=Tr=at=0,tn=Jo=null,Kf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-Bt(o),f=1<<c;n|=t[c],o&=~f}return Ui=n,bu(),s}function Ey(t,n){Re=null,q.H=qu,n===Po||n===Mu?(n=Up(),qe=3):n===kp?(n=Up(),qe=4):qe=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,De===null&&(at=1,Ku(t,Tn(n,t.current)))}function Ty(){var t=q.H;return q.H=qu,t===null?qu:t}function Ay(){var t=q.A;return q.A=FT,t}function ed(){at=4,Er||(Ve&4194048)!==Ve&&wn.current!==null||(wa=!0),(Tr&134217727)===0&&(Rs&134217727)===0||$e===null||br($e,Ve,Rn,!1)}function td(t,n,s){var o=He;He|=2;var c=Ty(),f=Ay();($e!==t||Ve!==n)&&(tc=null,Da(t,n)),n=!1;var v=at;e:do try{if(qe!==0&&De!==null){var E=De,I=fn;switch(qe){case 8:Jf(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var j=qe;if(qe=0,fn=null,Na(t,E,I,j),s&&wa){v=0;break e}break;default:j=qe,qe=0,fn=null,Na(t,E,I,j)}}KT(),v=at;break}catch($){Ey(t,$)}while(!0);return n&&t.shellSuspendCounter++,Di=Es=null,He=o,q.H=c,q.A=f,De===null&&($e=null,Ve=0,bu()),v}function KT(){for(;De!==null;)Sy(De)}function XT(t,n){var s=He;He|=2;var o=Ty(),c=Ay();$e!==t||Ve!==n?(tc=null,ec=pn()+500,Da(t,n)):wa=Zr(t,n);e:do try{if(qe!==0&&De!==null){n=De;var f=fn;t:switch(qe){case 1:qe=0,fn=null,Na(t,n,f,1);break;case 2:case 9:if(Vp(f)){qe=0,fn=null,by(n);break}n=function(){qe!==2&&qe!==9||$e!==t||(qe=7),si(t)},f.then(n,n);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Vp(f)?(qe=0,fn=null,by(n)):(qe=0,fn=null,Na(t,n,f,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var E=De;if(!v||s_(v)){qe=0,fn=null;var I=E.sibling;if(I!==null)De=I;else{var j=E.return;j!==null?(De=j,ic(j)):De=null}break t}}qe=0,fn=null,Na(t,n,f,5);break;case 6:qe=0,fn=null,Na(t,n,f,6);break;case 8:Jf(),at=6;break e;default:throw Error(a(462))}}$T();break}catch($){Ey(t,$)}while(!0);return Di=Es=null,q.H=o,q.A=c,He=s,De!==null?0:($e=null,Ve=0,bu(),at)}function $T(){for(;De!==null&&!ro();)Sy(De)}function Sy(t){var n=$g(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?ic(t):De=n}function by(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Gg(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Gg(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:gf(n);default:Zg(s,n),n=De=wp(n,Ui),n=$g(s,n,Ui)}t.memoizedProps=t.pendingProps,n===null?ic(t):De=n}function Na(t,n,s,o){Di=Es=null,gf(n),Ta=null,Fo=0;var c=n.return;try{if(jT(t,c,n,s,Ve)){at=1,Ku(t,Tn(s,t.current)),De=null;return}}catch(f){if(c!==null)throw De=c,f;at=1,Ku(t,Tn(s,t.current)),De=null;return}n.flags&32768?(Le||o===1?t=!0:wa||(Ve&536870912)!==0?t=!1:(Er=t=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,t)):ic(n)}function ic(t){var n=t;do{if((n.flags&32768)!==0){wy(n,Er);return}t=n.return;var s=BT(n.alternate,n,Ui);if(s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);at===0&&(at=5)}function wy(t,n){do{var s=HT(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);at=6,De=null}function Ry(t,n,s,o,c,f,v,E,I){t.cancelPendingCommit=null;do rc();while(Vt!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,co(t,s,f,v,E,I),t===$e&&(De=$e=null,Ve=0),Ca=n,Sr=t,Ia=s,$f=f,Wf=c,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(Kr,function(){return Oy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=ne.p,ne.p=2,v=He,He|=4;try{qT(t,n,s)}finally{He=v,ne.p=c,q.T=o}}Vt=1,Cy(),Iy(),Dy()}}function Cy(){if(Vt===1){Vt=0;var t=Sr,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var c=He;He|=4;try{uy(n,t);var f=dd,v=pp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&mp(E.ownerDocument.documentElement,E)){if(I!==null&&jh(E)){var j=I.start,$=I.end;if($===void 0&&($=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min($,E.value.length);else{var J=E.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),Te=E.textContent.length,ye=Math.min(I.start,Te),Qe=I.end===void 0?ye:Math.min(I.end,Te);!G.extend&&ye>Qe&&(v=Qe,Qe=ye,ye=v);var V=dp(E,ye),x=dp(E,Qe);if(V&&x&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var L=J.createRange();L.setStart(V.node,V.offset),G.removeAllRanges(),ye>Qe?(G.addRange(L),G.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),G.addRange(L))}}}}for(J=[],G=E;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var W=J[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}gc=!!fd,dd=fd=null}finally{He=c,ne.p=o,q.T=s}}t.current=n,Vt=2}}function Iy(){if(Vt===2){Vt=0;var t=Sr,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=ne.p;ne.p=2;var c=He;He|=4;try{sy(t,n.alternate,n)}finally{He=c,ne.p=o,q.T=s}}Vt=3}}function Dy(){if(Vt===4||Vt===3){Vt=0,Jl();var t=Sr,n=Ca,s=Ia,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Ca=Sr=null,Ny(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ar=null),Qs(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=ne.p,ne.p=2,q.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ne.p=c}}(Ia&3)!==0&&rc(),si(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Zf?el++:(el=0,Zf=t):el=0,tl(0)}}function Ny(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ko(n)))}function rc(t){return Cy(),Iy(),Dy(),Oy()}function Oy(){if(Vt!==5)return!1;var t=Sr,n=$f;$f=0;var s=Qs(Ia),o=q.T,c=ne.p;try{ne.p=32>s?32:s,q.T=null,s=Wf,Wf=null;var f=Sr,v=Ia;if(Vt=0,Ca=Sr=null,Ia=0,(He&6)!==0)throw Error(a(331));var E=He;if(He|=4,my(f.current),hy(f,f.current,v,s),He=E,tl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(rt,f)}catch{}return!0}finally{ne.p=c,q.T=o,Ny(t,n)}}function xy(t,n,s){n=Tn(s,n),n=Nf(t.stateNode,n,2),t=dr(t,n,2),t!==null&&(pi(t,2),si(t))}function Ke(t,n,s){if(t.tag===3)xy(t,t,s);else for(;n!==null;){if(n.tag===3){xy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ar===null||!Ar.has(o))){t=Tn(s,t),s=Pg(2),o=dr(n,s,2),o!==null&&(Ug(s,o,n,t),pi(o,2),si(o));break}}n=n.return}}function nd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new YT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Yf=!0,c.add(s),t=WT.bind(null,t,n,s),n.then(t,t))}function WT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$e===t&&(Ve&s)===s&&(at===4||at===3&&(Ve&62914560)===Ve&&300>pn()-Xf?(He&2)===0&&Da(t,0):Qf|=s,Ra===Ve&&(Ra=0)),si(t)}function My(t,n){n===0&&(n=uo()),t=ha(t,n),t!==null&&(pi(t,n),si(t))}function ZT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),My(t,s)}function JT(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(t,s)}function eA(t,n){return Yr(t,n)}var sc=null,Oa=null,id=!1,ac=!1,rd=!1,Cs=0;function si(t){t!==Oa&&t.next===null&&(Oa===null?sc=Oa=t:Oa=Oa.next=t),ac=!0,id||(id=!0,nA())}function tl(t,n){if(!rd&&ac){rd=!0;do for(var s=!1,o=sc;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Bt(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Uy(o,f))}else f=Ve,f=Ys(o,o===$e?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zr(o,f)||(s=!0,Uy(o,f));o=o.next}while(s);rd=!1}}function tA(){ky()}function ky(){ac=id=!1;var t=0;Cs!==0&&(cA()&&(t=Cs),Cs=0);for(var n=pn(),s=null,o=sc;o!==null;){var c=o.next,f=Vy(o,n);f===0?(o.next=null,s===null?sc=c:s.next=c,c===null&&(Oa=s)):(s=o,(t!==0||(f&3)!==0)&&(ac=!0)),o=c}tl(t)}function Vy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Bt(f),E=1<<v,I=c[v];I===-1?((E&s)===0||(E&o)!==0)&&(c[v]=oo(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=$e,s=Ve,s=Ys(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Qr(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Zr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Qr(o),Qs(s)){case 2:case 8:s=Gs;break;case 32:s=Kr;break;case 268435456:s=Fs;break;default:s=Kr}return o=Py.bind(null,t),s=Yr(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Qr(o),t.callbackPriority=2,t.callbackNode=null,2}function Py(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(rc()&&t.callbackNode!==s)return null;var o=Ve;return o=Ys(t,t===$e?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(_y(t,o,n),Vy(t,pn()),t.callbackNode!=null&&t.callbackNode===s?Py.bind(null,t):null)}function Uy(t,n){if(rc())return null;_y(t,n,!0)}function nA(){fA(function(){(He&6)!==0?Yr(so,tA):ky()})}function sd(){return Cs===0&&(Cs=lo()),Cs}function Ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function jy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function iA(t,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ly((c[ft]||null).action),v=o.submitter;v&&(n=(n=v[ft]||null)?Ly(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new ea("action","action",null,o,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cs!==0){var I=v?jy(c,v):new FormData(c);wf(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=v?jy(c,v):new FormData(c),wf(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var ad=0;ad<qh.length;ad++){var od=qh[ad],rA=od.toLowerCase(),sA=od[0].toUpperCase()+od.slice(1);xn(rA,"on"+sA)}xn(_p,"onAnimationEnd"),xn(vp,"onAnimationIteration"),xn(Ep,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(AT,"onTransitionRun"),xn(ST,"onTransitionStart"),xn(bT,"onTransitionCancel"),xn(Tp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function zy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],c=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=j;try{f(c)}catch($){Qu($)}c.currentTarget=null,f=I}else for(v=0;v<o.length;v++){if(E=o[v],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=j;try{f(c)}catch($){Qu($)}c.currentTarget=null,f=I}}}}function Ne(t,n){var s=n[fo];s===void 0&&(s=n[fo]=new Set);var o=t+"__bubble";s.has(o)||(By(n,t,2,!1),s.add(o))}function ld(t,n,s){var o=0;n&&(o|=4),By(s,t,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[oc]){t[oc]=!0,mo.forEach(function(s){s!=="selectionchange"&&(aA.has(s)||ld(s,!1,t),ld(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,ld("selectionchange",!1,n))}}function By(t,n,s,o){switch(h_(n)){case 2:var c=MA;break;case 8:c=kA;break;default:c=Sd}s=c.bind(null,n,s,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function cd(t,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=gi(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=f=v;continue e}E=E.parentNode}}o=o.return}uu(function(){var j=f,$=_n(s),J=[];e:{var H=Ap.get(t);if(H!==void 0){var G=ea,Te=t;switch(t){case"keypress":if($n(s)===0)break e;case"keydown":case"keyup":G=aa;break;case"focusin":Te="focus",G=ia;break;case"focusout":Te="blur",G=ia;break;case"beforeblur":case"afterblur":G=ia;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=yu;break;case _p:case vp:case Ep:G=ra;break;case Tp:G=vu;break;case"scroll":case"scrollend":G=cu;break;case"wheel":G=oa;break;case"copy":case"cut":case"paste":G=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ro;break;case"toggle":case"beforetoggle":G=Tu}var ye=(n&4)!==0,Qe=!ye&&(t==="scroll"||t==="scrollend"),V=ye?H!==null?H+"Capture":null:H;ye=[];for(var x=j,L;x!==null;){var W=x;if(L=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||L===null||V===null||(W=as(x,V),W!=null&&ye.push(il(x,W,L))),Qe)break;x=x.return}0<ye.length&&(H=new G(H,Te,null,s,$),J.push({event:H,listeners:ye}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&s!==Ei&&(Te=s.relatedTarget||s.fromElement)&&(gi(Te)||Te[gn]))break e;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Te=s.relatedTarget||s.toElement,G=j,Te=Te?gi(Te):null,Te!==null&&(Qe=h(Te),ye=Te.tag,Te!==Qe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(G=null,Te=j),G!==Te)){if(ye=En,W="onMouseLeave",V="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ro,W="onPointerLeave",V="onPointerEnter",x="pointer"),Qe=G==null?H:Yn(G),L=Te==null?H:Yn(Te),H=new ye(W,x+"leave",G,s,$),H.target=Qe,H.relatedTarget=L,W=null,gi($)===j&&(ye=new ye(V,x+"enter",Te,s,$),ye.target=L,ye.relatedTarget=Qe,W=ye),Qe=W,G&&Te)t:{for(ye=G,V=Te,x=0,L=ye;L;L=xa(L))x++;for(L=0,W=V;W;W=xa(W))L++;for(;0<x-L;)ye=xa(ye),x--;for(;0<L-x;)V=xa(V),L--;for(;x--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=xa(ye),V=xa(V)}ye=null}else ye=null;G!==null&&Hy(J,H,G,ye,!1),Te!==null&&Qe!==null&&Hy(J,Qe,Te,ye,!0)}}e:{if(H=j?Yn(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ce=op;else if(Tt(H))if(lp)ce=vT;else{ce=yT;var Ie=gT}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&vo(j.elementType)&&(ce=op):ce=_T;if(ce&&(ce=ce(t,j))){wi(J,ce,s,$);break e}Ie&&Ie(t,H,j),t==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&lr(H,"number",H.value)}switch(Ie=j?Yn(j):window,t){case"focusin":(Tt(Ie)||Ie.contentEditable==="true")&&(la=Ie,zh=j,Do=null);break;case"focusout":Do=zh=la=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,gp(J,s,$);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":gp(J,s,$)}var de;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?Y(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(_&&s.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(de=To()):(Xn=$,ur="value"in Xn?Xn.value:Xn.textContent,Me=!0)),Ie=lc(j,_e),0<Ie.length&&(_e=new bo(_e,t,null,s,$),J.push({event:_e,listeners:Ie}),de?_e.data=de:(de=ae(s),de!==null&&(_e.data=de)))),(de=m?Et(t,s):ke(t,s))&&(_e=lc(j,"onBeforeInput"),0<_e.length&&(Ie=new bo("onBeforeInput","beforeinput",null,s,$),J.push({event:Ie,listeners:_e}),Ie.data=de)),iA(J,t,j,s,$)}zy(J,n)})}function il(t,n,s){return{instance:t,listener:n,currentTarget:s}}function lc(t,n){for(var s=n+"Capture",o=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=as(t,s),c!=null&&o.unshift(il(t,c,f)),c=as(t,n),c!=null&&o.push(il(t,c,f))),t.tag===3)return o;t=t.return}return[]}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hy(t,n,s,o,c){for(var f=n._reactName,v=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,c?(j=as(s,f),j!=null&&v.unshift(il(s,j,I))):c||(j=as(s,f),j!=null&&v.push(il(s,j,I)))),s=s.return}v.length!==0&&t.push({event:n,listeners:v})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function Gy(t,n){return n=qy(n),qy(t)===n}function uc(){}function Ye(t,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":Qn(t,"class",o);break;case"tabIndex":Qn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,s,o);break;case"style":_o(t,o,f);break;case"data":if(n!=="object"){Qn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Js(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ye(t,n,"name",c.name,c,null),Ye(t,n,"formEncType",c.formEncType,c,null),Ye(t,n,"formMethod",c.formMethod,c,null),Ye(t,n,"formTarget",c.formTarget,c,null)):(Ye(t,n,"encType",c.encType,c,null),Ye(t,n,"method",c.method,c,null),Ye(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Js(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=uc);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Js(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),or(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":or(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mh.get(s)||s,or(t,s,o))}}function hd(t,n,s,o,c,f){switch(s){case"style":_o(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Ne("scroll",t);break;case"onScrollEnd":o!=null&&Ne("scrollend",t);break;case"onClick":o!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,c);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):or(t,s,o)}}}function Pt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,f,v,s,null)}}c&&Ye(t,n,"srcSet",s.srcSet,s,null),o&&Ye(t,n,"src",s.src,s,null);return;case"input":Ne("invalid",t);var E=f=v=c=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":c=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":j=$;break;case"value":f=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:Ye(t,n,o,$,s,null)}}is(t,f,E,I,j,v,c,!1),Zs(t);return;case"select":Ne("invalid",t),o=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Ye(t,n,c,E,s,null)}n=f,s=v,t.multiple=!!o,n!=null?vi(t,!!o,n,!1):s!=null&&vi(t,!!o,s,!0);return;case"textarea":Ne("invalid",t),f=c=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ye(t,n,v,E,s,null)}rs(t,o,c,f),Zs(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,n,I,o,s,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ne(nl[o],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,j,o,s,null)}return;default:if(vo(n)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&hd(t,n,$,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Ye(t,n,E,o,s,null))}function uA(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,I=null,j=null,$=null;for(G in s){var J=s[G];if(s.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(G)||Ye(t,n,G,null,o,J)}}for(var H in o){var G=o[H];if(J=s[H],o.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":f=G;break;case"name":c=G;break;case"checked":j=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==J&&Ye(t,n,H,G,o,J)}}on(t,v,E,I,j,$,f,c);return;case"select":G=v=E=H=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:o.hasOwnProperty(f)||Ye(t,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==I&&Ye(t,n,c,f,o,I)}n=E,s=v,o=G,H!=null?vi(t,!!s,H,!1):!!o!=!!s&&(n!=null?vi(t,!!s,n,!0):vi(t,!!s,s?[]:"",!1));return;case"textarea":G=H=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,n,E,null,o,c)}for(v in o)if(c=o[v],f=s[v],o.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":H=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ye(t,n,v,c,o,f)}Ge(t,H,G);return;case"option":for(var Te in s)if(H=s[Te],s.hasOwnProperty(Te)&&H!=null&&!o.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ye(t,n,Te,null,o,H)}for(I in o)if(H=o[I],G=s[I],o.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(t,n,I,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)H=s[ye],s.hasOwnProperty(ye)&&H!=null&&!o.hasOwnProperty(ye)&&Ye(t,n,ye,null,o,H);for(j in o)if(H=o[j],G=s[j],o.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ye(t,n,j,H,o,G)}return;default:if(vo(n)){for(var Qe in s)H=s[Qe],s.hasOwnProperty(Qe)&&H!==void 0&&!o.hasOwnProperty(Qe)&&hd(t,n,Qe,void 0,o,H);for($ in o)H=o[$],G=s[$],!o.hasOwnProperty($)||H===G||H===void 0&&G===void 0||hd(t,n,$,H,o,G);return}}for(var V in s)H=s[V],s.hasOwnProperty(V)&&H!=null&&!o.hasOwnProperty(V)&&Ye(t,n,V,null,o,H);for(J in o)H=o[J],G=s[J],!o.hasOwnProperty(J)||H===G||H==null&&G==null||Ye(t,n,J,H,o,G)}var fd=null,dd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Fy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(dA)}:Qy;function dA(t){setTimeout(function(){throw t})}function wr(t){return t==="head"}function Xy(t,n){var s=n,o=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&rl(v.documentElement),s&2&&rl(v.body),s&4)for(s=v.head,rl(s),v=s.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[Jr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(c===0){t.removeChild(f),fl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);fl(n)}function gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ar(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function mA(t,n,s,o){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function pA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=kn(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function gA(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _d=null;function $y(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Wy(t,n,s){switch(n=cc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ar(t)}var Cn=new Map,Zy=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ne.d;ne.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:AA,X:bA,S:SA,M:wA};function yA(){var t=Li.f(),n=nc();return t||n}function _A(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?_g(n):Li.r(t)}var Ma=typeof document>"u"?null:document;function Jy(t,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var c=dt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Zy.has(c)||(Zy.add(c),t={rel:t,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Pt(n,"link",t),lt(n),o.head.appendChild(n)))}}function vA(t){Li.D(t),Jy("dns-prefetch",t,null)}function EA(t,n){Li.C(t,n),Jy("preconnect",t,n)}function TA(t,n,s){Li.L(t,n,s);var o=Ma;if(o&&t&&n){var c='link[rel="preload"][as="'+dt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+dt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+dt(s.imageSizes)+'"]')):c+='[href="'+dt(t)+'"]';var f=c;switch(n){case"style":f=ka(t);break;case"script":f=Va(t)}Cn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Cn.set(f,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),Pt(n,"link",t),lt(n),o.head.appendChild(n)))}}function AA(t,n){Li.m(t,n);var s=Ma;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(t)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(t)}if(!Cn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Cn.set(f,t),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),Pt(o,"link",t),lt(o),s.head.appendChild(o)}}}function SA(t,n,s){Li.S(t,n,s);var o=Ma;if(o&&t){var c=Xt(o).hoistableStyles,f=ka(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(sl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Cn.get(f))&&vd(t,s);var I=v=o.createElement("link");lt(I),Pt(I,"link",t),I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function bA(t,n){Li.X(t,n);var s=Ma;if(s&&t){var o=Xt(s).hoistableScripts,c=Va(t),f=o.get(c);f||(f=s.querySelector(al(c)),f||(t=T({src:t,async:!0},n),(n=Cn.get(c))&&Ed(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function wA(t,n){Li.M(t,n);var s=Ma;if(s&&t){var o=Xt(s).hoistableScripts,c=Va(t),f=o.get(c);f||(f=s.querySelector(al(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Ed(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function e_(t,n,s,o){var c=(c=Ae.current)?hc(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=Xt(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ka(s.href);var f=Xt(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(sl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(t,s),f||RA(c,t,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=Xt(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ka(t){return'href="'+dt(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function t_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pt(n,"link",s),lt(n),t.head.appendChild(n))}function Va(t){return'[src="'+dt(t)+'"]'}function al(t){return"script[async]"+t}function n_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dt(s.href)+'"]');if(o)return n.instance=o,lt(o),o;var c=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),lt(o),Pt(o,"style",c),fc(o,s.precedence,t),n.instance=o;case"stylesheet":c=ka(s.href);var f=t.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;o=t_(s),(c=Cn.get(c))&&vd(o,c),f=(t.ownerDocument||t).createElement("link"),lt(f);var v=f;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Pt(f,"link",o),n.state.loading|=4,fc(f,s.precedence,t),n.instance=f;case"script":return f=Va(s.src),(c=t.querySelector(al(f)))?(n.instance=c,lt(c),c):(o=s,(c=Cn.get(f))&&(o=T({},s),Ed(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),lt(c),Pt(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,t));return n.instance}function fc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var dc=null;function i_(t,n,s){if(dc===null){var o=new Map,c=dc=new Map;c.set(s,o)}else c=dc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Jr]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function r_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function CA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ol=null;function IA(){}function DA(t,n,s){if(ol===null)throw Error(a(475));var o=ol;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ka(s.href),f=t.querySelector(sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=mc.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=f,lt(f);return}f=t.ownerDocument||t,s=t_(s),(c=Cn.get(c))&&vd(s,c),f=f.createElement("link"),lt(f);var v=f;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Pt(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=mc.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function NA(){if(ol===null)throw Error(a(475));var t=ol;return t.stylesheets&&t.count===0&&Td(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Td(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function Td(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(OA,t),pc=null,mc.call(t))}function OA(t,n){if(!(n.state.loading&4)){var s=pc.get(t);if(s)var o=s.get(null);else{s=new Map,pc.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}c=n.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,c),s.set(v,c),this.count++,o=mc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xA(t,n,s,o,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function a_(t,n,s,o,c,f,v,E,I,j,$,J){return t=new xA(t,n,s,v,E,I,j,J),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),t}function o_(t){return t?(t=fa,t):fa}function l_(t,n,s,o,c,f){c=o_(c),o.context===null?o.context=c:o.pendingContext=c,o=fr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=dr(t,o,n),s!==null&&(mn(s,t,n),Lo(s,t,n))}function u_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ad(t,n){u_(t,n),(t=t.alternate)&&u_(t,n)}function c_(t){if(t.tag===13){var n=ha(t,67108864);n!==null&&mn(n,t,67108864),Ad(t,67108864)}}var gc=!0;function MA(t,n,s,o){var c=q.T;q.T=null;var f=ne.p;try{ne.p=2,Sd(t,n,s,o)}finally{ne.p=f,q.T=c}}function kA(t,n,s,o){var c=q.T;q.T=null;var f=ne.p;try{ne.p=8,Sd(t,n,s,o)}finally{ne.p=f,q.T=c}}function Sd(t,n,s,o){if(gc){var c=bd(o);if(c===null)cd(t,n,o,yc,s),f_(t,o);else if(PA(c,t,n,s,o))o.stopPropagation();else if(f_(t,o),n&4&&-1<VA.indexOf(t)){for(;c!==null;){var f=Fn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Bt(v);E.entanglements[1]|=I,v&=~I}si(f),(He&6)===0&&(ec=pn()+500,tl(0))}}break;case 13:E=ha(f,2),E!==null&&mn(E,f,2),nc(),Ad(f,2)}if(f=bd(o),f===null&&cd(t,n,o,yc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else cd(t,n,o,null,s)}}function bd(t){return t=_n(t),wd(t)}var yc=null;function wd(t){if(yc=null,t=gi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yc=t,null}function h_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case so:return 2;case Gs:return 8;case Kr:case Ih:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Rd=!1,Rr=null,Cr=null,Ir=null,ul=new Map,cl=new Map,Dr=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(t,n){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(t,n,s,o,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Fn(n),n!==null&&c_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function PA(t,n,s,o,c){switch(n){case"focusin":return Rr=hl(Rr,t,n,s,o,c),!0;case"dragenter":return Cr=hl(Cr,t,n,s,o,c),!0;case"mouseover":return Ir=hl(Ir,t,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ul.set(f,hl(ul.get(f)||null,t,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,cl.set(f,hl(cl.get(f)||null,t,n,s,o,c)),!0}return!1}function d_(t){var n=gi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,nu(t.priority,function(){if(s.tag===13){var o=dn();o=ir(o);var c=ha(s,o);c!==null&&mn(c,s,o),Ad(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=bd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ei=o,s.target.dispatchEvent(o),Ei=null}else return n=Fn(s),n!==null&&c_(n),t.blockedOn=s,!1;n.shift()}return!0}function m_(t,n,s){_c(t)&&s.delete(n)}function UA(){Rd=!1,Rr!==null&&_c(Rr)&&(Rr=null),Cr!==null&&_c(Cr)&&(Cr=null),Ir!==null&&_c(Ir)&&(Ir=null),ul.forEach(m_),cl.forEach(m_)}function vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var Ec=null;function p_(t){Ec!==t&&(Ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=Fn(s);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function fl(t){function n(I){return vc(I,t)}Rr!==null&&vc(Rr,t),Cr!==null&&vc(Cr,t),Ir!==null&&vc(Ir,t),ul.forEach(n),cl.forEach(n);for(var s=0;s<Dr.length;s++){var o=Dr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Dr.length&&(s=Dr[0],s.blockedOn===null);)d_(s),s.blockedOn===null&&Dr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],v=c[ft]||null;if(typeof f=="function")v||p_(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ft]||null)E=v.formAction;else if(wd(c)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),p_(s)}}}function Cd(t){this._internalRoot=t}Tc.prototype.render=Cd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=dn();l_(s,o,t,n,null,null)},Tc.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;l_(t.current,2,null,t,null,null),nc(),n[gn]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=rr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Dr.length&&n!==0&&n<Dr[s].priority;s++);Dr.splice(s,0,t),s===0&&d_(t)}};var g_=e.version;if(g_!=="19.1.1")throw Error(a(527,g_,"19.1.1"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var LA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{rt=Ac.inject(LA),Be=Ac}catch{}}return ml.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",c=xg,f=Mg,v=kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=a_(t,1,!1,null,null,s,o,c,f,v,E,null),t[gn]=n.current,ud(t),new Cd(n)},ml.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,c="",f=xg,v=Mg,E=kg,I=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),n=a_(t,1,!0,n,s??null,o,c,f,v,E,I,j),n.context=o_(null),s=n.current,o=dn(),o=ir(o),c=fr(o),c.callback=null,dr(s,c,o),s=o,n.current.lanes=s,pi(n,s),si(n),t[gn]=n.current,ud(t),new Tc(n)},ml.version="19.1.1",ml}var C_;function nS(){if(C_)return Od.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=tS(),Od.exports}var iS=nS();const rS=QA(iS);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var I_="popstate";function sS(r={}){function e(a,l){let{pathname:h,search:d,hash:p}=a.location;return Xd("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Il(l)}return oS(e,i,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ui(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function D_(r,e){return{usr:r.state,key:r.key,idx:e}}function Xd(r,e,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:i,key:e&&e.key||a||aS()}}function Il({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Wa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function oS(r,e,i,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,d=l.history,p="POP",y=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function R(){p="POP";let F=T(),X=F==null?null:F-g;g=F,y&&y({action:p,location:z.location,delta:X})}function b(F,X){p="PUSH";let se=Xd(z.location,F,X);g=T()+1;let re=D_(se,g),me=z.createHref(se);try{d.pushState(re,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(me)}h&&y&&y({action:p,location:z.location,delta:1})}function K(F,X){p="REPLACE";let se=Xd(z.location,F,X);g=T();let re=D_(se,g),me=z.createHref(se);d.replaceState(re,"",me),h&&y&&y({action:p,location:z.location,delta:0})}function Q(F){return lS(F)}let z={get action(){return p},get location(){return r(l,d)},listen(F){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(I_,R),y=F,()=>{l.removeEventListener(I_,R),y=null}},createHref(F){return e(l,F)},createURL:Q,encodeLocation(F){let X=Q(F);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:b,replace:K,go(F){return d.go(F)}};return z}function lS(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),it(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Il(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Wv(r,e,i="/"){return uS(r,e,i,!1)}function uS(r,e,i,a){let l=typeof e=="string"?Wa(e):e,h=$i(l.pathname||"/",i);if(h==null)return null;let d=Zv(r);cS(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let g=TS(h);p=vS(d[y],g,a)}return p}function Zv(r,e=[],i=[],a=""){let l=(h,d,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(it(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let g=Fi([a,y.relativePath]),T=i.concat(y);h.children&&h.children.length>0&&(it(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Zv(h.children,e,T,g)),!(h.path==null&&!h.index)&&e.push({path:g,score:yS(g,h.index),routesMeta:T})};return r.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))l(h,d);else for(let p of Jv(h.path))l(h,d,p)}),e}function Jv(r){let e=r.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),h=i.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let d=Jv(a.join("/")),p=[];return p.push(...d.map(y=>y===""?h:[h,y].join("/"))),l&&p.push(...d),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function cS(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:_S(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var hS=/^:[\w-]+$/,fS=3,dS=2,mS=1,pS=10,gS=-2,N_=r=>r==="*";function yS(r,e){let i=r.split("/"),a=i.length;return i.some(N_)&&(a+=gS),e&&(a+=dS),i.filter(l=>!N_(l)).reduce((l,h)=>l+(hS.test(h)?fS:h===""?mS:pS),a)}function _S(r,e){return r.length===e.length&&r.slice(0,-1).every((a,l)=>a===e[l])?r[r.length-1]-e[e.length-1]:0}function vS(r,e,i=!1){let{routesMeta:a}=r,l={},h="/",d=[];for(let p=0;p<a.length;++p){let y=a[p],g=p===a.length-1,T=h==="/"?e:e.slice(h.length)||"/",R=Gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),b=y.route;if(!R&&g&&i&&!a[a.length-1].route.index&&(R=Gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!R)return null;Object.assign(l,R.params),d.push({params:l,pathname:Fi([h,R.pathname]),pathnameBase:wS(Fi([h,R.pathnameBase])),route:b}),R.pathnameBase!=="/"&&(h=Fi([h,R.pathnameBase]))}return d}function Gc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=ES(r.path,r.caseSensitive,r.end),l=e.match(i);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:R},b)=>{if(T==="*"){let Q=p[b]||"";d=h.slice(0,h.length-Q.length).replace(/(.)\/+$/,"$1")}const K=p[b];return R&&!K?g[T]=void 0:g[T]=(K||"").replace(/%2F/g,"/"),g},{}),pathname:h,pathnameBase:d,pattern:r}}function ES(r,e=!1,i=!0){ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(a.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function TS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function AS(r,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof r=="string"?Wa(r):r;return{pathname:i?i.startsWith("/")?i:SS(i,e):e,search:RS(a),hash:CS(l)}}function SS(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Vd(r,e,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bS(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function eE(r){let e=bS(r);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function tE(r,e,i,a=!1){let l;typeof r=="string"?l=Wa(r):(l={...r},it(!l.pathname||!l.pathname.includes("?"),Vd("?","pathname","search",l)),it(!l.pathname||!l.pathname.includes("#"),Vd("#","pathname","hash",l)),it(!l.search||!l.search.includes("#"),Vd("#","search","hash",l)));let h=r===""||l.pathname==="",d=h?"/":l.pathname,p;if(d==null)p=i;else{let R=e.length-1;if(!a&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),R-=1;l.pathname=b.join("/")}p=R>=0?e[R]:"/"}let y=AS(l,p),g=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var Fi=r=>r.join("/").replace(/\/\/+/g,"/"),wS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function IS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var nE=["POST","PUT","PATCH","DELETE"];new Set(nE);var DS=["GET",...nE];new Set(DS);var Za=B.createContext(null);Za.displayName="DataRouter";var hh=B.createContext(null);hh.displayName="DataRouterState";B.createContext(!1);var iE=B.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var NS=B.createContext(new Map);NS.displayName="Fetchers";var OS=B.createContext(null);OS.displayName="Await";var fi=B.createContext(null);fi.displayName="Navigation";var Ul=B.createContext(null);Ul.displayName="Location";var Ji=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Tm=B.createContext(null);Tm.displayName="RouteError";function xS(r,{relative:e}={}){it(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=B.useContext(fi),{hash:l,pathname:h,search:d}=jl(r,{relative:e}),p=h;return i!=="/"&&(p=h==="/"?i:Fi([i,h])),a.createHref({pathname:p,search:d,hash:l})}function Ll(){return B.useContext(Ul)!=null}function er(){return it(Ll(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ul).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(r){B.useContext(fi).static||B.useLayoutEffect(r)}function fh(){let{isDataRoute:r}=B.useContext(Ji);return r?FS():MS()}function MS(){it(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Za),{basename:e,navigator:i}=B.useContext(fi),{matches:a}=B.useContext(Ji),{pathname:l}=er(),h=JSON.stringify(eE(a)),d=B.useRef(!1);return sE(()=>{d.current=!0}),B.useCallback((y,g={})=>{if(ui(d.current,rE),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=tE(y,JSON.parse(h),l,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Fi([e,T.pathname])),(g.replace?i.replace:i.push)(T,g.state,g)},[e,i,h,l,r])}B.createContext(null);function jl(r,{relative:e}={}){let{matches:i}=B.useContext(Ji),{pathname:a}=er(),l=JSON.stringify(eE(i));return B.useMemo(()=>tE(r,JSON.parse(l),a,e==="path"),[r,l,a,e])}function kS(r,e){return aE(r,e)}function aE(r,e,i,a){it(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(fi),{matches:h}=B.useContext(Ji),d=h[h.length-1],p=d?d.params:{},y=d?d.pathname:"/",g=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";oE(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=er(),b;if(e){let X=typeof e=="string"?Wa(e):e;it(g==="/"||X.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),b=X}else b=R;let K=b.pathname||"/",Q=K;if(g!=="/"){let X=g.replace(/^\//,"").split("/");Q="/"+K.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=Wv(r,{pathname:Q});ui(T||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ui(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=jS(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Fi([g,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:Fi([g,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,i,a);return e&&F?B.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},F):F}function VS(){let r=GS(),e=IS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:h},"ErrorBoundary")," or"," ",B.createElement("code",{style:h},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:l},i):null,d)}var PS=B.createElement(VS,null),US=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Ji.Provider,{value:this.props.routeContext},B.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LS({routeContext:r,match:e,children:i}){let a=B.useContext(Za);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ji.Provider,{value:r},i)}function jS(r,e=[],i=null,a=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,h=i?.errors;if(h!=null){let y=l.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);it(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(i)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:T,errors:R}=i,b=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!R||R[g.route.id]===void 0);if(g.route.lazy||b){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,g,T)=>{let R,b=!1,K=null,Q=null;i&&(R=h&&g.route.id?h[g.route.id]:void 0,K=g.route.errorElement||PS,d&&(p<0&&T===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,Q=null):p===T&&(b=!0,Q=g.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,T+1)),F=()=>{let X;return R?X=K:b?X=Q:g.route.Component?X=B.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=y,B.createElement(LS,{match:g,routeContext:{outlet:y,matches:z,isDataRoute:i!=null},children:X})};return i&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?B.createElement(US,{location:i.location,revalidation:i.revalidation,component:K,error:R,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):F()},null)}function Am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(r){let e=B.useContext(Za);return it(e,Am(r)),e}function BS(r){let e=B.useContext(hh);return it(e,Am(r)),e}function HS(r){let e=B.useContext(Ji);return it(e,Am(r)),e}function Sm(r){let e=HS(r),i=e.matches[e.matches.length-1];return it(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function qS(){return Sm("useRouteId")}function GS(){let r=B.useContext(Tm),e=BS("useRouteError"),i=Sm("useRouteError");return r!==void 0?r:e.errors?.[i]}function FS(){let{router:r}=zS("useNavigate"),e=Sm("useNavigate"),i=B.useRef(!1);return sE(()=>{i.current=!0}),B.useCallback(async(l,h={})=>{ui(i.current,rE),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...h}))},[r,e])}var O_={};function oE(r,e,i){!e&&!O_[r]&&(O_[r]=!0,ui(!1,i))}B.memo(YS);function YS({routes:r,future:e,state:i}){return aE(r,void 0,i,e)}function ji(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QS({basename:r="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:h=!1}){it(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:l,static:h,future:{}}),[d,l,h]);typeof i=="string"&&(i=Wa(i));let{pathname:y="/",search:g="",hash:T="",state:R=null,key:b="default"}=i,K=B.useMemo(()=>{let Q=$i(y,d);return Q==null?null:{location:{pathname:Q,search:g,hash:T,state:R,key:b},navigationType:a}},[d,y,g,T,R,b,a]);return ui(K!=null,`<Router basename="${d}"> is not able to match the URL "${y}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:B.createElement(fi.Provider,{value:p},B.createElement(Ul.Provider,{children:e,value:K}))}function KS({children:r,location:e}){return kS($d(r),e)}function $d(r,e=[]){let i=[];return B.Children.forEach(r,(a,l)=>{if(!B.isValidElement(a))return;let h=[...e,l];if(a.type===B.Fragment){i.push.apply(i,$d(a.props.children,h));return}it(a.type===ji,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=$d(a.props.children,h)),i.push(d)}),i}var xc="get",Mc="application/x-www-form-urlencoded";function dh(r){return r!=null&&typeof r.tagName=="string"}function XS(r){return dh(r)&&r.tagName.toLowerCase()==="button"}function $S(r){return dh(r)&&r.tagName.toLowerCase()==="form"}function WS(r){return dh(r)&&r.tagName.toLowerCase()==="input"}function ZS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function JS(r,e){return r.button===0&&(!e||e==="_self")&&!ZS(r)}var Sc=null;function e1(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var t1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(r){return r!=null&&!t1.has(r)?(ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mc}"`),null):r}function n1(r,e){let i,a,l,h,d;if($S(r)){let p=r.getAttribute("action");a=p?$i(p,e):null,i=r.getAttribute("method")||xc,l=Pd(r.getAttribute("enctype"))||Mc,h=new FormData(r)}else if(XS(r)||WS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(a=y?$i(y,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||xc,l=Pd(r.getAttribute("formenctype"))||Pd(p.getAttribute("enctype"))||Mc,h=new FormData(p,r),!e1()){let{name:g,type:T,value:R}=r;if(T==="image"){let b=g?`${g}.`:"";h.append(`${b}x`,"0"),h.append(`${b}y`,"0")}else g&&h.append(g,R)}}else{if(dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=xc,a=null,l=Mc,d=r}return h&&l==="text/plain"&&(d=h,h=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function i1(r,e,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&$i(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function r1(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a1(r,e,i){let a=await Promise.all(r.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await r1(h,i);return d.links?d.links():[]}return[]}));return c1(a.flat(1).filter(s1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function x_(r,e,i,a,l,h){let d=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,p=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,g)=>d(y,g)||p(y,g)):h==="data"?e.filter((y,g)=>{let T=a.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function o1(r,e,{includeHydrateFallback:i}={}){return l1(r.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function l1(r){return[...new Set(r)]}function u1(r){let e={},i=Object.keys(r).sort();for(let a of i)e[a]=r[a];return e}function c1(r,e){let i=new Set;return new Set(e),r.reduce((a,l)=>{let h=JSON.stringify(u1(l));return i.has(h)||(i.add(h),a.push({key:h,link:l})),a},[])}function lE(){let r=B.useContext(Za);return bm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function h1(){let r=B.useContext(hh);return bm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=B.createContext(void 0);wm.displayName="FrameworkContext";function uE(){let r=B.useContext(wm);return bm(r,"You must render this element inside a <HydratedRouter> element"),r}function f1(r,e){let i=B.useContext(wm),[a,l]=B.useState(!1),[h,d]=B.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:R}=e,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let z=X=>{X.forEach(se=>{d(se.isIntersecting)})},F=new IntersectionObserver(z,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),B.useEffect(()=>{if(a){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[a]);let K=()=>{l(!0)},Q=()=>{l(!1),d(!1)};return i?r!=="intent"?[h,b,{}]:[h,b,{onFocus:pl(p,K),onBlur:pl(y,Q),onMouseEnter:pl(g,K),onMouseLeave:pl(T,Q),onTouchStart:pl(R,K)}]:[!1,b,{}]}function pl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function d1({page:r,...e}){let{router:i}=lE(),a=B.useMemo(()=>Wv(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?B.createElement(p1,{page:r,matches:a,...e}):null}function m1(r){let{manifest:e,routeModules:i}=uE(),[a,l]=B.useState([]);return B.useEffect(()=>{let h=!1;return a1(r,e,i).then(d=>{h||l(d)}),()=>{h=!0}},[r,e,i]),a}function p1({page:r,matches:e,...i}){let a=er(),{manifest:l,routeModules:h}=uE(),{basename:d}=lE(),{loaderData:p,matches:y}=h1(),g=B.useMemo(()=>x_(r,e,y,l,a,"data"),[r,e,y,l,a]),T=B.useMemo(()=>x_(r,e,y,l,a,"assets"),[r,e,y,l,a]),R=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let Q=new Set,z=!1;if(e.forEach(X=>{let se=l.routes[X.route.id];!se||!se.hasLoader||(!g.some(re=>re.route.id===X.route.id)&&X.route.id in p&&h[X.route.id]?.shouldRevalidate||se.hasClientLoader?z=!0:Q.add(X.route.id))}),Q.size===0)return[];let F=i1(r,d,"data");return z&&Q.size>0&&F.searchParams.set("_routes",e.filter(X=>Q.has(X.route.id)).map(X=>X.route.id).join(",")),[F.pathname+F.search]},[d,p,a,l,g,e,r,h]),b=B.useMemo(()=>o1(T,l),[T,l]),K=m1(T);return B.createElement(B.Fragment,null,R.map(Q=>B.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...i})),b.map(Q=>B.createElement("link",{key:Q,rel:"modulepreload",href:Q,...i})),K.map(({key:Q,link:z})=>B.createElement("link",{key:Q,nonce:i.nonce,...z})))}function g1(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.8.0")}catch{}function y1({basename:r,children:e,window:i}){let a=B.useRef();a.current==null&&(a.current=sS({window:i,v5Compat:!0}));let l=a.current,[h,d]=B.useState({action:l.action,location:l.location}),p=B.useCallback(y=>{B.startTransition(()=>d(y))},[d]);return B.useLayoutEffect(()=>l.listen(p),[l,p]),B.createElement(QS,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:l})}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mh=B.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:h,replace:d,state:p,target:y,to:g,preventScrollReset:T,viewTransition:R,...b},K){let{basename:Q}=B.useContext(fi),z=typeof g=="string"&&hE.test(g),F,X=!1;if(typeof g=="string"&&z&&(F=g,cE))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),k=$i(M.pathname,Q);M.origin===C.origin&&k!=null?g=k+M.search+M.hash:X=!0}catch{ui(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=xS(g,{relative:l}),[re,me,ue]=f1(a,b),Ee=E1(g,{replace:d,state:p,target:y,preventScrollReset:T,relative:l,viewTransition:R});function O(C){e&&e(C),C.defaultPrevented||Ee(C)}let w=B.createElement("a",{...b,...ue,href:F||se,onClick:X||h?e:O,ref:g1(K,me),target:y,"data-discover":!z&&i==="render"?"true":void 0});return re&&!z?B.createElement(B.Fragment,null,w,B.createElement(d1,{page:se})):w});mh.displayName="Link";var zi=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:h,to:d,viewTransition:p,children:y,...g},T){let R=jl(d,{relative:g.relative}),b=er(),K=B.useContext(hh),{navigator:Q,basename:z}=B.useContext(fi),F=K!=null&&w1(R)&&p===!0,X=Q.encodeLocation?Q.encodeLocation(R).pathname:R.pathname,se=b.pathname,re=K&&K.navigation&&K.navigation.location?K.navigation.location.pathname:null;i||(se=se.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&z&&(re=$i(re,z)||re);const me=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ue=se===X||!l&&se.startsWith(X)&&se.charAt(me)==="/",Ee=re!=null&&(re===X||!l&&re.startsWith(X)&&re.charAt(X.length)==="/"),O={isActive:ue,isPending:Ee,isTransitioning:F},w=ue?e:void 0,C;typeof a=="function"?C=a(O):C=[a,ue?"active":null,Ee?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof h=="function"?h(O):h;return B.createElement(mh,{...g,"aria-current":w,className:C,ref:T,style:M,to:d,viewTransition:p},typeof y=="function"?y(O):y)});zi.displayName="NavLink";var _1=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:h,method:d=xc,action:p,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:R,...b},K)=>{let Q=S1(),z=b1(p,{relative:g}),F=d.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&hE.test(p),se=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let me=re.nativeEvent.submitter,ue=me?.getAttribute("formmethod")||d;Q(me||re.currentTarget,{fetcherKey:e,method:ue,navigate:i,replace:l,state:h,relative:g,preventScrollReset:T,viewTransition:R})};return B.createElement("form",{ref:K,method:F,action:z,onSubmit:a?y:se,...b,"data-discover":!X&&r==="render"?"true":void 0})});_1.displayName="Form";function v1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(r){let e=B.useContext(Za);return it(e,v1(r)),e}function E1(r,{target:e,replace:i,state:a,preventScrollReset:l,relative:h,viewTransition:d}={}){let p=fh(),y=er(),g=jl(r,{relative:h});return B.useCallback(T=>{if(JS(T,e)){T.preventDefault();let R=i!==void 0?i:Il(y)===Il(g);p(r,{replace:R,state:a,preventScrollReset:l,relative:h,viewTransition:d})}},[y,p,g,i,a,e,r,l,h,d])}var T1=0,A1=()=>`__${String(++T1)}__`;function S1(){let{router:r}=fE("useSubmit"),{basename:e}=B.useContext(fi),i=qS();return B.useCallback(async(a,l={})=>{let{action:h,method:d,encType:p,formData:y,body:g}=n1(a,e);if(l.navigate===!1){let T=l.fetcherKey||A1();await r.fetch(T,i,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,i])}function b1(r,{relative:e}={}){let{basename:i}=B.useContext(fi),a=B.useContext(Ji);it(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...jl(r||".",{relative:e})},d=er();if(r==null){h.search=d.search;let p=new URLSearchParams(h.search),y=p.getAll("index");if(y.some(T=>T==="")){p.delete("index"),y.filter(R=>R).forEach(R=>p.append("index",R));let T=p.toString();h.search=T?`?${T}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Fi([i,h.pathname])),Il(h)}function w1(r,{relative:e}={}){let i=B.useContext(iE);it(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fE("useViewTransitionState"),l=jl(r,{relative:e});if(!i.isTransitioning)return!1;let h=$i(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=$i(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Gc(l.pathname,d)!=null||Gc(l.pathname,h)!=null}const R1="modulepreload",C1=function(r){return"/PhoenixGuild/"+r},M_={},Ud=function(e,i,a){let l=Promise.resolve();if(i&&i.length>0){let y=function(g){return Promise.all(g.map(T=>Promise.resolve(T).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=y(i.map(g=>{if(g=C1(g),g in M_)return;M_[g]=!0;const T=g.endsWith(".css"),R=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${R}`))return;const b=document.createElement("link");if(b.rel=T?"stylesheet":R1,T||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),T)return new Promise((K,Q)=>{b.addEventListener("load",K),b.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&h(p.reason);return e().catch(h)})};function I1(){const[r,e]=B.useState(!1),[i,a]=B.useState(null),[l,h]=B.useState(!1),d=fh(),[p,y]=B.useState(null);B.useEffect(()=>{async function b(){const{initializeApp:Q}=await Ud(async()=>{const{initializeApp:me}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js");return{initializeApp:me}},[]),{getAuth:z,onAuthStateChanged:F}=await Ud(async()=>{const{getAuth:me,onAuthStateChanged:ue}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js");return{getAuth:me,onAuthStateChanged:ue}},[]),se=Q({apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"}),re=z(se);y(re),F(re,me=>{a(me)})}b();const K=document.createElement("script");K.src="https://www.youtube.com/iframe_api",document.body.appendChild(K),window.onYouTubeIframeAPIReady=()=>{new window.YT.Player("yt-player",{height:"0",width:"0",videoId:"VhEoCOWUtcU",playerVars:{autoplay:0,loop:1,playlist:"VhEoCOWUtcU"},events:{onReady:()=>h(!0)}})}},[]);const g=()=>e(b=>!b),T=async()=>{if(!p)return;const{signOut:b}=await Ud(async()=>{const{signOut:K}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js");return{signOut:K}},[]);await b(p),d("/signin")},R=()=>{if(!window.YT)return;const b=window.YT.get("yt-player");b&&l&&b.playVideo()};return S.jsxs("header",{children:[S.jsx("div",{className:"logo",children:"🔥 The Phoenix Guild"}),S.jsx("button",{id:"nav-toggle","aria-label":"Toggle navigation",onClick:g,type:"button",children:"☰"}),S.jsx("nav",{children:S.jsxs("ul",{id:"main-nav",className:r?"show":"",children:[S.jsx("li",{children:S.jsx(zi,{to:"/",end:!0,className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Home"})}),S.jsx("li",{children:S.jsx(zi,{to:"/rankings",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Rank Calculator"})}),S.jsx("li",{children:S.jsx(zi,{to:"/groups",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Groups"})}),S.jsx("li",{children:S.jsx(zi,{to:"/history",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"History"})}),S.jsx("li",{children:S.jsx(zi,{to:"/about",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"About"})}),i?S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zi,{to:"/profile",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Profile"})}),S.jsx("li",{children:S.jsx("button",{type:"button",onClick:async()=>{await T(),e(!1)},children:"Sign Out"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zi,{to:"/signin",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Sign In"})}),S.jsx("li",{children:S.jsx(zi,{to:"/signup",className:({isActive:b})=>b?"active":void 0,onClick:()=>e(!1),children:"Sign Up"})})]}),S.jsx("li",{children:S.jsx("button",{type:"button",onClick:R,disabled:!l,children:"Play Music"})})]})}),S.jsx("div",{id:"yt-player"})]})}function D1(){return S.jsxs("main",{children:[S.jsxs("section",{className:"hero",children:[S.jsx("h1",{children:"Awaken Your Power"}),S.jsx("p",{children:"Step into the challenge. Rise through the ranks, earn rewards, and dominate the fitness battlefield with your friends."}),S.jsx(mh,{to:"/rankings",className:"cta-button",children:"Enter the Guild"})]}),S.jsxs("section",{className:"features",children:[S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"🏆 Compete Weekly"}),S.jsx("p",{children:"Train hard, earn points, and prove your worth every week."})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"⚔️ Climb the Leaderboard"}),S.jsx("p",{children:"Face your rivals and rise to the top of the guild rankings."})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"💎 Earn Legendary Rewards"}),S.jsx("p",{children:"Push past your limits and claim the rewards you deserve."})]})]})]})}const N1={apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"},dE=zA(N1),rn=BA(dE),zl=YA(dE);function bc(r){const e=new Date(r);e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);const i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)}function O1(){const[r,e]=B.useState(null),[i,a]=B.useState(""),[l,h]=B.useState(""),[d,p]=B.useState(""),[y,g]=B.useState(""),[T,R]=B.useState(null),[b,K]=B.useState(!0);B.useEffect(()=>vm(zl,async F=>{if(F){e(F.uid);const X=Ln(rn,"users",F.uid,"weeklyRequirements","current"),se=await Hi(X);if(se.exists()){const re=se.data();if(a(re.pushups??""),h(re.situps??""),p(re.plank??""),re.lastSubmitted){const me=re.lastSubmitted.toDate();R(bc(me)),bc(new Date)===bc(me)&&K(!1)}}}else e(null)}),[]);const Q=async()=>{if(!b){g("You can only submit once per week.");return}const z=parseFloat(i),F=parseFloat(l),X=parseFloat(d);if(isNaN(z)||z<0||isNaN(F)||F<0||isNaN(X)||X<0){g("Please enter valid non-negative numbers.");return}if(r){const w=Ln(rn,"users",r,"weeklyRequirements","current"),C=new Date;await qc(w,{pushups:z,situps:F,plank:X,lastSubmitted:C}),R(bc(C)),K(!1)}const se=z/1e3*100,re=F/1e3*100,me=X/10*100,ue=Math.min(se,re,me);let Ee="E-Rank (0–5)",O=1;ue>=75?(Ee="S-Rank (75–100)",O=2):ue>=50?(Ee="A-Rank (50–75)",O=1.75):ue>=20?(Ee="B-Rank (20–50)",O=1.5):ue>=10?(Ee="C-Rank (10–20)",O=1.25):ue>=5&&(Ee="D-Rank (5–10)",O=1.15),g(S.jsxs(S.Fragment,{children:[S.jsxs("p",{children:["Your rating: ",S.jsx("strong",{children:ue.toFixed(1)})]}),S.jsxs("p",{children:["Rank Zone: ",S.jsx("strong",{children:Ee})]}),S.jsxs("p",{children:["Points multiplier: ",S.jsxs("strong",{children:[O,"×"]})]})]}))};return S.jsxs("main",{className:"rank-calculator",style:{padding:"1rem"},children:[S.jsx("h1",{children:"Weekly Requirements"}),S.jsx("p",{children:"Enter your weekly challenge goals. Your rank will be calculated below."}),S.jsxs("div",{className:"input-row",children:[S.jsx("input",{type:"number",placeholder:"Push-ups",min:"0",value:i,onChange:z=>a(z.target.value),disabled:!b}),S.jsx("input",{type:"number",placeholder:"Sit-ups",min:"0",value:l,onChange:z=>h(z.target.value),disabled:!b}),S.jsx("input",{type:"number",placeholder:"Plank (minutes)",min:"0",step:"0.1",value:d,onChange:z=>p(z.target.value),disabled:!b})]}),S.jsx("br",{}),S.jsx("button",{onClick:Q,disabled:!b,children:"Submit Weekly Requirements"}),!b&&T!==null&&S.jsx("p",{style:{marginTop:"0.5rem",color:"gray"},children:"You've already submitted this week. You can submit again next Monday."}),S.jsx("div",{className:"result",style:{marginTop:"1rem"},children:y})]})}function x1(){return er(),S.jsx(S.Fragment,{children:S.jsxs("main",{style:{padding:"1rem"},children:[S.jsx("h1",{children:"History"}),S.jsx("p",{children:"This page is currently empty. Content coming soon!"})]})})}function M1(){return er(),S.jsx(S.Fragment,{children:S.jsxs("main",{style:{padding:"1rem"},children:[S.jsx("h1",{children:"About – Rating & Rank Buffs"}),S.jsx("h2",{children:"Rating Calculation"}),S.jsxs("p",{children:["A perfect rating of ",S.jsx("strong",{children:"100"})," requires:"," ",S.jsx("strong",{children:"1000 push-ups"}),", ",S.jsx("strong",{children:"1000 sit-ups"}),", and a"," ",S.jsx("strong",{children:"10-minute plank"})," in the week."]}),S.jsxs("p",{children:["Your rating is determined by the ",S.jsx("strong",{children:"lowest percentage"})," of completion across the three activities."]}),S.jsxs("p",{children:[S.jsx("em",{children:"Example 1:"})," 300 push-ups, 300 sit-ups, and a 3-minute plank → All at 30% of the target → Rating: ",S.jsx("strong",{children:"30"})]}),S.jsxs("p",{children:[S.jsx("em",{children:"Example 2:"})," 400 push-ups, 225 sit-ups, and a 5-minute plank → Lowest is sit-ups (22.5%) → Rating: ",S.jsx("strong",{children:"22.5"})]}),S.jsx("h2",{children:"Rank Zones & Buffs"}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"S-Rank (90–100):"})," ×1.75 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"A-Rank (80–90):"})," ×1.5 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"B-Rank (70–80):"})," ×1.25 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"C-Rank (50–70):"})," ×1.15 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"D-Rank (25–50):"})," ×1.05 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"E-Rank (0–25):"})," No Buffs"]}),S.jsxs("h2",{children:["Daily Requirements ",S.jsx("small",{children:"(Worth 5 Points)"})]}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Jasper:"})," x Push-ups, x Sit-ups, x Plank"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Charlie:"})," 50 Push-ups, 50 Sit-ups, 1 min Plank (E-Rank)"]})]}),S.jsxs("p",{children:[S.jsx("em",{children:"Due by 11:59 pm each day"}),". Missing the requirement results in a ",S.jsx("strong",{children:"5% cumulative penalty"})," on your weekly total."]}),S.jsx("p",{children:"Requirements can only be changed once a week on Monday morning—choose wisely. Video proof may be required."}),S.jsx("h2",{children:"Weekly Bonuses"}),S.jsxs("p",{children:["To be decided by the group. Submission deadline:"," ",S.jsx("strong",{children:"Sunday 11:59 pm"}),"."]}),S.jsx("h2",{children:"General Point System"}),S.jsxs("ul",{children:[S.jsx("li",{children:"1 km run/walk = 1 point (round down, excludes cycling)"}),S.jsx("li",{children:"Gym session = 1 point (round down to nearest 45 min)"}),S.jsx("li",{children:"30 min competitive sport = 1 point (round down to nearest 30 min)"}),S.jsx("li",{children:"Cycling class at Unipol = Points TBD"})]}),S.jsx("h2",{children:"Debuffs"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Takeaway food = −1 point"}),S.jsx("li",{children:"Waking up after 9 am = −1 point"}),S.jsx("li",{children:"Missing weekly chore = −1 point"})]}),S.jsx("h2",{children:"Weight Loss Bonus"}),S.jsx("p",{children:"Extra points per kilogram lost (details TBD). Perfect for those on a cut."})]})})}function k1(){return S.jsx("footer",{children:S.jsx("p",{children:"© 2025 The Phoenix Guild — All Rights Reserved"})})}const V1=()=>{};var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},P1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];e[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,g=y?r[l+2]:0,T=h>>2,R=(h&3)<<4|p>>4;let b=(p&15)<<2|g>>6,K=g&63;y||(K=64,d||(b=64)),a.push(i[T],i[R],i[b],i[K])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):P1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const R=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||p==null||g==null||R==null)throw new U1;const b=h<<2|p>>4;if(a.push(b),g!==64){const K=p<<4&240|g>>2;if(a.push(K),R!==64){const Q=g<<6&192|R;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=mE(r);return pE.encodeByteArray(e,!0)},Fc=function(r){return L1(r).replace(/\./g,"")},gE=function(r){try{return pE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>j1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof k_>"u")return;const r=k_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gE(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return V1()||z1()||B1()||H1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yE=r=>ph()?.emulatorHosts?.[r],q1=r=>{const e=yE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},_E=()=>ph()?.config,vE=r=>ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const El={};function Y1(){const r={prod:[],emulator:[]};for(const e of Object.keys(El))El[e]?r.emulator.push(e):r.prod.push(e);return r}function Q1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let V_=!1;function TE(r,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||El[r]===e||El[r]||V_)return;El[r]=e;function i(b){return`__firebase__banner__${b}`}const a="__firebase__banner",h=Y1().prod.length>0;function d(){const b=document.getElementById(a);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,K){b.setAttribute("width","24"),b.setAttribute("id",K),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{V_=!0,d()},b}function T(b,K){b.setAttribute("id",K),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function R(){const b=Q1(a),K=i("text"),Q=document.getElementById(K)||document.createElement("span"),z=i("learnmore"),F=document.getElementById(z)||document.createElement("a"),X=i("preprendIcon"),se=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;p(re),T(F,z);const me=g();y(se,X),re.append(se,Q,F,me),document.body.appendChild(re)}h?(Q.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function X1(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const r=Kt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eb(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="FirebaseError";class tr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=ib,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,h=this.errors[e],d=h?rb(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,a)}}function rb(r,e){return r.replace(sb,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const sb=/\{\$([^}]+)}/g;function ab(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ms(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=e[l];if(P_(h)&&P_(d)){if(!Ms(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function P_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(h)}}),e}function _l(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function ob(r,e){const i=new lb(r,e);return i.subscribe.bind(i)}class lb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ub(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ub(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r){return r&&r._delegate?r._delegate:r}class ks{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new G1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fb(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hb(r){return r===Is?void 0:r}function fb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const mb={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},pb=xe.INFO,gb={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},yb=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=gb[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=pb,this._logHandler=yb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const _b=(r,e)=>e.some(i=>r instanceof i);let U_,L_;function vb(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eb(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Wd=new WeakMap,SE=new WeakMap,jd=new WeakMap,Cm=new WeakMap;function Tb(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Pr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&AE.set(i,r)}).catch(()=>{}),Cm.set(e,r),e}function Ab(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let Zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||SE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sb(r){Zd=r(Zd)}function bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return SE.set(a,e.sort?e.sort():[e]),Pr(a)}:Eb().includes(r)?function(...e){return r.apply(zd(this),e),Pr(AE.get(this))}:function(...e){return Pr(r.apply(zd(this),e))}}function wb(r){return typeof r=="function"?bb(r):(r instanceof IDBTransaction&&Ab(r),_b(r,vb())?new Proxy(r,Zd):r)}function Pr(r){if(r instanceof IDBRequest)return Tb(r);if(jd.has(r))return jd.get(r);const e=wb(r);return e!==r&&(jd.set(r,e),Cm.set(e,r)),e}const zd=r=>Cm.get(r);function Rb(r,e,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,e),p=Pr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Pr(d.result),y.oldVersion,y.newVersion,Pr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Cb=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],Bd=new Map;function j_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=Ib.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Cb.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&y.done]))[0]};return Bd.set(e,h),h}Sb(r=>({...r,get:(e,i,a)=>j_(e,i)||r.get(e,i,a),has:(e,i)=>!!j_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Nb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Nb(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",z_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Rm("@firebase/app"),Ob="@firebase/app-compat",xb="@firebase/analytics-compat",Mb="@firebase/analytics",kb="@firebase/app-check-compat",Vb="@firebase/app-check",Pb="@firebase/auth",Ub="@firebase/auth-compat",Lb="@firebase/database",jb="@firebase/data-connect",zb="@firebase/database-compat",Bb="@firebase/functions",Hb="@firebase/functions-compat",qb="@firebase/installations",Gb="@firebase/installations-compat",Fb="@firebase/messaging",Yb="@firebase/messaging-compat",Qb="@firebase/performance",Kb="@firebase/performance-compat",Xb="@firebase/remote-config",$b="@firebase/remote-config-compat",Wb="@firebase/storage",Zb="@firebase/storage-compat",Jb="@firebase/firestore",ew="@firebase/ai",tw="@firebase/firestore-compat",nw="firebase",iw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",rw={[Jd]:"fire-core",[Ob]:"fire-core-compat",[Mb]:"fire-analytics",[xb]:"fire-analytics-compat",[Vb]:"fire-app-check",[kb]:"fire-app-check-compat",[Pb]:"fire-auth",[Ub]:"fire-auth-compat",[Lb]:"fire-rtdb",[jb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[Bb]:"fire-fn",[Hb]:"fire-fn-compat",[qb]:"fire-iid",[Gb]:"fire-iid-compat",[Fb]:"fire-fcm",[Yb]:"fire-fcm-compat",[Qb]:"fire-perf",[Kb]:"fire-perf-compat",[Xb]:"fire-rc",[$b]:"fire-rc-compat",[Wb]:"fire-gcs",[Zb]:"fire-gcs-compat",[Jb]:"fire-fst",[tw]:"fire-fst-compat",[ew]:"fire-vertex","fire-js":"fire-js",[nw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,sw=new Map,tm=new Map;function B_(r,e){try{r.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fa(r){const e=r.name;if(tm.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,r);for(const i of Yc.values())B_(i,r);for(const i of sw.values())B_(i,r);return!0}function Im(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Bl("app","Firebase",aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=iw;function bE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ur.create("bad-app-name",{appName:String(l)});if(i||(i=_E()),!i)throw Ur.create("no-options");const h=Yc.get(l);if(h){if(Ms(i,h.options)&&Ms(a,h.config))return h;throw Ur.create("duplicate-app",{appName:l})}const d=new db(l);for(const y of tm.values())d.addComponent(y);const p=new ow(i,a,d);return Yc.set(l,p),p}function wE(r=em){const e=Yc.get(r);if(!e&&r===em&&_E())return bE();if(!e)throw Ur.create("no-app",{appName:r});return e}function Lr(r,e,i){let a=rw[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Fa(new ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebase-heartbeat-database",uw=1,Dl="firebase-heartbeat-store";let Hd=null;function RE(){return Hd||(Hd=Rb(lw,uw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ur.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function cw(r){try{const i=(await RE()).transaction(Dl),a=await i.objectStore(Dl).get(CE(r));return await i.done,a}catch(e){if(e instanceof tr)Wi.warn(e.message);else{const i=Ur.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function H_(r,e){try{const a=(await RE()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(e,CE(r)),await a.done}catch(i){if(i instanceof tr)Wi.warn(i.message);else{const a=Ur.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function CE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=1024,fw=30;class dw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fw){const l=gw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q_(),{heartbeatsToSend:i,unsentEntries:a}=mw(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Wi.warn(e),""}}}function q_(){return new Date().toISOString().substring(0,10)}function mw(r,e=hw){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),G_(i)>e){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),G_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function G_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function gw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r){Fa(new ks("platform-logger",e=>new Db(e),"PRIVATE")),Fa(new ks("heartbeat",e=>new dw(e),"PRIVATE")),Lr(Jd,z_,r),Lr(Jd,z_,"esm2020"),Lr("fire-js","")}yw("");function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _w=IE,DE=new Bl("auth","Firebase",IE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Rm("@firebase/auth");function vw(r,...e){Qc.logLevel<=xe.WARN&&Qc.warn(`Auth (${eo}): ${r}`,...e)}function kc(r,...e){Qc.logLevel<=xe.ERROR&&Qc.error(`Auth (${eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw Dm(r,...e)}function oi(r,...e){return Dm(r,...e)}function NE(r,e,i){const a={..._w(),[e]:i};return new Bl("auth","Firebase",a).create(e,{appName:r.name})}function Yi(r){return NE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return DE.create(r,...e)}function ve(r,e,...i){if(!r)throw Dm(e,...i)}function qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw kc(e),new Error(e)}function Zi(r,e){r||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return typeof self<"u"&&self.location?.href||""}function Ew(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ew()||W1()||"connection"in navigator)?navigator.onLine:!0}function Aw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,Zi(i>e,"Short delay should be less than long delay!"),this.isMobile=K1()||Z1()}get(){return Tw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ww=new ql(3e4,6e4);function qr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Gr(r,e,i,a,l={}){return xE(r,l,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const p=Hl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...h};return $1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(g.credentials="include"),OE.fetch()(await ME(r,r.config.apiHost,i,p),g)})}async function xE(r,e,i){r._canInitEmulator=!1;const a={...Sw,...e};try{const l=new Cw(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw wc(r,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NE(r,T,g);Hn(r,T)}}catch(l){if(l instanceof tr)throw l;Hn(r,"network-request-failed",{message:String(l)})}}async function Gl(r,e,i,a,l={}){const h=await Gr(r,e,i,a,l);return"mfaPendingCredential"in h&&Hn(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function ME(r,e,i,a){const l=`${e}${i}?${a}`,h=r,d=h.config.emulator?Nm(r.config,l):`${r.config.apiScheme}://${l}`;return bw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function Rw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),ww.get())})}}function wc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=oi(r,e,a);return l.customData._tokenResponse=i,l}function Y_(r){return r!==void 0&&r.enterprise!==void 0}class Iw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Rw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dw(r,e){return Gr(r,"GET","/v2/recaptchaConfig",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(r,e){return Gr(r,"POST","/v1/accounts:delete",e)}async function Kc(r,e){return Gr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ow(r,e=!1){const i=Bn(r),a=await i.getIdToken(e),l=Om(a);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:Tl(qd(l.auth_time)),issuedAtTime:Tl(qd(l.iat)),expirationTime:Tl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Om(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=gE(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Q_(r){const e=Om(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof tr&&xw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(r){const e=r.auth,i=await r.getIdToken(),a=await Nl(r,Kc(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?kE(l.providerUserInfo):[],d=Vw(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,g=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function kw(r){const e=Bn(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function kE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(r,e){const i=await xE(r,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await ME(r,l,"/v1/token",`key=${h}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Ja(r.emulatorConfig.host)&&(y.credentials="include"),OE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Uw(r,e){return Gr(r,"POST","/v2/accounts:revokeToken",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=Q_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await Pw(e,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new za;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),h&&(ve(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Ow(this,e)}reload(){return kw(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Nl(this,Nw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,g=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:R,emailVerified:b,isAnonymous:K,providerData:Q,stsTokenManager:z}=i;ve(R&&z,e,"internal-error");const F=za.fromJSON(this.name,z);ve(typeof R=="string",e,"internal-error"),Or(a,e.name),Or(l,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof K=="boolean",e,"internal-error"),Or(h,e.name),Or(d,e.name),Or(p,e.name),Or(y,e.name),Or(g,e.name),Or(T,e.name);const X=new jn({uid:R,auth:e,email:l,emailVerified:b,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:F,createdAt:g,lastLoginAt:T});return Q&&Array.isArray(Q)&&(X.providerData=Q.map(se=>({...se}))),y&&(X._redirectEventId=y),X}static async _fromIdTokenResponse(e,i,a=!1){const l=new za;l.updateFromServerResponse(i);const h=new jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Xc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?kE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new za;p.updateFromIdToken(a);const y=new jn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function Gi(r){Zi(r instanceof Function,"Expected a class definition");let e=K_.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,K_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}VE.type="NONE";const X_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ba{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Vc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Kc(this.auth,{idToken:e}).catch(()=>{});return i?jn._fromGetAccountInfoResponse(this.auth,i,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ba(Gi(X_),e,a);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let h=l[0]||Gi(X_);const d=Vc(a,e.config.apiKey,e.name);let p=null;for(const g of i)try{const T=await g._get(d);if(T){let R;if(typeof T=="string"){const b=await Kc(e,{idToken:T}).catch(()=>{});if(!b)break;R=await jn._fromGetAccountInfoResponse(e,b,T)}else R=jn._fromJSON(e,T);g!==h&&(p=R),h=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Ba(h,e,a):(h=y[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==h)try{await g._remove(d)}catch{}})),new Ba(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(HE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function PE(r=Kt()){return/firefox\//i.test(r)}function UE(r=Kt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(r=Kt()){return/crios\//i.test(r)}function jE(r=Kt()){return/iemobile/i.test(r)}function zE(r=Kt()){return/android/i.test(r)}function BE(r=Kt()){return/blackberry/i.test(r)}function HE(r=Kt()){return/webos/i.test(r)}function xm(r=Kt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Lw(r=Kt()){return xm(r)&&!!window.navigator?.standalone}function jw(){return J1()&&document.documentMode===10}function qE(r=Kt()){return xm(r)||zE(r)||HE(r)||BE(r)||/windows phone/i.test(r)||jE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r,e=[]){let i;switch(r){case"Browser":i=$_(Kt());break;case"Worker":i=`${$_(Kt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,p)=>{try{const y=e(h);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e={}){return Gr(r,"GET","/v2/passwordPolicy",qr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=6;class qw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Hw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new zw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Gi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Kc(this,{idToken:e}),a=await jn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Aw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Yi(this));const i=e?Bn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bw(this),i=new qw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Uw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Gi(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Gi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bs(r){return Bn(r)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ob(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(r){gh=r}function FE(r){return gh.loadJS(r)}function Yw(){return gh.recaptchaEnterpriseScript}function Qw(){return gh.gapiScript}function Kw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Xw{constructor(){this.enterprise=new $w}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class $w{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Ww="recaptcha-enterprise",YE="NO_RECAPTCHA";class Zw{constructor(e){this.type=Ww,this.auth=Bs(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,p)=>{Dw(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Iw(y);return h.tenantId==null?h._agentRecaptchaConfig=g:h._tenantRecaptchaConfigs[h.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(h,d,p){const y=window.grecaptcha;Y_(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:e}).then(g=>{d(g)}).catch(()=>{d(YE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xw().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(p=>{if(!i&&Y_(window.grecaptcha))l(p,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Yw();y.length!==0&&(y+=p),FE(y).then(()=>{l(p,h,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function Z_(r,e,i,a=!1,l=!1){const h=new Zw(r);let d;if(l)d=YE;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rm(r,e,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Z_(r,e,i,i==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Z_(r,e,i,i==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,e){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ms(h,e??{}))return l;Hn(l,"already-initialized")}return i.initialize({options:e})}function eR(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function tR(r,e,i){const a=Bs(r);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,h=QE(e),{host:d,port:p}=nR(e),y=p===null?"":`:${p}`,g={url:`${h}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Ms(g,a.config.emulator)&&Ms(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Ja(d)?(EE(`${h}//${d}${y}`),TE("Auth",!0)):iR()}function QE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nR(r){const e=QE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:J_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:J_(d)}}}function J_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iR(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,i){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function rR(r,e){return Gr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(r,e){return Gl(r,"POST","/v1/accounts:signInWithPassword",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(r,e){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",qr(r,e))}async function oR(r,e){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Mm{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ol(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ol(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,i,"signInWithPassword",sR);case"emailLink":return aR(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,a,"signUpPassword",rR);case"emailLink":return oR(e,{idToken:i,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,e){return Gl(r,"POST","/v1/accounts:signInWithIdp",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="http://localhost";class Vs extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Vs(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ha(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ha(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ha(e,i)}buildRequest(){const e={requestUri:lR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Hl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cR(r){const e=yl(_l(r)).link,i=e?yl(_l(e)).deep_link_id:null,a=yl(_l(r)).deep_link_id;return(a?yl(_l(a)).link:null)||a||i||e||r}class km{constructor(e){const i=yl(_l(e)),a=i.apiKey??null,l=i.oobCode??null,h=uR(i.mode??null);ve(a&&l&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=cR(e);try{return new km(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,i){return Ol._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=km.parseLink(i);return ve(a,"argument-error"),Ol._fromEmailAndCode(e,a.code,a.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Fl{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Vs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Mr.credential(i,a)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Fl{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Fl{constructor(){super("twitter.com")}static credential(e,i){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Vr.credential(i,a)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(r,e){return Gl(r,"POST","/v1/accounts:signUp",qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const h=await jn._fromIdTokenResponse(e,a,l),d=ev(a);return new Ps({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=ev(a);return new Ps({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends tr{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new $c(e,i,a,l)}}function XE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,h,e,a):h})}async function fR(r,e,i=!1){const a=await Nl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ps._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(r,e,i=!1){const{auth:a}=r;if(In(a.app))return Promise.reject(Yi(a));const l="reauthenticate";try{const h=await Nl(r,XE(a,l,e,r),i);ve(h.idToken,a,"internal-error");const d=Om(h.idToken);ve(d,a,"internal-error");const{sub:p}=d;return ve(r.uid===p,a,"user-mismatch"),Ps._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Hn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(r,e,i=!1){if(In(r.app))return Promise.reject(Yi(r));const a="signIn",l=await XE(r,a,e),h=await Ps._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}async function mR(r,e){return $E(Bs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(r){const e=Bs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pR(r,e,i){if(In(r.app))return Promise.reject(Yi(r));const a=Bs(r),d=await rm(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&WE(r),y}),p=await Ps._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function gR(r,e,i){return In(r.app)?Promise.reject(Yi(r)):mR(Bn(r),to.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&WE(r),a})}function yR(r,e,i,a){return Bn(r).onIdTokenChanged(e,i,a)}function _R(r,e,i){return Bn(r).beforeAuthStateChanged(e,i)}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1e3,ER=10;class JE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);jw()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,ER):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const TR=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}e0.type="SESSION";const t0=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,h)),y=await AR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,y)=>{const g=Vm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const b=R;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(T),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(b.data.response);break;default:clearTimeout(T),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function bR(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function wR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RR(){return navigator?.serviceWorker?.controller||null}function CR(){return n0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firebaseLocalStorageDb",IR=1,Zc="firebaseLocalStorage",r0="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,e){return r.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function DR(){const r=indexedDB.deleteDatabase(i0);return new Yl(r).toPromise()}function sm(){const r=indexedDB.open(i0,IR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Zc,{keyPath:r0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Zc)?e(a):(a.close(),await DR(),e(await sm()))})})}async function tv(r,e,i){const a=_h(r,!0).put({[r0]:e,value:i});return new Yl(a).toPromise()}async function NR(r,e){const i=_h(r,!1).get(e),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function nv(r,e){const i=_h(r,!0).delete(e);return new Yl(i).toPromise()}const OR=800,xR=3;class s0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>xR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(CR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wR(),!this.activeServiceWorker)return;this.sender=new SR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await tv(e,Wc,"1"),await nv(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>tv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>NR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=_h(l,!1).getAll();return new Yl(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s0.type="LOCAL";const MR=s0;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r,e){return e?Gi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ha(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function VR(r){return $E(r.auth,new Pm(r),r.bypassAuthState)}function PR(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),dR(i,new Pm(r),r.bypassAuthState)}async function UR(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),fR(i,new Pm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,a,l,h=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VR;case"linkViaPopup":case"linkViaRedirect":return UR;case"reauthViaPopup":case"reauthViaRedirect":return PR;default:Hn(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new ql(2e3,1e4);class ja extends a0{constructor(e,i,a,l,h){super(e,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="pendingRedirect",Pc=new Map;class zR extends a0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(r,e){const i=GR(e),a=qR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function HR(r,e){Pc.set(r._key(),e)}function qR(r){return Gi(r._redirectPersistence)}function GR(r){return Vc(jR,r.config.apiKey,r.name)}async function FR(r,e,i=!1){if(In(r.app))return Promise.reject(Yi(r));const a=Bs(r),l=kR(a,e),d=await new zR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=600*1e3;class QR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!o0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(oi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YR&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function o0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function KR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,e={}){return Gr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function ZR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await XR(r);for(const i of e)try{if(JR(i))return}catch{}Hn(r,"unauthorized-domain")}function JR(r){const e=nm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WR.test(i))return!1;if($R.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new ql(3e4,6e4);function rv(){const r=li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function tC(r){return new Promise((e,i)=>{function a(){rv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rv(),i(oi(r,"network-request-failed"))},timeout:eC.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)a();else{const l=Kw("iframefcb");return li()[l]=()=>{gapi.load?a():i(oi(r,"network-request-failed"))},FE(`${Qw()}?onload=${l}`).catch(h=>i(h))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function nC(r){return Uc=Uc||tC(r),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new ql(5e3,15e3),rC="__/auth/iframe",sC="emulator/auth/iframe",aC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Nm(e,sC):`https://${r.config.authDomain}/${rC}`,a={apiKey:e.apiKey,appName:r.name,v:eo},l=oC.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Hl(a).slice(1)}`}async function uC(r){const e=await nC(r),i=li().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:lC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aC,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=oi(r,"network-request-failed"),p=li().setTimeout(()=>{h(d)},iC.get());function y(){li().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hC=500,fC=600,dC="_blank",mC="http://localhost";class sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pC(r,e,i,a=hC,l=fC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...cC,width:a.toString(),height:l.toString(),top:h,left:d},g=Kt().toLowerCase();i&&(p=LE(g)?dC:i),PE(g)&&(e=e||mC,y.scrollbars="yes");const T=Object.entries(y).reduce((b,[K,Q])=>`${b}${K}=${Q},`,"");if(Lw(g)&&p!=="_self")return gC(e||"",p),new sv(null);const R=window.open(e||"",p,T);ve(R,r,"popup-blocked");try{R.focus()}catch{}return new sv(R)}function gC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="__/auth/handler",_C="emulator/auth/handler",vC=encodeURIComponent("fac");async function av(r,e,i,a,l,h){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(e instanceof KE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",ab(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof Fl){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),g=y?`#${vC}=${encodeURIComponent(y)}`:"";return`${EC(r)}?${Hl(p).slice(1)}${g}`}function EC({config:r}){return r.emulator?Nm(r,_C):`https://${r.authDomain}/${yC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class TC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t0,this._completeRedirectFn=FR,this._overrideRedirectResult=HR}async _openPopup(e,i,a,l){Zi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await av(e,i,a,nm(),l);return pC(e,h,Vm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const h=await av(e,i,a,nm(),l);return bR(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Zi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await uC(e),a=new QR(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},l=>{const h=l?.[0]?.[Gd];h!==void 0&&i(!!h),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return qE()||UE()||xm()}}const AC=TC;var ov="@firebase/auth",lv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wC(r){Fa(new ks("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(r)},g=new Gw(a,l,h,y);return eR(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Fa(new ks("auth-internal",e=>{const i=Bs(e.getProvider("auth").getImmediate());return(a=>new SC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(ov,lv,bC(r)),Lr(ov,lv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=300,CC=vE("authIdTokenMaxAge")||RC;let uv=null;const IC=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>CC)return;const l=i?.token;uv!==l&&(uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DC(r=wE()){const e=Im(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Jw(r,{popupRedirectResolver:AC,persistence:[MR,TR,t0]}),a=vE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=IC(h.toString());_R(i,d,()=>d(i.currentUser)),yR(i,p=>d(p))}}const l=yE("auth");return l&&tR(i,`http://${l}`),i}function NC(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const h=oi("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",NC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wC("Browser");function OC(){const[r,e]=B.useState(""),[i,a]=B.useState(""),[l,h]=B.useState(""),d=fh(),p=async y=>{y.preventDefault(),h("");try{await gR(zl,r,i),d("/")}catch(g){h(g.message||"Failed to sign in")}};return S.jsx(S.Fragment,{children:S.jsx("main",{children:S.jsxs("div",{className:"container",children:[S.jsx("h2",{children:"Sign In - Phoenix Guild"}),S.jsxs("form",{id:"signin-form",onSubmit:p,children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:y=>e(y.target.value)}),S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{id:"password",type:"password",required:!0,minLength:6,value:i,onChange:y=>a(y.target.value)}),S.jsx("button",{type:"submit",children:"Sign In"})]}),S.jsxs("p",{children:["Don't have an account? ",S.jsx(mh,{to:"/signup",children:"Sign Up"})]}),l&&S.jsx("div",{className:"error",children:l})]})})})}const xC="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJFAAAACwAAAAAEAAQAIMAAAAdHRzKRGSciFDFxX81MocwVqw5jdVvvdX/062l5doAAAAAAAAAAAAAAAAAAAAEUxDISSsNVuKrNv7dFChIFyTneCAgsipwXKzgYawGIugzC4yGQu62Ogh9AUQhEBgWnsbDh6lRDoJSqifwJBCCHpFLOLhuOMwm03C+iDSZuHxOl0cAACH5BAkUAAAALAAAAAAQABAAgwAAAB0dHMpEZJyIUMXFfzUyhzBWrDmN1W+91f/TraXl2gAAAAAAAAAAAAAAAAAAAARTEMhJq703YE2D4lr4TR7yBQnqHYiIsEosF6x4GKyBCDvdAh5DQYdjHYa/AKIQCBAL0OMh1JQoCwPhtAoKQAkEIYj0Gg6ynIqnaWCn1dY4Zk6nRwAAIfkECRQAAAAsAAAAABAAEACDAAAAHR0cykRknIhQxcV/NTKHMFasOY3Vb73V/9OtpeXaAAAAAAAAAAAAAAAAAAAABEoQyEmrvTjrLcP1VaB4JCCCk2gECRsYCNophWLbRRzSsIAIOZkJkTscEIfCQRhoEgvQJdNUIBAMhVKoYBgMVpjAcvUSUk6djZkSAQAh+QQJFAAAACwAAAAAEAAQAIMAAAAdHRzKRGSciFDFxX81MocwVqw5jdVvvdX/062l5doAAAAAAAAAAAAAAAAAAAAEUxDIIGulNihM+74KsgUJqR2Ih6BK6xaodxiogQg3nAKaUdg01OG3CyAKgQCwwBweOsnJceB7RjkBJoHg41xWvwEVkxkpkwZy5jKxuN/wuHxOn0cAADs=",MC="/PhoenixGuild/assets/castle-m6QEOXVY.png",Al=10;async function kC(r){const e=Ln(rn,"users",r),i=await Hi(e);if(i.exists()){const a=i.data(),l=a.lastEnergyUpdate?.toDate().getTime()||Date.now(),h=Math.floor((Date.now()-l)/(1e3*60*60));let d=a.companionEnergy??Al;return h>1&&(d=Math.max(d-h,0)),await Ds(e,{companionEnergy:d,lastEnergyUpdate:Bi()}),d}else return await qc(e,{companionEnergy:Al,lastEnergyUpdate:Bi()}),Al}async function VC(r){const e=Ln(rn,"users",r),i=await Hi(e);if(i.exists()){const a=i.data().companionEnergy??Al;a>0&&await Ds(e,{companionEnergy:a-1,lastEnergyUpdate:Bi()})}}function PC({size:r=100}){const[e,i]=B.useState(0),[a,l]=B.useState({x:100,y:100}),[h,d]=B.useState({x:1,y:1}),p=B.useRef(!1),y=B.useRef(null),g=B.useRef(null);return B.useEffect(()=>vm(zl,async R=>{if(R){g.current=R.uid;const b=await kC(R.uid);i(b);const K=setInterval(async()=>{await VC(R.uid),i(Q=>Math.max(Q-1,0))},1e3*60*60);return()=>clearInterval(K)}}),[]),B.useEffect(()=>{const T=setInterval(()=>{if(e<=0||p.current||!y.current)return;const R=y.current.offsetWidth,b=y.current.offsetHeight,K=1+e*.5;l(Q=>{let z=Q.x+h.x*K,F=Q.y+h.y*K;return(z<0||z>R-r)&&(d(X=>({...X,x:-X.x})),z=Math.max(0,Math.min(R-r,z))),(F<0||F>b-r)&&(d(X=>({...X,y:-X.y})),F=Math.max(0,Math.min(b-r,F))),{x:z,y:F}}),Math.random()<.01&&(p.current=!0,setTimeout(()=>{p.current=!1},500+Math.random()*1500))},16);return()=>clearInterval(T)},[e,h,r]),S.jsxs(S.Fragment,{children:[S.jsxs("div",{ref:y,style:{position:"relative",width:"100%",height:"400px",imageRendering:"pixelated",overflow:"hidden"},children:[S.jsx("img",{src:MC,alt:"Castle Background",style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover"}}),S.jsx("img",{src:xC,alt:"Dragon",style:{position:"absolute",left:a.x,top:a.y,width:r,height:r,transform:h.x<0?"scaleX(-1)":"scaleX(1)"}})]}),S.jsxs("div",{style:{width:"80%",height:"20px",backgroundColor:"#444",borderRadius:"10px",margin:"10px auto 0 auto",overflow:"hidden",position:"relative"},children:[S.jsx("div",{style:{width:`${e/Al*100}%`,height:"100%",backgroundColor:"red",transition:"width 0.2s ease"}}),S.jsx("span",{style:{position:"absolute",width:"100%",textAlign:"center",top:0,fontSize:"12px",color:"white"},children:"Energy"})]})]})}function UC(){const r=fh(),[e,i]=B.useState({name:"Loading...",age:"Loading...",rank:"Loading...",allTimePts:0,weeklyPts:0}),[a,l]=B.useState({pushups:!1,situps:!1,plank:!1}),[h,d]=B.useState(""),[p,y]=B.useState("#ff6666"),[g,T]=B.useState(30),[R,b]=B.useState(50),[K,Q]=B.useState(50),[z,F]=B.useState({distanceKm:"",gymMins:"",sportMins:"",cyclingClass:!1}),[X,se]=B.useState(""),[re,me]=B.useState({takeaway:!1,lateWake:!1,noChore:!1}),[ue,Ee]=B.useState(""),[O,w]=B.useState(null);B.useEffect(()=>{const Oe=vm(zl,async q=>{if(!q){alert("Please sign in to view your profile."),r("/signin");return}w(q);const ne=Ln(rn,"users",q.uid),le=await Hi(ne);if(le.exists()){const pe=le.data(),N=pe.lastWeeklyReset||null,Z=new Date,ie=Z.getDay(),fe=new Date(Z);fe.setHours(23,59,59,999),fe.setDate(Z.getDate()-ie);let Se=N?new Date(N):null;(!Se||Se<fe)&&await Ds(ne,{weeklyPoints:0,lastWeeklyReset:fe.toISOString(),lastUpdated:Bi()}),i({name:pe.name||"N/A",age:pe.age||"N/A",rank:pe.rank||"No rank yet",allTimePts:pe.points??0,weeklyPts:pe.weeklyPoints??0}),pe.dragon&&(y(pe.dragon.color||"#ff6666"),T(pe.dragon.size||150),b(pe.dragon.happiness??50),Q(pe.dragon.energy??50))}});return()=>Oe()},[r]);const C=Oe=>{const{name:q,checked:ne}=Oe.target;l(le=>({...le,[q]:ne}))},M=async Oe=>{if(Oe.preventDefault(),d(""),!O){alert("You must be signed in.");return}const q=Ln(rn,"users",O.uid),ne=await Hi(q);if(!ne.exists()){alert("User data not found.");return}const le=ne.data(),pe=new Date().toISOString().split("T")[0];if(le.lastDailyTaskDate===pe){d("You have already submitted your daily task today.");return}try{await Ds(q,{points:Pa(5),weeklyPoints:Pa(5),lastDailyTaskDate:pe,lastUpdated:Bi()}),d("Daily task submitted! +5 points."),l({pushups:!1,situps:!1,plank:!1}),i(N=>({...N,allTimePts:N.allTimePts+5,weeklyPts:N.weeklyPts+5}))}catch(N){d("Failed to submit daily task."),console.error(N)}},k=Oe=>{const{name:q,type:ne,checked:le,value:pe}=Oe.target;F(N=>({...N,[q]:ne==="checkbox"?le:pe}))},P=async Oe=>{if(Oe.preventDefault(),se(""),!O){alert("You must be signed in.");return}const q=Math.floor(parseFloat(z.distanceKm)||0),ne=Math.floor((parseInt(z.gymMins)||0)/45),le=Math.floor((parseInt(z.sportMins)||0)/30),pe=z.cyclingClass?1:0,N=q+ne+le+pe,Z=Ln(rn,"users",O.uid);try{(await Hi(Z)).exists()?await Ds(Z,{points:Pa(N),weeklyPoints:Pa(N),lastUpdated:Bi()}):await qc(Z,{points:N,weeklyPoints:N,lastUpdated:Bi()},{merge:!0}),se(`Extra tasks submitted (+${N} points)!`),F({distanceKm:"",gymMins:"",sportMins:"",cyclingClass:!1}),i(ie=>({...ie,allTimePts:ie.allTimePts+N,weeklyPts:ie.weeklyPts+N}))}catch(oe){se("Failed to submit extra tasks."),console.error(oe)}},D=Oe=>{const{name:q,checked:ne}=Oe.target;me(le=>({...le,[q]:ne}))},_t=async Oe=>{if(Oe.preventDefault(),Ee(""),!O){alert("You must be signed in.");return}let q=0;if(re.takeaway&&(q-=1),re.lateWake&&(q-=1),re.noChore&&(q-=1),q===0){Ee("Please select at least one debuff.");return}const ne=Ln(rn,"users",O.uid);try{(await Hi(ne)).exists()?await Ds(ne,{points:Pa(q),weeklyPoints:Pa(q),lastUpdated:Bi()}):await qc(ne,{points:q,weeklyPoints:q,lastUpdated:Bi()},{merge:!0}),Ee(`Debuffs submitted (${q} points)!`),me({takeaway:!1,lateWake:!1,noChore:!1}),i(pe=>({...pe,allTimePts:pe.allTimePts+q,weeklyPts:pe.weeklyPts+q}))}catch(le){Ee("Failed to submit debuffs."),console.error(le)}};return S.jsx(S.Fragment,{children:S.jsxs("main",{className:"profile-container",children:[S.jsxs("section",{className:"user-info",children:[S.jsx("h2",{children:"Your Info"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Name:"})," ",S.jsx("span",{children:e.name})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Age:"})," ",S.jsx("span",{children:e.age})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Rank:"})," ",S.jsx("span",{children:e.rank})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"All-Time Points:"})," ",S.jsx("span",{children:e.allTimePts})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Weekly Points:"})," ",S.jsx("span",{children:e.weeklyPts})]})]}),S.jsxs("section",{className:"dragon-companion",children:[S.jsx("h2",{children:"Your Dragon Companion"}),S.jsx(PC,{})]}),S.jsxs("section",{className:"daily-tasks",children:[S.jsx("h2",{children:"Daily Tasks"}),S.jsxs("form",{id:"daily-tasks-form",onSubmit:M,children:[S.jsxs("label",{id:"task-pushups",children:[S.jsx("input",{type:"checkbox",name:"pushups",checked:a.pushups,onChange:C})," ","Pushups"]}),S.jsx("br",{}),S.jsxs("label",{id:"task-situps",children:[S.jsx("input",{type:"checkbox",name:"situps",checked:a.situps,onChange:C})," ","Situps"]}),S.jsx("br",{}),S.jsxs("label",{id:"task-plank",children:[S.jsx("input",{type:"checkbox",name:"plank",checked:a.plank,onChange:C})," ","Plank"]}),S.jsx("br",{}),S.jsx("button",{id:"dailyTaskBtn",type:"submit",children:"Submit Daily Task"})]}),S.jsx("div",{id:"daily-message",className:"message",children:h})]}),S.jsxs("section",{className:"extra-tasks",children:[S.jsx("h2",{children:"Extra Tasks"}),S.jsxs("form",{id:"extra-tasks-form",onSubmit:P,children:[S.jsxs("label",{children:["Distance walked (km):"," ",S.jsx("input",{type:"number",id:"distanceKm",name:"distanceKm",min:"0",step:"0.1",value:z.distanceKm,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Gym session time (minutes):"," ",S.jsx("input",{type:"number",id:"gymMins",name:"gymMins",min:"0",step:"1",value:z.gymMins,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Sport time (minutes):"," ",S.jsx("input",{type:"number",id:"sportMins",name:"sportMins",min:"0",step:"1",value:z.sportMins,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Cycling class attended:"," ",S.jsx("input",{type:"checkbox",id:"cyclingClass",name:"cyclingClass",checked:z.cyclingClass,onChange:k})]}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Submit Extra Tasks"})]}),S.jsx("div",{id:"extra-message",className:"message",children:X})]}),S.jsxs("section",{className:"debuffs",children:[S.jsx("h2",{children:"Debuffs"}),S.jsxs("form",{id:"debuffs-form",onSubmit:_t,children:[S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"takeaway",name:"takeaway",checked:re.takeaway,onChange:D})," ","Take aways (-1 Point)"]}),S.jsx("br",{}),S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"lateWake",name:"lateWake",checked:re.lateWake,onChange:D})," ","Wake up after 9am (-1 Point)"]}),S.jsx("br",{}),S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"noChore",name:"noChore",checked:re.noChore,onChange:D})," ","No weekly chore (-1 Point)"]}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Submit Debuffs"})]}),S.jsx("div",{id:"debuffs-message",className:"message",children:ue})]})]})})}var LC="firebase",jC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(LC,jC,"app");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Um;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function C(){}C.prototype=w.prototype,O.D=w.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(M,k,P){for(var D=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)D[_t-2]=arguments[_t];return w.prototype[k].apply(M,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)M[k]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(k=0;16>k;++k)M[k]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=O.g[0],C=O.g[1],k=O.g[2];var P=O.g[3],D=w+(P^C&(k^P))+M[0]+3614090360&4294967295;w=C+(D<<7&4294967295|D>>>25),D=P+(k^w&(C^k))+M[1]+3905402710&4294967295,P=w+(D<<12&4294967295|D>>>20),D=k+(C^P&(w^C))+M[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(w^k&(P^w))+M[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(P^C&(k^P))+M[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=P+(k^w&(C^k))+M[5]+1200080426&4294967295,P=w+(D<<12&4294967295|D>>>20),D=k+(C^P&(w^C))+M[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(w^k&(P^w))+M[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(P^C&(k^P))+M[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=P+(k^w&(C^k))+M[9]+2336552879&4294967295,P=w+(D<<12&4294967295|D>>>20),D=k+(C^P&(w^C))+M[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(w^k&(P^w))+M[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(P^C&(k^P))+M[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=P+(k^w&(C^k))+M[13]+4254626195&4294967295,P=w+(D<<12&4294967295|D>>>20),D=k+(C^P&(w^C))+M[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(w^k&(P^w))+M[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=w+(k^P&(C^k))+M[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(w^C))+M[6]+3225465664&4294967295,P=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(P^w))+M[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^w&(k^P))+M[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^P&(C^k))+M[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(w^C))+M[10]+38016083&4294967295,P=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(P^w))+M[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^w&(k^P))+M[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^P&(C^k))+M[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(w^C))+M[14]+3275163606&4294967295,P=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(P^w))+M[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^w&(k^P))+M[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(k^P&(C^k))+M[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(w^C))+M[2]+4243563512&4294967295,P=w+(D<<9&4294967295|D>>>23),D=k+(w^C&(P^w))+M[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^w&(k^P))+M[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=w+(C^k^P)+M[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=P+(w^C^k)+M[8]+2272392833&4294967295,P=w+(D<<11&4294967295|D>>>21),D=k+(P^w^C)+M[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^w)+M[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^P)+M[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=P+(w^C^k)+M[4]+1272893353&4294967295,P=w+(D<<11&4294967295|D>>>21),D=k+(P^w^C)+M[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^w)+M[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^P)+M[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=P+(w^C^k)+M[0]+3936430074&4294967295,P=w+(D<<11&4294967295|D>>>21),D=k+(P^w^C)+M[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^w)+M[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(C^k^P)+M[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=P+(w^C^k)+M[12]+3873151461&4294967295,P=w+(D<<11&4294967295|D>>>21),D=k+(P^w^C)+M[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^w)+M[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=w+(k^(C|~P))+M[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=P+(C^(w|~k))+M[7]+1126891415&4294967295,P=w+(D<<10&4294967295|D>>>22),D=k+(w^(P|~C))+M[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~w))+M[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~P))+M[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=P+(C^(w|~k))+M[3]+2399980690&4294967295,P=w+(D<<10&4294967295|D>>>22),D=k+(w^(P|~C))+M[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~w))+M[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~P))+M[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=P+(C^(w|~k))+M[15]+4264355552&4294967295,P=w+(D<<10&4294967295|D>>>22),D=k+(w^(P|~C))+M[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~w))+M[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=w+(k^(C|~P))+M[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=P+(C^(w|~k))+M[11]+3174756917&4294967295,P=w+(D<<10&4294967295|D>>>22),D=k+(w^(P|~C))+M[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~w))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+P&4294967295}a.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var C=w-this.blockSize,M=this.B,k=this.h,P=0;P<w;){if(k==0)for(;P<=C;)l(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<w;)if(M[k++]=O.charCodeAt(P++),k==this.blockSize){l(this,M),k=0;break}}else for(;P<w;)if(M[k++]=O[P++],k==this.blockSize){l(this,M),k=0;break}}this.h=k,this.o+=w},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var C=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=C&255,C/=256;for(this.u(O),O=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)O[C++]=this.g[w]>>>M&255;return O};function h(O,w){var C=p;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=w(O)}function d(O,w){this.h=w;for(var C=[],M=!0,k=O.length-1;0<=k;k--){var P=O[k]|0;M&&P==w||(C[k]=P,M=!1)}this.g=C}var p={};function y(O){return-128<=O&&128>O?h(O,function(w){return new d([w|0],0>w?-1:0)}):new d([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return F(g(-O));for(var w=[],C=1,M=0;O>=C;M++)w[M]=O/C|0,C*=4294967296;return new d(w,0)}function T(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return F(T(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),M=R,k=0;k<O.length;k+=8){var P=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+P),w);8>P?(P=g(Math.pow(w,P)),M=M.j(P).add(g(D))):(M=M.j(C),M=M.add(g(D)))}return M}var R=y(0),b=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(z(this))return-F(this).m();for(var O=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);O+=(0<=M?M:4294967296+M)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(z(this))return"-"+F(this).toString(O);for(var w=g(Math.pow(O,6)),C=this,M="";;){var k=me(C,w).g;C=X(C,k.j(w));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=k,Q(C))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function z(O){return O.h==-1}r.l=function(O){return O=X(this,O),z(O)?-1:Q(O)?0:1};function F(O){for(var w=O.g.length,C=[],M=0;M<w;M++)C[M]=~O.g[M];return new d(C,~O.h).add(b)}r.abs=function(){return z(this)?F(this):this},r.add=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],M=0,k=0;k<=w;k++){var P=M+(this.i(k)&65535)+(O.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);M=D>>>16,P&=65535,D&=65535,C[k]=D<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function X(O,w){return O.add(F(w))}r.j=function(O){if(Q(this)||Q(O))return R;if(z(this))return z(O)?F(this).j(F(O)):F(F(this).j(O));if(z(O))return F(this.j(F(O)));if(0>this.l(K)&&0>O.l(K))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<O.g.length;k++){var P=this.i(M)>>>16,D=this.i(M)&65535,_t=O.i(k)>>>16,Oe=O.i(k)&65535;C[2*M+2*k]+=D*Oe,se(C,2*M+2*k),C[2*M+2*k+1]+=P*Oe,se(C,2*M+2*k+1),C[2*M+2*k+1]+=D*_t,se(C,2*M+2*k+1),C[2*M+2*k+2]+=P*_t,se(C,2*M+2*k+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new d(C,0)};function se(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function re(O,w){this.g=O,this.h=w}function me(O,w){if(Q(w))throw Error("division by zero");if(Q(O))return new re(R,R);if(z(O))return w=me(F(O),w),new re(F(w.g),F(w.h));if(z(w))return w=me(O,F(w)),new re(F(w.g),w.h);if(30<O.g.length){if(z(O)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=w;0>=M.l(O);)C=ue(C),M=ue(M);var k=Ee(C,1),P=Ee(M,1);for(M=Ee(M,2),C=Ee(C,2);!Q(M);){var D=P.add(M);0>=D.l(O)&&(k=k.add(C),P=D),M=Ee(M,1),C=Ee(C,1)}return w=X(O,k.j(w)),new re(k,w)}for(k=R;0<=O.l(w);){for(C=Math.max(1,Math.floor(O.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=g(C),D=P.j(w);z(D)||0<D.l(O);)C-=M,P=g(C),D=P.j(w);Q(P)&&(P=b),k=k.add(P),O=X(O,D)}return new re(k,O)}r.A=function(O){return me(this,O).h},r.and=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&O.i(M);return new d(C,this.h&O.h)},r.or=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|O.i(M);return new d(C,this.h|O.h)},r.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^O.i(M);return new d(C,this.h^O.h)};function ue(O){for(var w=O.g.length+1,C=[],M=0;M<w;M++)C[M]=O.i(M)<<1|O.i(M-1)>>>31;return new d(C,O.h)}function Ee(O,w){var C=w>>5;w%=32;for(var M=O.g.length-C,k=[],P=0;P<M;P++)k[P]=0<w?O.i(P+C)>>>w|O.i(P+C+1)<<32-w:O.i(P+C);return new d(k,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Um=d}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l0,vl,u0,Lc,am,c0,h0,f0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var _=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var Y=_++;return{value:m(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function b(u,m,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,b.apply(null,arguments)}function K(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Q(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,Y){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return m.prototype[U].apply(A,ae)}}function z(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function F(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const U=u.length||0,Y=A.length||0;u.length=U+Y;for(let ae=0;ae<Y;ae++)u[U+ae]=A[ae]}else u.push(A)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function me(u){return me[" "](u),u}me[" "]=function(){};var ue=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ee(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){p.setTimeout(()=>{throw u},0)}function D(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const A=Oe.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Oe=new X(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,pe=new _t,N=()=>{const u=p.Promise.resolve(void 0);ne=()=>{u.then(Z)}};var Z=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){P(_)}var m=Oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function Se(u,m){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{me(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}Q(Se,ie);var Ae={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function qn(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Xe,this.da=this.fa=!1}function nr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,m,_,A,U){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ae=Yr(u,m,A,U);return-1<ae?(m=u[ae],_||(m.fa=!1)):(m=new qn(m,this.src,Y,!!A,U),m.fa=_,u.push(m)),m};function Fr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),Y;(Y=0<=U)&&Array.prototype.splice.call(A,U,1),Y&&(nr(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Yr(u,m,_,A){for(var U=0;U<u.length;++U){var Y=u[U];if(!Y.da&&Y.listener==m&&Y.capture==!!_&&Y.ha==A)return U}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),ro={};function Jl(u,m,_,A,U){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Jl(u,m[Y],_,A,U);return null}return _=eu(_),u&&u[bt]?u.K(m,_,g(A)?!!A.capture:!1,U):pn(u,m,_,!1,A,U)}function pn(u,m,_,A,U,Y){if(!m)throw Error("Invalid event type");var ae=g(U)?!!U.capture:!!U,Me=Fs(u);if(Me||(u[Qr]=Me=new di(u)),_=Me.add(m,_,A,ae,Y),_.proxy)return _;if(A=Ch(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)fe||(U=ae),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Kr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ch(){function u(_){return m.call(u.src,u.listener,_)}const m=Ih;return u}function so(u,m,_,A,U){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)so(u,m[Y],_,A,U);else A=g(A)?!!A.capture:!!A,_=eu(_),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],_=Yr(Y,_,A,U),-1<_&&(nr(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Yr(m,_,A,U)),(_=-1<u?m[u]:null)&&Gs(_))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Fr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Kr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Fs(m))?(Fr(_,u),_.h==0&&(_.src=null,m[Qr]=null)):nr(u)}}}function Kr(u){return u in ro?ro[u]:ro[u]="on"+u}function Ih(u,m){if(u.da)u=!0;else{m=new Se(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Gs(u),u=_.call(A,m)}return u}function Fs(u){return u=u[Qr],u instanceof di?u:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function rt(){oe.call(this),this.i=new di(this),this.M=this,this.F=null}Q(rt,oe),rt.prototype[bt]=!0,rt.prototype.removeEventListener=function(u,m,_,A){so(this,u,m,_,A)};function Be(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new ie(m,u);else if(m instanceof ie)m.target=m.target||u;else{var U=m;m=new ie(A,u),M(m,U)}if(U=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ae=m.g=_[Y];U=an(ae,A,!0,m)&&U}if(ae=m.g=u,U=an(ae,A,!0,m)&&U,U=an(ae,A,!1,m)&&U,_)for(Y=0;Y<_.length;Y++)ae=m.g=_[Y],U=an(ae,A,!1,m)&&U}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)nr(_[A]);delete u.g[m],u.h--}}this.F=null},rt.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},rt.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function an(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,Y=0;Y<m.length;++Y){var ae=m[Y];if(ae&&!ae.da&&ae.capture==_){var Me=ae.listener,Et=ae.ha||ae.src;ae.fa&&Fr(u.i,ae),U=Me.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function Bt(u,m,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function tu(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dh extends oe{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){oe.call(this),this.h=u,this.g={}}Q(Xr,oe);var $r=[];function Wr(u){Ee(u.g,function(m,_){this.g.hasOwnProperty(_)&&Gs(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Wr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,Ys=p.JSON.parse,Zr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function oo(){}oo.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function uo(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ie.call(this,"d")}Q(pi,ie);function co(){ie.call(this,"c")}Q(co,ie);var Gn={},ho=null;function ir(){return ho=ho||new rt}Gn.La="serverreachability";function Qs(u){ie.call(this,Gn.La,u)}Q(Qs,ie);function rr(u){const m=ir();Be(m,new Qs(m))}Gn.STAT_EVENT="statevent";function nu(u,m){ie.call(this,Gn.STAT_EVENT,u),this.stat=m}Q(nu,ie);function Ze(u){const m=ir();Be(m,new nu(m,u))}Gn.Ma="timingevent";function vt(u,m){ie.call(this,Gn.Ma,u),this.size=m}Q(vt,ie);function ft(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function fo(u,m,_,A,U,Y){u.info(function(){if(u.g)if(Y)for(var ae="",Me=Y.split("&"),Et=0;Et<Me.length;Et++){var ke=Me[Et].split("=");if(1<ke.length){var Rt=ke[0];ke=ke[1];var Tt=Rt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Rt+"="+ke+"&"):ae+(Rt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+ae})}function Nh(u,m,_,A,U,Y,ae){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+Y+" "+ae})}function sr(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,_)+(A?" "+A:"")})}function iu(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var Y=U[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Dn(_)}catch{return m}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Yn(){}Q(Yn,oo),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Fn=new Yn;function Xt(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var mo={},Ks={};function Nn(u,m,_){u.L=1,u.v=rs(on(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),es(u),u.A=on(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Eo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new lt,u.g=vu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Dh(b(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&($r[0]=U.toString()),U=$r);for(var Y=0;Y<U.length;Y++){var ae=Jl(_,U[Y],A||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),rr(),fo(u.i,u.u,u.A,u.l,u.R,u.m)}Xt.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Xt.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=En(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Tt!=4||m==7||(m==8||0>=wi?rr(3):rr(2)),or(this);var _=this.g.Z();this.X=_;t:if(ru(this)){var A=hu(this.g);u="";var U=A.length,Y=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),Qn(this);var ae="";break t}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(Y&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Nh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Me)){var ke=Me;break t}}ke=null}if(_=ke)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,_);else{this.o=!1,this.s=3,Ze(12),xt(this),Qn(this);break e}}if(this.P){_=!0;let Mt;for(;!this.J&&this.C<ae.length;)if(Mt=su(this,ae),Mt==Ks){Tt==4&&(this.s=4,Ze(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==mo){this.s=4,Ze(15),sr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,Mt,null),ts(this,Mt);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,Ze(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,ae,"[Invalid Chunked Response]"),xt(this),Qn(this);else if(0<ae.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),fs(Rt),Rt.M=!0,Ze(11))}}else sr(this.i,this.l,ae,null),ts(this,ae);Tt==4&&xt(this),this.o&&!this.J&&(Tt==4?gu(this.j,this):(this.o=!1,es(this)))}else Vh(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),xt(this),Qn(this)}}}catch{}finally{}};function ru(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function su(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Ks:(_=Number(m.substring(_,A)),isNaN(_)?mo:(A+=1,A+_>m.length?Ks:(m=m.slice(A,A+_),u.C=A+_,m)))}Xt.prototype.cancel=function(){this.J=!0,xt(this)};function es(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ft(b(u.ba,u),m)}function or(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Xt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(iu(this.i,this.A),this.L!=2&&(rr(),Ze(17)),xt(this),this.s=2,Qn(this)):au(this,this.S-u)};function Qn(u){u.j.G==0||u.J||gu(u.j,u)}function xt(u){or(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ts(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||po(_.h,u))){if(!u.K&&po(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)aa(_),ra(_);else break e;wo(_),Ze(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ft(b(_.Za,_),6e3));if(1>=$s(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&aa(_),!se(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let ke=U[m];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Rt=ke[3];Rt!=null&&(_.la=Rt,_.j.info("VER="+_.la));const Tt=ke[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const wi=ke[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Mt=u.g;if(Mt){const ei=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var Y=A.h;Y.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ws(Y,Y.h),Y.h=null))}if(A.D){const Co=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(A.ya=Co,Ge(A.I,A.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=u;if(A.qa=_u(A,A.J?A.ia:null,A.W),ae.K){$t(A.h,ae);var Me=ae,Et=A.L;Et&&(Me.I=Et),Me.B&&(or(Me),es(Me)),A.g=ae}else mu(A);0<_.i.length&&sa(_)}else ke[0]!="stop"&&ke[0]!="close"||bi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?bi(_,7):So(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}rr(4)}catch{}}var ou=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $s(u){return u.h?1:u.g?u.g.size:0}function po(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ws(u,m){u.g?u.g.add(m):u.h=m}function $t(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return z(u.i)}function Oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function yo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Zs(u),A=Oh(u),U=A.length,Y=0;Y<U;Y++)m.call(void 0,A[Y],_&&_[Y],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var Y=u[_].substring(0,A);U=u[_].substring(A+1)}else Y=u[_];m(Y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function dt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dt){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,lr(this,u.s),this.l=u.l;var m=u.i,_=new Ei;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),vi(this,_),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),lr(this,m[4]),this.l=yn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}dt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ss(m,_o,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,_o,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ss(_,_.charAt(0)=="/"?Mh:vo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ss(_,Js)),u.join("")};function on(u){return new dt(u)}function is(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function lr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,_){m instanceof Ei?(u.i=m,uu(u.i,u.h)):(_||(m=ss(m,kh)),u.i=new Ei(m,u.h))}function Ge(u,m,_){u.i.set(m,_)}function rs(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,lu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,vo=/[#\?:]/g,Mh=/[#\?]/g,kh=/[#\?@]/g,Js=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&xh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(u,m){_n(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ti(u,m){_n(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return _n(u),m=Kn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let Y=0;Y<U.length;Y++)_.push(m[A])}return _},r.V=function(u){_n(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Kn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Eo(u,m,_){Ti(u,m),0<_.length&&(u.i=null,u.g.set(Kn(u,m),z(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const Y=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var U=Y;ae[A]!==""&&(U+="="+encodeURIComponent(String(ae[A]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uu(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ti(this,A),Eo(this,U,_))},u)),u.j=m}function as(u,m){const _=new gn;if(p.Image){const A=new Image;A.onload=K(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=K(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=K(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=K(vn,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function On(u,m){const _=new gn,A=new AbortController,U=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(U),Y.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function os(){this.g=new Zr}function Xn(u,m,_){const A=_||"";try{yo(u,function(U,Y){let ae=U;g(U)&&(ae=Dn(U)),m.push(A+Y+"="+encodeURIComponent(ae))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function ur(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(ur,oo),ur.prototype.g=function(){return new Si(this.l,this.j)},ur.prototype.i=function(u){return function(){return u}}({});function Si(u,m){rt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Si,rt),r=Si.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Wn(this),this.readyState==3&&To(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let m="";return Ee(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function wt(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Ao(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ge(u,m,_))}function je(u){rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(je,rt);var ea=/^https?$/i,ls=["POST","PUT"];r=je.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?lo(this.o):lo(Fn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){cu(this,Y);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of _)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){cu(this,Y)}};function cu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ta(u),Zn(u)}function ta(u){u.A||(u.A=!0,Be(u,"complete"),Be(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Be(this,"complete"),Be(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)Bt(u.Ea,0,u);else if(Be(u,"readystatechange"),En(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=ae===0){var U=String(u.D).match(ns)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!ea.test(U?U.toLowerCase():"")}_=A}if(_)Be(u,"complete"),Be(u,"success");else{u.m=6;try{var Y=2<En(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",ta(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){us(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Be(u,"ready");try{_.onreadystatechange=A}catch{}}}function us(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ys(m)}};function hu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(se(u[A]))continue;var _=k(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=m[U]||[];m[U]=Y,Y.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ia(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,u),this.cb=cs("retryDelaySeedMs",1e4,u),this.Wa=cs("forwardChannelMaxRetries",2,u),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new os,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){Ze(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=_u(this,null,this.W),sa(this)};function So(u){if(fu(u),u.G==3){var m=u.U++,_=on(u.I);if(Ge(_,"SID",u.K),Ge(_,"RID",m),Ge(_,"TYPE","terminate"),hs(u,_),m=new Xt(u,u.j,m),m.L=2,m.v=rs(on(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),es(m)}yu(u)}function ra(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function fu(u){ra(u),u.u&&(p.clearTimeout(u.u),u.u=null),aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function sa(u){if(!Xs(u.h)&&!u.s){u.s=!0;var m=u.Ga;ne||N(),le||(ne(),le=!0),pe.add(m,u),u.B=0}}function Ph(u,m){return $s(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ft(b(u.Ga,u,m),Ro(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Xt(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=w(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(U.H=Y,Y=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=du(this,U,m),_=on(this.I),Ge(_,"RID",u),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),hs(this,_),Y&&(this.O?m="headers="+encodeURIComponent(String(Ao(Y)))+"&"+m:this.m&&wt(_,this.m,Y)),Ws(this.h,U),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",m),Ge(_,"SID","null"),U.T=!0,Nn(U,_,null)):Nn(U,_,m),this.G=2}}else this.G==3&&(u?bo(this,u):this.i.length==0||Xs(this.h)||bo(this))};function bo(u,m){var _;m?_=m.l:_=u.U++;const A=on(u.I);Ge(A,"SID",u.K),Ge(A,"RID",_),Ge(A,"AID",u.T),hs(u,A),u.m&&u.o&&wt(A,u.m,u.o),_=new Xt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=du(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ws(u.h,_),Nn(_,A,m)}function hs(u,m){u.H&&Ee(u.H,function(_,A){Ge(m,A,_)}),u.l&&yo({},function(_,A){Ge(m,A,_)})}function du(u,m,_){_=Math.min(u.i.length,_);var A=u.l?b(u.l.Na,u.l,u):null;e:{var U=u.i;let Y=-1;for(;;){const ae=["count="+_];Y==-1?0<_?(Y=U[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Me=!0;for(let Et=0;Et<_;Et++){let ke=U[Et].g;const Rt=U[Et].map;if(ke-=Y,0>ke)Y=Math.max(0,U[Et].g-100),Me=!1;else try{Xn(Rt,ae,"req"+ke+"_")}catch{A&&A(Rt)}}if(Me){A=ae.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,A}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ne||N(),le||(ne(),le=!0),pe.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ft(b(u.Fa,u),Ro(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ft(b(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),ra(this),pu(this))};function fs(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new Xt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),hs(u,m),u.m&&u.o&&wt(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=rs(on(m)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),wo(this),Ze(19))};function aa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){aa(u),fs(u),u.g=null;var A=2}else if(po(u.h,m))_=m.D,$t(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=ir(),Be(A,new vt(A,_)),sa(u)}else mu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Ph(u,m)||A==2&&wo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Ro(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=b(u.fb,u),A=u.Xa;const U=!A;A=new dt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||is(A,"https"),rs(A),U?as(A.toString(),_):On(A.toString(),_)}else Ze(2);u.G=0,u.l&&u.l.sa(m),yu(u),fu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function _u(u,m,_){var A=_ instanceof dt?on(_):new dt(_);if(A.g!="")m&&(A.g=m+"."+A.g),lr(A,A.s);else{var U=p.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var Y=new dt(null);A&&is(Y,A),m&&(Y.g=m),U&&lr(Y,U),_&&(Y.l=_),A=Y}return _=u.D,m=u.ya,_&&m&&Ge(A,_,m),Ge(A,"VER",u.la),hs(u,A),A}function vu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new je(new ur({eb:_})):new je(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function oa(){}oa.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){rt.call(this),this.g=new ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!se(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}Q(Wt,rt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){So(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Dn(u),u=_);m.i.push(new ou(m.Ya++,u)),m.G==3&&sa(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Wt.aa.N.call(this)};function Tu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(Tu,pi);function Au(){co.call(this),this.status=1}Q(Au,co);function Jn(u){this.g=u}Q(Jn,Eu),Jn.prototype.ua=function(){Be(this.g,"a")},Jn.prototype.ta=function(u){Be(this.g,new Tu(u))},Jn.prototype.sa=function(u){Be(this.g,new Au)},Jn.prototype.ra=function(){Be(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,f0=function(){return new oa},h0=function(){return ir()},c0=Gn,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Lc=ar,gi.COMPLETE="complete",u0=gi,uo.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",rt.prototype.listen=rt.prototype.K,vl=uo,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,l0=je}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Rm("@firebase/firestore");function Ua(){return Us.logLevel}function he(r,...e){if(Us.logLevel<=xe.DEBUG){const i=e.map(Lm);Us.debug(`Firestore (${no}): ${r}`,...i)}}function Ls(r,...e){if(Us.logLevel<=xe.ERROR){const i=e.map(Lm);Us.error(`Firestore (${no}): ${r}`,...i)}}function vh(r,...e){if(Us.logLevel<=xe.WARN){const i=e.map(Lm);Us.warn(`Firestore (${no}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,d0(r,a,i)}function d0(r,e,i){let a=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ls(a),new Error(a)}function ot(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||d0(e,l,a)}function We(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends tr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ft.UNAUTHENTICATED))}shutdown(){}}class BC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class HC{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},p=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new m0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class qC{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=h=>{h.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const l=h=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=YC(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=e.charAt(l[h]%62))}return a}}function ze(r,e){return r<e?-1:r>e?1:0}function om(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=e.charAt(a);if(l!==h)return Fd(l)===Fd(h)?ze(l,h):Fd(l)?1:-1}return ze(r.length,e.length)}const QC=55296,KC=57343;function Fd(r){const e=r.charCodeAt(0);return e>=QC&&e<=KC}function Ya(r,e,i){return r.length===e.length&&r.every((a,l)=>i(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__name__";class ai{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ce(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ce(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const h=ai.compareSegments(e.get(l),i.get(l));if(h!==0)return h}return ze(e.length,i.length)}static compareSegments(e,i){const a=ai.isNumericId(e),l=ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ai.extractNumericId(e).compare(ai.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Um.fromString(e.substring(4,e.length-2))}}class ht extends ai{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ht(i)}static emptyPath(){return new ht([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ai{construct(e,i,a){return new jt(e,i,a)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new jt([mv])}static fromServerFormat(e){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(i)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r,e,i){if(!i)throw new ge(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WC(r,e,i,a){if(e===!0&&a===!0)throw new ge(te.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!we.isDocumentKey(r))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function lm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ql(r,e){if(!p0(r))throw new ge(te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ge(te.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,yv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*yv);return new tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<gv)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:yt("string",tt._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new tt(0,0))}static max(){return new et(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function ZC(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=et.fromTimestamp(a===1e9?new tt(i+1,0):new tt(i,a));return new jr(l,we.empty(),e)}function JC(r){return new jr(r.readTime,r.key,xl)}class jr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new jr(et.min(),we.empty(),xl)}static max(){return new jr(et.max(),we.empty(),xl)}}function eI(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(r.documentKey,e.documentKey),i!==0?i:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==tI)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.reject(i)}static resolve(e){return new ee((i,a)=>{i(e)})}static reject(e){return new ee((i,a)=>{a(e)})}static waitFor(e){return new ee((i,a)=>{let l=0,h=0,d=!1;e.forEach(p=>{++l,p.next(()=>{++h,d&&h===l&&i()},y=>a(y))}),d=!0,h===l&&i()})}static or(e){let i=ee.resolve(!1);for(const a of e)i=i.next(l=>l?ee.resolve(l):a());return i}static forEach(e,i){const a=[];return e.forEach((l,h)=>{a.push(i.call(this,l,h))}),this.waitFor(a)}static mapArray(e,i){return new ee((a,l)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const g=y;i(e[g]).next(T=>{d[g]=T,++p,p===h&&a(d)},T=>l(T))}})}static doWhile(e,i){return new ee((a,l)=>{const h=()=>{e()===!0?i().next(()=>{h()},l):a()};h()})}}function iI(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Kl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function Gm(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function rI(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function sI(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=_v(e)),e=aI(r.get(i),e);return _v(e)}function aI(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case g0:i+="";break;default:i+=h}}return i}function _v(r){return r+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function io(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function y0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,i){this.comparator=e,this.root=i||Ut.EMPTY}insert(e,i){return new sn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,i,a,l,h){this.key=e,this.value=i,this.color=a??Ut.RED,this.left=l??Ut.EMPTY,this.right=h??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,h){return new Ut(e??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const h=a(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ut.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,i,a,l,h){return this}insert(e,i,a){return new Ut(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(e){return new Ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class Ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new zn([])}unionWith(e){let i=new zt(jt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new oI("Invalid base64 string: "+h):h}}(e);return new ci(i)}static fromUint8Array(e){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(e);return new ci(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const i=lI.exec(r);if(ot(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?ci.fromBase64String(r):ci.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="server_timestamp",v0="__type__",E0="__previous_value__",T0="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[v0]?.stringValue===_0}function Ym(r){const e=r.mapValue.fields[E0];return Fm(e)?Ym(e):e}function eh(r){const e=js(r.mapValue.fields[T0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,i,a,l,h,d,p,y,g,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const th="(default)";class nh{constructor(e,i){this.projectId=e,this.database=i||th}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",cI="__max__",Ic={mapValue:{}},S0="__vector__",um="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:fI(r)?9007199254740991:hI(r)?10:11:Ce(28295,{value:r})}function hi(r,e){if(r===e)return!0;const i=zs(r);if(i!==zs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eh(r).isEqual(eh(e));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=js(l.timestampValue),p=js(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,h){return Qa(l.bytesValue).isEqual(Qa(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,h){return Lt(l.geoPointValue.latitude)===Lt(h.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(h.geoPointValue.longitude)}(r,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Lt(l.integerValue)===Lt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Lt(l.doubleValue),p=Lt(h.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return Ya(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(vv(d)!==vv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!hi(d[y],p[y])))return!1;return!0}(r,e);default:return Ce(52216,{left:r})}}function Ml(r,e){return(r.values||[]).find(i=>hi(i,e))!==void 0}function Ka(r,e){if(r===e)return 0;const i=zs(r),a=zs(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(h,d){const p=Lt(h.integerValue||h.doubleValue),y=Lt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(r,e);case 3:return Tv(r.timestampValue,e.timestampValue);case 4:return Tv(eh(r),eh(e));case 5:return om(r.stringValue,e.stringValue);case 6:return function(h,d){const p=Qa(h),y=Qa(d);return p.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=ze(p[g],y[g]);if(T!==0)return T}return ze(p.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const p=ze(Lt(h.latitude),Lt(d.latitude));return p!==0?p:ze(Lt(h.longitude),Lt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Av(r.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},y=d.fields||{},g=p[um]?.arrayValue,T=y[um]?.arrayValue,R=ze(g?.values?.length||0,T?.values?.length||0);return R!==0?R:Av(g,T)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ic.mapValue&&d===Ic.mapValue)return 0;if(h===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const b=om(y[R],T[R]);if(b!==0)return b;const K=Ka(p[y[R]],g[T[R]]);if(K!==0)return K}return ze(y.length,T.length)}(r.mapValue,e.mapValue);default:throw Ce(23264,{he:i})}}function Tv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const i=js(r),a=js(e),l=ze(i.seconds,a.seconds);return l!==0?l:ze(i.nanos,a.nanos)}function Av(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ka(i[l],a[l]);if(h)return h}return ze(i.length,a.length)}function Xa(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=js(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Qa(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return we.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=cm(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"}(r.mapValue):Ce(61005,{value:r})}function jc(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ym(r);return e?16+jc(e):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+jc(h),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return io(a.fields,(h,d)=>{l+=h.length+jc(d)}),l}(r.mapValue);default:throw Ce(13486,{value:r})}}function hm(r){return!!r&&"integerValue"in r}function Qm(r){return!!r&&"arrayValue"in r}function zc(r){return!!r&&"mapValue"in r}function hI(r){return(r?.mapValue?.fields||{})[A0]?.stringValue===S0}function Sl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return io(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Sl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Sl(r.arrayValue.values[i]);return e}return{...r}}function fI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(i)}setAll(e){let i=jt.emptyPath(),a={},l=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Sl(d):l.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){io(i,(l,h)=>e[l]=h);for(const l of a)delete e[l]}clone(){return new Pn(Sl(this.value))}}function b0(r){const e=[];return io(r.fields,(i,a)=>{const l=new jt([i]);if(zc(a)){const h=b0(a.mapValue).fields;if(h.length===0)e.push(l);else for(const d of h)e.push(l.child(d))}else e.push(l)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,i,a,l,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Vn(e,0,et.min(),et.min(),et.min(),Pn.empty(),0)}static newFoundDocument(e,i,a,l){return new Vn(e,1,i,et.min(),a,l,0)}static newNoDocument(e,i){return new Vn(e,2,i,et.min(),et.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new Vn(e,3,i,et.min(),et.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,i){this.position=e,this.inclusive=i}}function Sv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const h=e[l],d=r.position[l];if(h.field.isKeyField()?a=we.comparator(we.fromName(d.referenceValue),i.key):a=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function bv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function dI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{}class Ot extends w0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new pI(e,i,a):i==="array-contains"?new _I(e,a):i==="in"?new vI(e,a):i==="not-in"?new EI(e,a):i==="array-contains-any"?new TI(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new gI(e,a):new yI(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends w0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zr(e,i)}matches(e){return R0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R0(r){return r.op==="and"}function C0(r){return mI(r)&&R0(r)}function mI(r){for(const e of r.filters)if(e instanceof zr)return!1;return!0}function fm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(C0(r))return r.filters.map(e=>fm(e)).join(",");{const e=r.filters.map(i=>fm(i)).join(",");return`${r.op}(${e})`}}function I0(r,e){return r instanceof Ot?function(a,l){return l instanceof Ot&&a.op===l.op&&a.field.isEqual(l.field)&&hi(a.value,l.value)}(r,e):r instanceof zr?function(a,l){return l instanceof zr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,d,p)=>h&&I0(d,l.filters[p]),!0):!1}(r,e):void Ce(19439)}function D0(r){return r instanceof Ot?function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`}(r):r instanceof zr?function(i){return i.op.toString()+" {"+i.getFilters().map(D0).join(" ,")+"}"}(r):"Filter"}class pI extends Ot{constructor(e,i,a){super(e,i,a),this.key=we.fromName(a.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class gI extends Ot{constructor(e,i){super(e,"in",i),this.keys=N0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class yI extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=N0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function N0(r,e){return(e.arrayValue?.values||[]).map(i=>we.fromName(i.referenceValue))}class _I extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&Ml(i.arrayValue,this.value)}}class vI extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class EI extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class TI extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ml(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,i=null,a=[],l=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function wv(r,e=null,i=[],a=[],l=null,h=null,d=null){return new AI(r,e,i,a,l,h,d)}function Km(r){const e=We(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>fm(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Gm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Xa(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Xa(a)).join(",")),e.Te=i}return e.Te}function Xm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dI(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!I0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bv(r.startAt,e.startAt)&&bv(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i=null,a=[],l=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SI(r,e,i,a,l,h,d,p){return new Eh(r,e,i,a,l,h,d,p)}function bI(r){return new Eh(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wI(r){return r.collectionGroup!==null}function bl(r){const e=We(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(jt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rh(h,a))}),i.has(jt.keyField().canonicalString())||e.Ie.push(new rh(jt.keyField(),a))}return e.Ie}function xs(r){const e=We(r);return e.Ee||(e.Ee=RI(e,bl(r))),e.Ee}function RI(r,e){if(r.limitType==="F")return wv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new rh(l.field,h)});const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function O0(r,e){return Xm(xs(r),xs(e))&&r.limitType===e.limitType}function x0(r){return`${Km(xs(r))}|lt:${r.limitType}`}function gl(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>D0(l)).join(", ")}]`),Gm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Xa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Xa(l)).join(",")),`Target(${a})`}(xs(r))}; limitType=${r.limitType})`}function $m(r,e){return e.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):we.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,e)&&function(a,l){for(const h of bl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,e)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(r,e)&&function(a,l){return!(a.startAt&&!function(d,p,y){const g=Sv(d,p,y);return d.inclusive?g<=0:g<0}(a.startAt,bl(a),l)||a.endAt&&!function(d,p,y){const g=Sv(d,p,y);return d.inclusive?g>=0:g>0}(a.endAt,bl(a),l))}(r,e)}function CI(r){return(e,i)=>{let a=!1;for(const l of bl(r)){const h=II(l,e,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function II(r,e,i){const a=r.field.isKeyField()?we.comparator(e.key,i.key):function(h,d,p){const y=d.data.field(h),g=p.data.field(h);return y!==null&&g!==null?Ka(y,g):Ce(42886)}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(i,a)=>{for(const[l,h]of a)e(l,h)})}isEmpty(){return y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new sn(we.comparator);function sh(){return DI}const M0=new sn(we.comparator);function Dc(...r){let e=M0;for(const i of r)e=e.insert(i.key,i);return e}function k0(r){let e=M0;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Ns(){return wl()}function V0(){return wl()}function wl(){return new Hs(r=>r.toString(),(r,e)=>r.isEqual(e))}const NI=new sn(we.comparator),OI=new zt(we.comparator);function Yt(...r){let e=OI;for(const i of r)e=e.add(i);return e}const xI=new zt(ze);function MI(){return xI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function P0(r){return{integerValue:""+r}}function kI(r,e){return rI(e)?P0(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function VI(r,e,i){return r instanceof ah?function(l,h){const d={fields:{[v0]:{stringValue:_0},[T0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Fm(h)&&(h=Ym(h)),h&&(d.fields[E0]=h),{mapValue:d}}(i,e):r instanceof kl?L0(r,e):r instanceof Vl?j0(r,e):function(l,h){const d=U0(l,h),p=Cv(d)+Cv(l.Ae);return hm(d)&&hm(l.Ae)?P0(p):Wm(l.serializer,p)}(r,e)}function PI(r,e,i){return r instanceof kl?L0(r,e):r instanceof Vl?j0(r,e):i}function U0(r,e){return r instanceof oh?function(a){return hm(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class ah extends Th{}class kl extends Th{constructor(e){super(),this.elements=e}}function L0(r,e){const i=z0(e);for(const a of r.elements)i.some(l=>hi(l,a))||i.push(a);return{arrayValue:{values:i}}}class Vl extends Th{constructor(e){super(),this.elements=e}}function j0(r,e){let i=z0(e);for(const a of r.elements)i=i.filter(l=>!hi(l,a));return{arrayValue:{values:i}}}class oh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Cv(r){return Lt(r.integerValue||r.doubleValue)}function z0(r){return Qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UI(r,e){return r.field.isEqual(e.field)&&function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Vl&&l instanceof Vl?Ya(a.elements,l.elements,hi):a instanceof oh&&l instanceof oh?hi(a.Ae,l.Ae):a instanceof ah&&l instanceof ah}(r.transform,e.transform)}class LI{constructor(e,i){this.version=e,this.transformResults=i}}class Qi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ah{}function B0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new q0(r.key,Qi.none()):new Xl(r.key,r.data,Qi.none());{const i=r.data,a=Pn.empty();let l=new zt(jt.comparator);for(let h of e.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new qs(r.key,a,new zn(l.toArray()),Qi.none())}}function jI(r,e,i){r instanceof Xl?function(l,h,d){const p=l.value.clone(),y=Dv(l.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):r instanceof qs?function(l,h,d){if(!Bc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Dv(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(H0(l)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Rl(r,e,i,a){return r instanceof Xl?function(h,d,p,y){if(!Bc(h.precondition,d))return p;const g=h.value.clone(),T=Nv(h.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,i,a):r instanceof qs?function(h,d,p,y){if(!Bc(h.precondition,d))return p;const g=Nv(h.fieldTransforms,y,d),T=d.data;return T.setAll(H0(h)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,e,i,a):function(h,d,p){return Bc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,i)}function zI(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),h=U0(a.transform,l||null);h!=null&&(i===null&&(i=Pn.empty()),i.set(a.field,h))}return i||null}function Iv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,(h,d)=>UI(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends Ah{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends Ah{constructor(e,i,a,l,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function H0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function Dv(r,e,i){const a=new Map;ot(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,p=e.data.field(h.field);a.set(h.field,PI(d,p,i[l]))}return a}function Nv(r,e,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,VI(h,d,e))}return a}class q0 extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&jI(h,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Rl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Rl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=V0();return this.mutations.forEach(l=>{const h=e.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const y=B0(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(i,a)=>Iv(i,a))&&Ya(this.baseMutations,e.baseMutations,(i,a)=>Iv(i,a))}}class Zm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ot(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=function(){return NI}();const h=e.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Zm(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function GI(r){switch(r){case te.OK:return Ce(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function FI(r){if(r===void 0)return Ls("GRPC error has no .code"),te.UNKNOWN;switch(r){case gt.OK:return te.OK;case gt.CANCELLED:return te.CANCELLED;case gt.UNKNOWN:return te.UNKNOWN;case gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case gt.INTERNAL:return te.INTERNAL;case gt.UNAVAILABLE:return te.UNAVAILABLE;case gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case gt.NOT_FOUND:return te.NOT_FOUND;case gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case gt.ABORTED:return te.ABORTED;case gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case gt.DATA_LOSS:return te.DATA_LOSS;default:return Ce(39323,{code:r})}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Um([4294967295,4294967295],0);class YI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KI(r,e){return mm(r,e.toTimestamp())}function qa(r){return ot(!!r,49232),et.fromTimestamp(function(i){const a=js(i);return new tt(a.seconds,a.nanos)}(r))}function G0(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=function(l){return new ht(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?i:i.child(e)}function XI(r){const e=ht.fromString(r);return ot(i2(e),10190,{key:e.toString()}),e}function gm(r,e){return G0(r.databaseId,e.path)}function $I(r){const e=XI(r);return e.length===4?ht.emptyPath():ZI(e)}function WI(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZI(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ov(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function JI(r,e){let i;if(e instanceof Xl)i={update:Ov(r,e.key,e.value)};else if(e instanceof q0)i={delete:gm(r,e.key)};else if(e instanceof qs)i={update:Ov(r,e.key,e.data),updateMask:n2(e.fieldMask)};else{if(!(e instanceof BI))return Ce(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:KI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ce(27497)}(r,e.precondition)),i}function e2(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map(i=>function(l,h){let d=l.updateTime?qa(l.updateTime):qa(h);return d.isEqual(et.min())&&(d=qa(h)),new LI(d,l.transformResults||[])}(i,e))):[]}function t2(r){let e=$I(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ot(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(R){const b=F0(R);return b instanceof zr&&C0(b)?b.getFilters():[b]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(b=>function(Q){return new rh(La(Q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(b))}(i.orderBy));let p=null;i.limit&&(p=function(R){let b;return b=typeof R=="object"?R.value:R,Gm(b)?null:b}(i.limit));let y=null;i.startAt&&(y=function(R){const b=!!R.before,K=R.values||[];return new ih(K,b)}(i.startAt));let g=null;return i.endAt&&(g=function(R){const b=!R.before,K=R.values||[];return new ih(K,b)}(i.endAt)),SI(e,l,d,h,p,"F",y,g)}function F0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=La(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=La(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=La(i.unaryFilter.field);return Ot.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ot.create(La(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return zr.create(i.compositeFilter.filters.map(a=>F0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(i.compositeFilter.op))}(r):Ce(30097,{filter:r})}function La(r){return jt.fromServerFormat(r.fieldPath)}function n2(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function i2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.yt=e}}function s2(r){const e=t2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Cn=new o2}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(jr.min())}updateCollectionGroup(e,i,a){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class o2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new zt(ht.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Y0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",l2=1048576;function kv([r,e],[i,a]){const l=ze(r,i);return l===0?ze(e,a):l}class u2{constructor(e){this.Ir=e,this.buffer=new zt(kv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class c2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Kl(i)?he(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await Bm(i)}await this.Vr(3e5)})}}class h2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Hm.ce);const a=new u2(i);return this.mr.forEachTarget(e,l=>a.Ar(l.sequenceNumber)).next(()=>this.mr.pr(e,l=>a.Ar(l))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(xv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,h,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(a=R,p=Date.now(),this.removeTargets(e,a,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(R=>(g=Date.now(),Ua()<=xe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R})))}}function f2(r,e){return new h2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.changes=new Hs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ee.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,i))).next(l=>(a!==null&&Rl(a.mutation,l,zn.empty(),tt.now()),l))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Yt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Yt()){const l=Ns();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,a).next(h=>{let d=Dc();return h.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=Ns();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Yt()))}populateOverlays(e,i,a){const l=[];return a.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,l){let h=sh();const d=wl(),p=function(){return wl()}();return i.forEach((y,g)=>{const T=a.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof qs)?h=h.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Rl(T.mutation,g,T.mutation.getFieldMask(),tt.now())):d.set(g.key,zn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((g,T)=>d.set(g,T)),i.forEach((g,T)=>p.set(g,new m2(T,d.get(g)??null))),p))}recalculateAndSaveOverlays(e,i){const a=wl();let l=new sn((d,p)=>d-p),h=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let T=a.get(y)||zn.empty();T=p.applyToLocalView(g,T),a.set(y,T);const R=(l.get(p.batchId)||Yt()).add(y);l=l.insert(p.batchId,R)})}).next(()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,R=V0();T.forEach(b=>{if(!h.has(b)){const K=B0(i.get(b),a.get(b));K!==null&&R.set(b,K),h=h.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,R))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,l){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wI(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-h.size):ee.resolve(Ns());let p=xl,y=h;return d.next(g=>ee.forEach(g,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{y=y.insert(T,b)}))).next(()=>this.populateOverlays(e,g,h)).next(()=>this.computeViews(e,y,g,Yt())).next(T=>({batchId:p,changes:k0(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next(a=>{let l=Dc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const h=i.collectionGroup;let d=Dc();return this.indexManager.getCollectionParents(e,h).next(p=>ee.forEach(p,y=>{const g=function(R,b){return new Eh(b,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next(T=>{T.forEach((R,b)=>{d=d.insert(R,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,l))).next(d=>{h.forEach((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Vn.newInvalidDocument(T)))});let p=Dc();return d.forEach((y,g)=>{const T=h.get(y);T!==void 0&&Rl(T.mutation,g,zn.empty(),tt.now()),$m(i,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ee.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:qa(l.createTime)}}(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(l){return{name:l.name,query:s2(l.bundledQuery),readTime:qa(l.readTime)}}(i)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.overlays=new sn(we.comparator),this.qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ns();return ee.forEach(i,l=>this.getOverlay(e,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((l,h)=>{this.St(e,i,h)}),ee.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,i,a){const l=Ns(),h=i.length+1,d=new we(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let h=new sn((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let T=h.get(g.largestBatchId);T===null&&(T=Ns(),h=h.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=Ns(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=l)););return ee.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qI(i,a));let h=this.qr.get(i);h===void 0&&(h=Yt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Qr=new zt(Nt.$r),this.Ur=new zt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Nt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Nt(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new we(new ht([])),a=new Nt(i,e),l=new Nt(i,e+1),h=[];return this.Ur.forEachInRange([a,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ht([])),a=new Nt(i,e),l=new Nt(i,e+1);let h=Yt();return this.Ur.forEachInRange([a,l],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Nt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Nt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Nt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HI(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Nt(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return ee.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Nt(i,0),l=new Nt(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],d=>{const p=this.Xr(d.Yr);h.push(p)}),ee.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(ze);return i.forEach(l=>{const h=new Nt(l,0),d=new Nt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let h=a;we.isDocumentKey(h)||(h=h.child(""));const d=new Nt(new we(h),0);let p=new zt(ze);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)},d),ee.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const l=this.Xr(a);l!==null&&i.push(l)}),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(i.mutations,l=>{const h=new Nt(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Nt(i,0),l=this.Zr.firstAfterOrEqual(a);return ee.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.ri=e,this.docs=function(){return new sn(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ee.resolve(a?a.document.mutableCopy():Vn.newInvalidDocument(i))}getEntries(e,i){let a=sh();return i.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Vn.newInvalidDocument(l))}),ee.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let h=sh();const d=i.path,p=new we(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||eI(JC(T),a)<=0||(l.has(T.key)||$m(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return ee.resolve(h)}getAllFromCollectionGroup(e,i,a,l){Ce(9500)}ii(e,i){return ee.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new T2(this)}getSize(e){return ee.resolve(this.size)}}class T2 extends d2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)}),ee.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.persistence=e,this.si=new Hs(i=>Km(i),Xm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,i){return this.si.forEach((a,l)=>i(l)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),ee.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Pr(i),ee.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,a){let l=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)}),ee.waitFor(h).next(()=>l)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return ee.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),ee.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(e,d))}),ee.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return ee.resolve(a)}containsKey(e,i){return ee.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Hm(0),this.li=!1,this.li=!0,this.hi=new _2,this.referenceDelegate=e(this),this.Pi=new A2(this),this.indexManager=new a2,this.remoteDocumentCache=function(l){return new E2(l)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new r2(i),this.Ii=new g2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new y2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new v2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const l=new S2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(e,i){return ee.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class S2 extends nI{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new ep(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,a=>{const l=we.fromPath(a);return this.gi(e,l).next(h=>{h||i.removeEntry(l,et.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return ee.or([()=>ee.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new Hs(a=>sI(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=f2(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(l=>a+l))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return ee.forEach(this.pi,(a,l)=>this.br(e,a,l).next(h=>h?ee.resolve():i(l)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jc(e.data.value)),i}br(e,i,a){return ee.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ee.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Yt(),l=Yt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new tp(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eb()?8:iI(Kt())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,l,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new b2;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,l){return a.documentReadCount<this.fs?(Ua()<=xe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",gl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ua()<=xe.DEBUG&&he("QueryEngine","Query:",gl(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ua()<=xe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",gl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(i))):ee.resolve())}ys(e,i){if(Rv(i))return ee.resolve(null);let a=xs(i);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=xs(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Yt(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(y=>{const g=this.Ds(i,p);return this.Cs(i,g,d,y.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,g,i,y)}))})))}ws(e,i,a,l){return Rv(i)||l.isEqual(et.min())?ee.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?ee.resolve(null):(Ua()<=xe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gl(i)),this.vs(e,d,i,ZC(l,xl)).next(p=>p))})}Ds(e,i){let a=new zt(CI(e));return i.forEach((l,h)=>{$m(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(e,i,a){return Ua()<=xe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",gl(i)),this.ps.getDocumentsMatchingQuery(e,i,jr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="LocalStore";class C2{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new sn(ze),this.xs=new Hs(h=>Km(h),Xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function I2(r,e,i,a){return new C2(r,e,i,a)}async function K0(r,e){const i=We(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let y=Yt();for(const g of l){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of h){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next(g=>({Ls:g,removedBatchIds:d,addedBatchIds:p}))})})}function D2(r,e){const i=We(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,y,g,T){const R=g.batch,b=R.keys();let K=ee.resolve();return b.forEach(Q=>{K=K.next(()=>T.getEntry(y,Q)).next(z=>{const F=g.docVersions.get(Q);ot(F!==null,48541),z.version.compareTo(F)<0&&(R.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),T.addEntry(z)))})}),K.next(()=>p.mutationQueue.removeMutationBatch(y,R))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let y=Yt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(a,l))})}function N2(r){const e=We(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function O2(r,e){const i=We(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class Vv{constructor(){this.activeTargetIds=MI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x2{constructor(){this.Mo=new Vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class Uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Pv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function ym(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,h){const d=ym(),p=this.zo(e,i.toUriEncodedString());he(Yd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:g}=new URL(p),T=Ja(g);return this.Jo(e,p,y,a,T).then(R=>(he(Yd,`Received RPC '${e}' ${d}: `,R),R),R=>{throw vh(Yd,`RPC '${e}' ${d} failed with error: `,R,"url: ",p,"request:",a),R})}Ho(e,i,a,l,h,d){return this.Go(e,i,a,l,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>e[h]=l),a&&a.headers.forEach((l,h)=>e[h]=l)}zo(e,i){const a=k2[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class U2 extends V2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,h){const d=ym();return new Promise((p,y)=>{const g=new l0;g.setWithCredentials(!0),g.listenOnce(u0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Lc.NO_ERROR:const R=g.getResponseJson();he(Gt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),p(R);break;case Lc.TIMEOUT:he(Gt,`RPC '${e}' ${d} timed out`),y(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const b=g.getStatus();if(he(Gt,`RPC '${e}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let K=g.getResponseJson();Array.isArray(K)&&(K=K[0]);const Q=K?.error;if(Q&&Q.status&&Q.message){const z=function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN}(Q.status);y(new ge(z,Q.message))}else y(new ge(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Gt,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(l);he(Gt,`RPC '${e}' ${d} sending request:`,l),g.send(i,"POST",T,a,15)})}T_(e,i,a){const l=ym(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f0(),p=h0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=h.join("");he(Gt,`Creating RPC '${e}' stream ${l}: ${T}`,y);const R=d.createWebChannel(T,y);this.I_(R);let b=!1,K=!1;const Q=new P2({Yo:F=>{K?he(Gt,`Not sending because RPC '${e}' stream ${l} is closed:`,F):(b||(he(Gt,`Opening RPC '${e}' stream ${l} transport.`),R.open(),b=!0),he(Gt,`RPC '${e}' stream ${l} sending:`,F),R.send(F))},Zo:()=>R.close()}),z=(F,X,se)=>{F.listen(X,re=>{try{se(re)}catch(me){setTimeout(()=>{throw me},0)}})};return z(R,vl.EventType.OPEN,()=>{K||(he(Gt,`RPC '${e}' stream ${l} transport opened.`),Q.o_())}),z(R,vl.EventType.CLOSE,()=>{K||(K=!0,he(Gt,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(R))}),z(R,vl.EventType.ERROR,F=>{K||(K=!0,vh(Gt,`RPC '${e}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),Q.a_(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),z(R,vl.EventType.MESSAGE,F=>{if(!K){const X=F.data[0];ot(!!X,16349);const se=X,re=se?.error||se[0]?.error;if(re){he(Gt,`RPC '${e}' stream ${l} received error:`,re);const me=re.status;let ue=function(w){const C=gt[w];if(C!==void 0)return FI(C)}(me),Ee=re.message;ue===void 0&&(ue=te.INTERNAL,Ee="Unknown error status: "+me+" with message "+re.message),K=!0,Q.a_(new ge(ue,Ee)),R.close()}else he(Gt,`RPC '${e}' stream ${l} received:`,X),Q.u_(X)}}),z(p,c0.STAT_EVENT,F=>{F.stat===am.PROXY?he(Gt,`RPC '${e}' stream ${l} detected buffering proxy`):F.stat===am.NOPROXY&&he(Gt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Q.__()},0),Q}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r){return new YI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,i,a=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class L2{constructor(e,i,a,l,h,d,p,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===te.RESOURCE_EXHAUSTED?(Ls(i.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.D_===i&&this.G_(a,l)},a=>{e(()=>{const l=new ge(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{a(()=>this.z_(l))}),this.stream.onMessage(l=>{a(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(Lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(he(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j2 extends L2{constructor(e,i,a,l,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=e2(e.writeResults,e.commitTime),a=qa(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=WI(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>JI(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class B2 extends z2{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,pm(i,a),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(te.UNKNOWN,h.toString())})}Ho(e,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,pm(i,a),l,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(te.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class H2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class q2{constructor(e,i,a,l,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{Zl(this)&&(he($l,"Restarting streams for network reachability change."),await async function(y){const g=We(y);g.Ea.add(4),await Wl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bh(g)}(this))})}),this.Ra=new H2(a,l)}}async function bh(r){if(Zl(r))for(const e of r.da)await e(!0)}async function Wl(r){for(const e of r.da)await e(!1)}function Zl(r){return We(r).Ea.size===0}async function $0(r,e,i){if(!Kl(e))throw e;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),i||(i=()=>N2(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he($l,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)})}function W0(r,e){return e().catch(i=>$0(r,i,e))}async function wh(r){const e=We(r),i=Br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;G2(e);)try{const l=await O2(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,F2(e,l)}catch(l){await $0(e,l)}Z0(e)&&J0(e)}function G2(r){return Zl(r)&&r.Ta.length<10}function F2(r,e){r.Ta.push(e);const i=Br(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Z0(r){return Zl(r)&&!Br(r).x_()&&r.Ta.length>0}function J0(r){Br(r).start()}async function Y2(r){Br(r).ra()}async function Q2(r){const e=Br(r);for(const i of r.Ta)e.ea(i.mutations)}async function K2(r,e,i){const a=r.Ta.shift(),l=Zm.from(a,e,i);await W0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await wh(r)}async function X2(r,e){e&&Br(r).X_&&await async function(a,l){if(function(d){return GI(d)&&d!==te.ABORTED}(l.code)){const h=a.Ta.shift();Br(a).B_(),await W0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await wh(a)}}(r,e),Z0(r)&&J0(r)}async function jv(r,e){const i=We(r);i.asyncQueue.verifyOperationInProgress(),he($l,"RemoteStore received new credentials");const a=Zl(i);i.Ea.add(3),await Wl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bh(i)}async function $2(r,e){const i=We(r);e?(i.Ea.delete(2),await bh(i)):e||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function Br(r){return r.fa||(r.fa=function(i,a,l){const h=We(i);return h.sa(),new j2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y2.bind(null,r),r_:X2.bind(null,r),ta:Q2.bind(null,r),na:K2.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(he($l,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,i,a,l,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,h){const d=Date.now()+a,p=new np(e,i,d,l,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eT(r,e){if(Ls("AsyncQueue",`${e}: ${r}`),Kl(r))return new ge(te.UNAVAILABLE,`${e}: ${r}`);throw r}class W2{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=We(i),h=l.queries;l.queries=zv(),h.forEach((d,p)=>{for(const y of p.Sa)y.onError(a)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function zv(){return new Hs(r=>x0(r),O0)}function Z2(r){r.Ca.forEach(e=>{e.next()})}var Bv,Hv;(Hv=Bv||(Bv={})).Ma="default",Hv.Cache="cache";const J2="SyncEngine";class eD{constructor(e,i,a,l,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs(p=>x0(p),O0),this.Iu=new Map,this.Eu=new Set,this.du=new sn(we.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tD(r,e,i){const a=sD(r);try{const l=await function(d,p){const y=We(d),g=tt.now(),T=p.reduce((K,Q)=>K.add(Q.key),Yt());let R,b;return y.persistence.runTransaction("Locally write mutations","readwrite",K=>{let Q=sh(),z=Yt();return y.Ns.getEntries(K,T).next(F=>{Q=F,Q.forEach((X,se)=>{se.isValidDocument()||(z=z.add(X))})}).next(()=>y.localDocuments.getOverlayedDocuments(K,Q)).next(F=>{R=F;const X=[];for(const se of p){const re=zI(se,R.get(se.key).overlayedDocument);re!=null&&X.push(new qs(se.key,re,b0(re.value.mapValue),Qi.exists(!0)))}return y.mutationQueue.addMutationBatch(K,g,X,p)}).next(F=>{b=F;const X=F.applyToLocalDocumentSet(R,z);return y.documentOverlayCache.saveOverlays(K,F.batchId,X)})}).then(()=>({batchId:b.batchId,changes:k0(R)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new sn(ze)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g}(a,l.batchId,i),await Rh(a,l.changes),await wh(a.remoteStore)}catch(l){const h=eT(l,"Failed to persist write");i.reject(h)}}function qv(r,e,i){const a=We(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)}),function(d,p){const y=We(d);y.onlineState=p;let g=!1;y.queries.forEach((T,R)=>{for(const b of R.Sa)b.va(p)&&(g=!0)}),g&&Z2(y)}(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function nD(r,e){const i=We(r),a=e.batch.batchId;try{const l=await D2(i.localStore,e);nT(i,a,null),tT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Rh(i,l)}catch(l){await Bm(l)}}async function iD(r,e,i){const a=We(r);try{const l=await function(d,p){const y=We(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next(R=>(ot(R!==null,37113),T=R.keys(),y.mutationQueue.removeMutationBatch(g,R))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(a.localStore,e);nT(a,e,i),tT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Rh(a,l)}catch(l){await Bm(l)}}function tT(r,e){(r.mu.get(e)||[]).forEach(i=>{i.resolve()}),r.mu.delete(e)}function nT(r,e,i){const a=We(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(e);h&&(i?h.reject(i):h.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}async function Rh(r,e,i){const a=We(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,y)=>{d.push(a.pu(y,e,i).then(g=>{if((g||i)&&a.isPrimaryClient){const T=g?!g.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){l.push(g);const T=tp.As(y.targetId,g);h.push(T)}}))}),await Promise.all(d),a.Pu.H_(l),await async function(y,g){const T=We(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ee.forEach(g,b=>ee.forEach(b.Es,K=>T.persistence.referenceDelegate.addReference(R,b.targetId,K)).next(()=>ee.forEach(b.ds,K=>T.persistence.referenceDelegate.removeReference(R,b.targetId,K)))))}catch(R){if(!Kl(R))throw R;he(R2,"Failed to update sequence numbers: "+R)}for(const R of g){const b=R.targetId;if(!R.fromCache){const K=T.Ms.get(b),Q=K.snapshotVersion,z=K.withLastLimboFreeSnapshotVersion(Q);T.Ms=T.Ms.insert(b,z)}}}(a.localStore,h))}async function rD(r,e){const i=We(r);if(!i.currentUser.isEqual(e)){he(J2,"User change. New user:",e.toKey());const a=await K0(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(y=>{y.reject(new ge(te.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Rh(i,a.Ls)}}function sD(r){const e=We(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iD.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return I2(this.persistence,new w2,e.initialUser,this.serializer)}Cu(e){return new Q0(ep.mi,this.serializer)}Du(e){return new x2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class aD extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new c2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Q0(a=>lh.mi(a,i),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>qv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await $2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W2}()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=function(h){return new U2(h)}(e.databaseInfo);return function(h,d,p,y){return new B2(h,d,p,y)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,l,h,d,p){return new q2(a,l,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>qv(this.syncEngine,i,0),function(){return Uv.v()?new Uv:new M2}())}createSyncEngine(e,i){return function(l,h,d,p,y,g,T){const R=new eD(l,h,d,p,y,g);return T&&(R.gu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=We(i);he($l,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class oD{constructor(e,i,a,l,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ft.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{he(Hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(he(Hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=eT(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),he(Hr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await K0(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Gv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await lD(r);he(Hr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>jv(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>jv(e.remoteStore,l)),r._onlineComponents=e}async function lD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Hr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(l){return l.name==="FirebaseError"?l.code===te.FAILED_PRECONDITION||l.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;vh("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new uh)}}else he(Hr,"Using default OfflineComponentProvider"),await Kd(r,new aD(void 0));return r._offlineComponents}async function uD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Hr,"Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(he(Hr,"Using default OnlineComponentProvider"),await Gv(r,new _m))),r._onlineComponents}function cD(r){return uD(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firestore.googleapis.com",Yv=!0;class Qv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Yv}else this.host=e.host,this.ssl=e.ssl??Yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l2)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new zC;switch(a.type){case"firstParty":return new GC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Fv.get(i);a&&(he("ComponentProvider","Removing Datastore"),Fv.delete(i),a.terminate())}(this),Promise.resolve()}}function hD(r,e,i,a={}){r=lm(r,ip);const l=Ja(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(EE(`https://${p}`),TE("Firestore",!0)),h.host!==rT&&h.host!==p&&vh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:p,ssl:l,emulatorOptions:a};if(!Ms(y,d)&&(r._setSettings(y),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=Ft.MOCK_USER;else{g=F1(a.mockUserToken,r._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ft(R)}r._authCredentials=new BC(new m0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ql(i,Qt._jsonSchema))return new Qt(e,a||null,new we(ht.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:yt("string",Qt._jsonSchemaVersion),referencePath:yt("string")};class Pl extends rp{constructor(e,i,a){super(e,i,bI(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new we(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function fD(r,e,...i){if(r=Bn(r),arguments.length===1&&(e=jm.newId()),$C("doc","path",e),r instanceof ip){const a=ht.fromString(e,...i);return pv(a),new Qt(r,null,new we(a))}{if(!(r instanceof Qt||r instanceof Pl))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return pv(a),new Qt(r.firestore,r instanceof Pl?r.converter:null,new we(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X0(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&he(Kv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;he(Kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",$v(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=np.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&Ce(47125,{Pc:$v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function $v(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class sT extends ip{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Xv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function dD(r,e){const i=typeof r=="object"?r:wE(),a=typeof r=="string"?r:th,l=Im(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=q1("firestore");h&&hD(l,...h)}return l}function mD(r){if(r._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pD(r),r._firestoreClient}function pD(r){const e=r._freezeSettings(),i=function(l,h,d,p){return new uI(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,iT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new oD(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(ci.fromBase64String(e))}catch(i){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:yt("string",Un._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:yt("string",Ki._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Xi(e.vectorValues);throw new ge(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:yt("string",Xi._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^__.*__$/;class yD{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class ap{constructor(e,i,a,l,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&gD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _D{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}Cc(e,i,a,l=!1){return new ap({Ac:e,methodName:i,Dc:a,path:jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vD(r){const e=r._freezeSettings(),i=Sh(r._databaseId);return new _D(r._databaseId,!!e.ignoreUndefinedProperties,i)}function ED(r,e,i,a,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,l);hT("Data must be an object, but it was:",d,a);const p=uT(a,d);let y,g;if(h.merge)y=new zn(d.fieldMask),g=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const R of h.mergeFields){const b=TD(e,R,i);if(!d.contains(b))throw new ge(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);SD(T,b)||T.push(b)}y=new zn(T),g=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,g=d.fieldTransforms;return new yD(new Pn(p),y,g)}function lT(r,e){if(cT(r=Bn(r)))return hT("Unsupported field value:",e,r),uT(r,e);if(r instanceof aT)return function(a,l){if(!oT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,l){const h=[];let d=0;for(const p of a){let y=lT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(r,e)}return function(a,l){if((a=Bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=tt.fromDate(a);return{timestampValue:mm(l.serializer,h)}}if(a instanceof tt){const h=new tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mm(l.serializer,h)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:QI(l.serializer,a._byteString)};if(a instanceof Qt){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:G0(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Xi)return function(d,p){return{mapValue:{fields:{[A0]:{stringValue:S0},[um]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,g)})}}}}}}(a,l);throw l.Sc(`Unsupported field value: ${zm(a)}`)}(r,e)}function uT(r,e){const i={};return y0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(r,(a,l)=>{const h=lT(l,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function cT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Ki||r instanceof Un||r instanceof Qt||r instanceof aT||r instanceof Xi)}function hT(r,e,i){if(!cT(i)||!p0(i)){const a=zm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function TD(r,e,i){if((e=Bn(e))instanceof sp)return e._internalPath;if(typeof e=="string")return fT(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const AD=new RegExp("[~\\*/\\[\\]]");function fT(r,e,i){if(e.search(AD)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sp(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,e,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ge(te.INVALID_ARGUMENT,p+r+y)}function SD(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i,a,l,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bD extends dT{data(){return super.data()}}function mT(r,e){return typeof e=="string"?fT(r,e):e instanceof sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Oc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends dT{constructor(e,i,a,l,h,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(mT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:yt("string",Ga._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class Hc extends Ga{data(e={}){return super.data(e)}}class Cl{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Oc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Oc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Oc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Oc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:RD(p.type),doc:y,oldIndex:g,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:yt("string",Cl._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};function CD(r,e,i){r=lm(r,Qt);const a=lm(r.firestore,sT),l=wD(r.converter,e);return ID(a,[ED(vD(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Qi.none())])}function ID(r,e){return function(a,l){const h=new Os;return a.asyncQueue.enqueueAndForget(async()=>tD(await cD(a),l,h)),h.promise}(mD(r),e)}(function(e,i=!0){(function(l){no=l})(eo),Fa(new ks("firestore",(a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new sT(new HC(a.getProvider("auth-internal")),new FC(d,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(g.options.projectId,T)}(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),Lr(hv,fv,e),Lr(hv,fv,"esm2020")})();const DD={apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"},pT=bE(DD),ND=DC(pT),OD=dD(pT);function xD(){const[r,e]=B.useState({email:"",password:"",name:"",age:""}),[i,a]=B.useState(""),l=p=>{const{name:y,value:g}=p.target;e(T=>({...T,[y]:g}))},h=()=>{if(!r.email)return"Email is required.";if(!r.password||r.password.length<6)return"Password must be at least 6 characters.";if(!r.name)return"Name is required.";const p=parseInt(r.age,10);return isNaN(p)||p<13||p>120?"Age must be a number between 13 and 120.":""},d=async p=>{p.preventDefault(),a("");const y=h();if(y){a(y);return}try{const T=(await pR(ND,r.email,r.password)).user;await CD(fD(OD,"users",T.uid),{name:r.name.trim(),age:parseInt(r.age,10),email:r.email,createdAt:new Date}),alert("Signup successful! You can now log in."),e({email:"",password:"",name:"",age:""}),a("")}catch(g){a(g.message)}};return S.jsxs("main",{className:"container",children:[S.jsx("h2",{children:"Sign Up - Phoenix Guild"}),S.jsxs("form",{onSubmit:d,noValidate:!0,children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{id:"email",type:"email",name:"email",value:r.email,onChange:l,required:!0}),S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{id:"password",type:"password",name:"password",value:r.password,onChange:l,required:!0,minLength:6}),S.jsx("label",{htmlFor:"name",children:"Name:"}),S.jsx("input",{id:"name",type:"text",name:"name",value:r.name,onChange:l,required:!0}),S.jsx("label",{htmlFor:"age",children:"Age:"}),S.jsx("input",{id:"age",type:"number",name:"age",value:r.age,onChange:l,required:!0,min:13,max:120}),S.jsx("button",{type:"submit",children:"Sign Up"})]}),i&&S.jsx("div",{className:"error",children:i})]})}function MD(){const[r,e]=B.useState([]),[i,a]=B.useState([]),[l,h]=B.useState(""),[d,p]=B.useState(""),[y,g]=B.useState([]),T=zl.currentUser?.uid;B.useEffect(()=>{async function z(){const X=(await y_(Id(rn,"groups"))).docs.map(se=>({id:se.id,...se.data()}));if(e(X),T){const se=X.filter(re=>re.members?.includes(T));a(se)}}z()},[T]);const R=async z=>{const F=Ln(rn,"groups",z),X=await Hi(F);if(!X.exists())return;const se=X.data().members||[],me=(await Promise.all(se.map(async ue=>{const Ee=Ln(rn,"users",ue),O=await Hi(Ee),w=O.exists()?O.data():{};return{id:ue,name:w.name||"Anonymous",weeklyPoints:w.weeklyPoints||0}}))).sort((ue,Ee)=>Ee.weeklyPoints-ue.weeklyPoints);g(me)},b=async()=>{if(!l||!T)return;const z=await HA(Id(rn,"groups"),{name:l,members:[T],createdAt:new Date});e([...r,{id:z.id,name:l,members:[T]}]),h("")},K=async z=>{const F=Ln(rn,"groups",z);await Ds(F,{members:qA(T)});const X=r.find(se=>se.id===z);X&&!i.includes(X)&&a([...i,X])},Q=async()=>{if(!d)return;const z=GA(Id(rn,"groups"),FA("name","==",d)),F=await y_(z);if(F.empty)alert("Group not found!");else{const X=F.docs[0];await K(X.id),p("")}};return S.jsxs("div",{className:"groups-container",children:[S.jsx("h2",{children:"Groups"}),S.jsxs("div",{className:"group-create",children:[S.jsx("input",{type:"text",placeholder:"New Group Name",value:l,onChange:z=>h(z.target.value)}),S.jsx("button",{onClick:b,children:"Create Group"})]}),S.jsxs("div",{className:"group-join-name",children:[S.jsx("input",{type:"text",placeholder:"Enter Group Name to Join",value:d,onChange:z=>p(z.target.value)}),S.jsx("button",{onClick:Q,children:"Join Group"})]}),S.jsx("h3",{children:"Available Groups"}),S.jsx("ul",{children:r.filter(z=>!z.members?.includes(T)).map(z=>S.jsxs("li",{children:[z.name," ",S.jsx("button",{onClick:()=>K(z.id),children:"Join"})]},z.id))}),S.jsx("h3",{children:"My Groups"}),S.jsx("ul",{children:i.map(z=>S.jsxs("li",{children:[z.name," ",S.jsx("button",{onClick:()=>R(z.id),children:"View Leaderboard"})]},z.id))}),y.length>0&&S.jsxs("div",{className:"leaderboard",children:[S.jsx("h3",{children:"Leaderboard"}),S.jsx("ol",{children:y.map((z,F)=>S.jsxs("li",{children:[z.name||"Anonymous"," - ",z.weeklyPoints||0," points"]},F))})]})]})}function kD(){return S.jsxs(y1,{basename:"PhoenixGuild",children:[S.jsx(I1,{}),S.jsxs(KS,{children:[S.jsx(ji,{path:"/",element:S.jsx(D1,{})}),S.jsx(ji,{path:"/rankings",element:S.jsx(O1,{})}),S.jsx(ji,{path:"/history",element:S.jsx(x1,{})}),S.jsx(ji,{path:"/about",element:S.jsx(M1,{})}),S.jsx(ji,{path:"/signin",element:S.jsx(OC,{})}),S.jsx(ji,{path:"/profile",element:S.jsx(UC,{})}),S.jsx(ji,{path:"/signup",element:S.jsx(xD,{})}),S.jsx(ji,{path:"/groups",element:S.jsx(MD,{})})]}),S.jsx(k1,{})]})}const VD=rS.createRoot(document.getElementById("root"));VD.render(S.jsx(kD,{}));
