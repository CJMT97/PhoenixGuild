import{initializeApp as UA}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";import{getFirestore as LA,doc as Rs,getDoc as Ua,updateDoc as gl,serverTimestamp as Ma,increment as ka,setDoc as d_,getDocs as m_,collection as bd,addDoc as jA,arrayUnion as zA,query as BA,where as HA}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";import{getAuth as qA,onAuthStateChanged as GA}from"https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function FA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function YA(){if(p_)return fl;p_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return fl.Fragment=e,fl.jsx=i,fl.jsxs=i,fl}var g_;function QA(){return g_||(g_=1,wd.exports=YA()),wd.exports}var S=QA(),Rd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function KA(){if(y_)return be;y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,G={};function Q(O,W,oe){this.props=O,this.context=W,this.refs=G,this.updater=oe||K}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=Q.prototype;function se(O,W,oe){this.props=O,this.context=W,this.refs=G,this.updater=oe||K}var re=se.prototype=new X;re.constructor=se,Y(re,Q.prototype),re.isPureReactComponent=!0;var de=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function x(O,W,oe,ie,fe,Se){return oe=Se.ref,{$$typeof:r,type:O,key:W,ref:oe!==void 0?oe:null,props:Se}}function b(O,W){return x(O.type,W,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return W[oe]})}var k=/\/+/g;function P(O,W){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):W.toString(36)}function D(){}function _t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ne(O,W,oe,ie,fe){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(Se){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case r:case e:Te=!0;break;case T:return Te=O._init,Ne(Te(O._payload),W,oe,ie,fe)}}if(Te)return fe=fe(O),Te=ie===""?"."+P(O,0):ie,de(fe)?(oe="",Te!=null&&(oe=Te.replace(k,"$&/")+"/"),Ne(fe,W,oe,"",function(Bn){return Bn})):fe!=null&&(C(fe)&&(fe=b(fe,oe+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(k,"$&/")+"/")+Te)),W.push(fe)),1;Te=0;var bt=ie===""?".":ie+":";if(de(O))for(var Xe=0;Xe<O.length;Xe++)ie=O[Xe],Se=bt+P(ie,Xe),Te+=Ne(ie,W,oe,Se,fe);else if(Xe=w(O),typeof Xe=="function")for(O=Xe.call(O),Xe=0;!(ie=O.next()).done;)ie=ie.value,Se=bt+P(ie,Xe++),Te+=Ne(ie,W,oe,Se,fe);else if(Se==="object"){if(typeof O.then=="function")return Ne(_t(O),W,oe,ie,fe);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function H(O,W,oe){if(O==null)return O;var ie=[],fe=0;return Ne(O,ie,"","",function(Se){return W.call(oe,Se,fe++)}),ie}function ne(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pe(){}return be.Children={map:H,forEach:function(O,W,oe){H(O,function(){W.apply(this,arguments)},oe)},count:function(O){var W=0;return H(O,function(){W++}),W},toArray:function(O){return H(O,function(W){return W})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=Q,be.Fragment=i,be.Profiler=l,be.PureComponent=se,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,W,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=Y({},O.props),fe=O.key,Se=void 0;if(W!=null)for(Te in W.ref!==void 0&&(Se=void 0),W.key!==void 0&&(fe=""+W.key),W)!Ae.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(ie[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)ie.children=oe;else if(1<Te){for(var bt=Array(Te),Xe=0;Xe<Te;Xe++)bt[Xe]=arguments[Xe+2];ie.children=bt}return x(O.type,fe,void 0,void 0,Se,ie)},be.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},be.createElement=function(O,W,oe){var ie,fe={},Se=null;if(W!=null)for(ie in W.key!==void 0&&(Se=""+W.key),W)Ae.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=W[ie]);var Te=arguments.length-2;if(Te===1)fe.children=oe;else if(1<Te){for(var bt=Array(Te),Xe=0;Xe<Te;Xe++)bt[Xe]=arguments[Xe+2];fe.children=bt}if(O&&O.defaultProps)for(ie in Te=O.defaultProps,Te)fe[ie]===void 0&&(fe[ie]=Te[ie]);return x(O,Se,void 0,void 0,null,fe)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:p,render:O}},be.isValidElement=C,be.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ne}},be.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},be.startTransition=function(O){var W=ue.T,oe={};ue.T=oe;try{var ie=O(),fe=ue.S;fe!==null&&fe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(pe,le)}catch(Se){le(Se)}finally{ue.T=W}},be.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},be.use=function(O){return ue.H.use(O)},be.useActionState=function(O,W,oe){return ue.H.useActionState(O,W,oe)},be.useCallback=function(O,W){return ue.H.useCallback(O,W)},be.useContext=function(O){return ue.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,W){return ue.H.useDeferredValue(O,W)},be.useEffect=function(O,W,oe){var ie=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,W)},be.useId=function(){return ue.H.useId()},be.useImperativeHandle=function(O,W,oe){return ue.H.useImperativeHandle(O,W,oe)},be.useInsertionEffect=function(O,W){return ue.H.useInsertionEffect(O,W)},be.useLayoutEffect=function(O,W){return ue.H.useLayoutEffect(O,W)},be.useMemo=function(O,W){return ue.H.useMemo(O,W)},be.useOptimistic=function(O,W){return ue.H.useOptimistic(O,W)},be.useReducer=function(O,W,oe){return ue.H.useReducer(O,W,oe)},be.useRef=function(O){return ue.H.useRef(O)},be.useState=function(O){return ue.H.useState(O)},be.useSyncExternalStore=function(O,W,oe){return ue.H.useSyncExternalStore(O,W,oe)},be.useTransition=function(){return ue.H.useTransition()},be.version="19.1.1",be}var __;function pm(){return __||(__=1,Rd.exports=KA()),Rd.exports}var B=pm(),Cd={exports:{}},dl={},Id={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function XA(){return v_||(v_=1,function(r){function e(H,ne){var le=H.length;H.push(ne);e:for(;0<le;){var pe=le-1>>>1,O=H[pe];if(0<l(O,ne))H[pe]=ne,H[le]=O,le=pe;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ne=H[0],le=H.pop();if(le!==ne){H[0]=le;e:for(var pe=0,O=H.length,W=O>>>1;pe<W;){var oe=2*(pe+1)-1,ie=H[oe],fe=oe+1,Se=H[fe];if(0>l(ie,le))fe<O&&0>l(Se,ie)?(H[pe]=Se,H[fe]=le,pe=fe):(H[pe]=ie,H[oe]=le,pe=oe);else if(fe<O&&0>l(Se,le))H[pe]=Se,H[fe]=le,pe=fe;else break e}}return ne}function l(H,ne){var le=H.sortIndex-ne.sortIndex;return le!==0?le:H.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,R=null,w=3,K=!1,Y=!1,G=!1,Q=!1,X=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(H){for(var ne=i(g);ne!==null;){if(ne.callback===null)a(g);else if(ne.startTime<=H)a(g),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=i(g)}}function ue(H){if(G=!1,de(H),!Y)if(i(y)!==null)Y=!0,Ae||(Ae=!0,P());else{var ne=i(g);ne!==null&&Ne(ue,ne.startTime-H)}}var Ae=!1,x=-1,b=5,C=-1;function M(){return Q?!0:!(r.unstable_now()-C<b)}function k(){if(Q=!1,Ae){var H=r.unstable_now();C=H;var ne=!0;try{e:{Y=!1,G&&(G=!1,se(x),x=-1),K=!0;var le=w;try{t:{for(de(H),R=i(y);R!==null&&!(R.expirationTime>H&&M());){var pe=R.callback;if(typeof pe=="function"){R.callback=null,w=R.priorityLevel;var O=pe(R.expirationTime<=H);if(H=r.unstable_now(),typeof O=="function"){R.callback=O,de(H),ne=!0;break t}R===i(y)&&a(y),de(H)}else a(y);R=i(y)}if(R!==null)ne=!0;else{var W=i(g);W!==null&&Ne(ue,W.startTime-H),ne=!1}}break e}finally{R=null,w=le,K=!1}ne=void 0}}finally{ne?P():Ae=!1}}}var P;if(typeof re=="function")P=function(){re(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,_t=D.port2;D.port1.onmessage=k,P=function(){_t.postMessage(null)}}else P=function(){X(k,0)};function Ne(H,ne){x=X(function(){H(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var le=w;w=ne;try{return H()}finally{w=le}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=w;w=H;try{return ne()}finally{w=le}},r.unstable_scheduleCallback=function(H,ne,le){var pe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=le+O,H={id:T++,callback:ne,priorityLevel:H,startTime:le,expirationTime:O,sortIndex:-1},le>pe?(H.sortIndex=le,e(g,H),i(y)===null&&H===i(g)&&(G?(se(x),x=-1):G=!0,Ne(ue,le-pe))):(H.sortIndex=O,e(y,H),Y||K||(Y=!0,Ae||(Ae=!0,P()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var ne=w;return function(){var le=w;w=ne;try{return H.apply(this,arguments)}finally{w=le}}}}(Dd)),Dd}var E_;function $A(){return E_||(E_=1,Id.exports=XA()),Id.exports}var Od={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function ZA(){if(T_)return qt;T_=1;var r=pm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,g,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qt.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return h(y,g,null,T)},qt.flushSync=function(y){var g=d.T,T=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=g,a.p=T,a.d.f()}},qt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},qt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},qt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,K=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:w,fetchPriority:K}):T==="script"&&a.d.X(y,{crossOrigin:R,integrity:w,fetchPriority:K,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},qt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin);a.d.L(y,T,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qt.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},qt.requestFormReset=function(y){a.d.r(y)},qt.unstable_batchedUpdates=function(y,g){return y(g)},qt.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},qt.version="19.1.1",qt}var A_;function WA(){if(A_)return Od.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=ZA(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function JA(){if(S_)return dl;S_=1;var r=$A(),e=pm(),i=WA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return p(c),t;if(f===o)return p(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var v=!1,E=c.child;E;){if(E===s){v=!0,s=c,o=f;break}if(E===o){v=!0,o=c,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,o=c;break}if(E===o){v=!0,o=f,s=c;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case Q:return"Profiler";case G:return"StrictMode";case ue:return"Suspense";case Ae:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case re:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case de:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:_t(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return _t(t(n))}catch{}}return null}var Ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],O=-1;function W(t){return{current:t}}function oe(t){0>O||(t.current=pe[O],pe[O]=null,O--)}function ie(t,n){O++,pe[O]=t.current,t.current=n}var fe=W(null),Se=W(null),Te=W(null),bt=W(null);function Xe(t,n){switch(ie(Te,n),ie(Se,t),ie(fe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?By(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=By(n),t=Hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(fe),ie(fe,t)}function Bn(){oe(fe),oe(Se),oe(Te)}function Ji(t){t.memoizedState!==null&&ie(bt,t);var n=fe.current,s=Hy(n,t.type);n!==s&&(ie(Se,t),ie(fe,s))}function di(t){Se.current===t&&(oe(fe),oe(Se)),bt.current===t&&(oe(bt),ol._currentValue=le)}var Hr=Object.prototype.hasOwnProperty,qr=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,io=r.unstable_shouldYield,Zl=r.unstable_requestPaint,mn=r.unstable_now,Sh=r.unstable_getCurrentPriorityLevel,ro=r.unstable_ImmediatePriority,Bs=r.unstable_UserBlockingPriority,Fr=r.unstable_NormalPriority,bh=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,so=r.log,Wl=r.unstable_setDisableYieldValue,rt=null,Be=null;function sn(t){if(typeof so=="function"&&Wl(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(rt,t)}catch{}}var Bt=Math.clz32?Math.clz32:Yr,Jl=Math.log,wh=Math.LN2;function Yr(t){return t>>>=0,t===0?32:31-(Jl(t)/wh|0)|0}var Qr=256,Kr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qs(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=In(o):(v&=E,v!==0?c=In(v):s||(s=E&~t,s!==0&&(c=In(s))))):(E=o&~f,E!==0?c=In(E):v!==0?c=In(v):s||(s=o&~t,s!==0&&(c=In(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ao(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var t=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),t}function lo(){var t=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),t}function mi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,n,s,o,c,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(s=v&~s;0<s;){var $=31-Bt(s),J=1<<$;E[$]=0,I[$]=-1;var z=j[$];if(z!==null)for(j[$]=null,$=0;$<z.length;$++){var q=z[$];q!==null&&(q.lane&=-536870913)}s&=~J}o!==0&&Hn(t,o,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Hn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function co(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Bt(s),c=1<<o;c&n|t[o]&n&&(t[o]|=n),s&=~c}}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:o_(t.type))}function eu(t,n){var s=ne.p;try{return ne.p=t,n()}finally{ne.p=s}}var We=Math.random().toString(36).slice(2),vt="__reactFiber$"+We,ft="__reactProps$"+We,pn="__reactContainer$"+We,ho="__reactEvents$"+We,Rh="__reactListeners$"+We,nr="__reactHandles$"+We,tu="__reactResources$"+We,$r="__reactMarker$"+We;function ir(t){delete t[vt],delete t[ft],delete t[ho],delete t[Rh],delete t[nr]}function gi(t){var n=t[vt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[pn]||s[vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Yy(t);t!==null;){if(s=t[vt])return s;t=Yy(t)}return n}t=s,s=t.parentNode}return null}function qn(t){if(t=t[vt]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xt(t){var n=t[tu];return n||(n=t[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[$r]=!0}var fo=new Set,Fs={};function Dn(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Fs[t]=n,t=0;t<n.length;t++)fo.add(n[t])}var nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},Zr={};function ru(t){return Hr.call(Zr,t)?!0:Hr.call(iu,t)?!1:nu.test(t)?Zr[t]=!0:(iu[t]=!0,!1)}function rr(t,n,s){if(ru(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Fn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function xt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var Wr,su;function _i(t){if(Wr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",su=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+t+su}var Ys=!1;function Qs(t,n){if(!t||Ys)return"";Ys=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var z=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){z=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){z=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var I=v.split(`
`),j=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===j.length)for(o=I.length-1,c=j.length-1;1<=o&&0<=c&&I[o]!==j[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==j[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==j[c]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=c);break}}}finally{Ys=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?_i(s):""}function mo(t){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Qs(t.type,!1);case 11:return Qs(t.type.render,!1);case 1:return Qs(t.type,!0);case 31:return _i("Activity");default:return""}}function Ks(t){try{var n="";do n+=mo(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function po(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ch(t){var n=po(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xs(t){t._valueTracker||(t._valueTracker=Ch(t))}function go(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=po(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ih=/[\n"\\]/g;function dt(t){return t.replace(Ih,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,s,o,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?sr(t,v,$t(n)):s!=null?sr(t,v,$t(s)):o!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function es(t,n,s,o,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+$t(s):"",n=n!=null?""+$t(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function sr(t,n,s){n==="number"&&Jr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vi(t,n,s,o){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&o&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ge(t,n,s){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+$t(s):""}function ts(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ne(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=$t(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function gn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||ns.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function yo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&au(t,c,o)}else for(var f in n)n.hasOwnProperty(f)&&au(t,f,n[f])}function _o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(t){return Oh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ei=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function vo(t){var n=qn(t);if(n&&(t=n.stateNode)){var s=t[ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(an(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var c=o[ft]||null;if(!c)throw Error(a(90));an(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&go(o)}break e;case"textarea":Ge(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&vi(t,!!s.multiple,n,!1)}}}var Yn=!1;function ou(t,n,s){if(Yn)return t(n,s);Yn=!0;try{var o=t(n);return o}finally{if(Yn=!1,(Ti!==null||Ai!==null)&&(ec(),Ti&&(n=Ti,t=Ai,Ai=Ti=null,vo(n),t)))for(n=0;n<t.length;n++)vo(t[n])}}function is(t,n){var s=t.stateNode;if(s===null)return null;var o=s[ft]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(On)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){_n=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{_n=!1}var Qn=null,ar=null,Si=null;function Eo(){if(Si)return Si;var t,n=ar,s=n.length,o,c="value"in Qn?Qn.value:Qn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var v=s-t;for(o=1;o<=v&&n[s-o]===c[f-o];o++);return Si=c.slice(t,1<o?1-o:void 0)}function Kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function To(){return!1}function wt(t){function n(s,o,c,f,v){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:To,this.isPropagationStopped=To,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=wt(je),ss=T({},je,{view:0,detail:0}),lu=wt(ss),Ws,Js,$n,as=T({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Ws=t.screenX-$n.screenX,Js=t.screenY-$n.screenY):Js=Ws=0,$n=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),vn=wt(as),uu=T({},as,{dataTransfer:0}),Nh=wt(uu),os=T({},ss,{relatedTarget:0}),ea=wt(os),Ao=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=wt(Ao),cu=T({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),na=wt(cu),xh=T({},je,{data:0}),So=wt(xh),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fu[t])?!!n[t]:!1}function us(){return bo}var du=T({},ss,{key:function(t){if(t.key){var n=ls[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ia=wt(du),mu=T({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=wt(mu),bi=T({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),pu=wt(bi),gu=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=wt(gu),_u=T({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=wt(_u),Zt=T({},je,{newState:0,oldState:0}),vu=wt(Zt),Eu=[9,13,27,32],Zn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,_=On&&(!Zn||u&&8<u&&11>=u),A=" ",U=!1;function F(t,n){switch(t){case"keyup":return Eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function Et(t,n){switch(t){case"compositionend":return ae(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function ke(t,n){if(Me)return t==="compositionend"||!Zn&&F(t,n)?(t=Eo(),Si=ar=Qn=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rt[t.type]:n==="textarea"}function wi(t,n,s,o){Ti?Ai?Ai.push(o):Ai=[o]:Ti=o,n=ac(n,"onChange"),0<n.length&&(s=new Zs("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Mt=null,Wn=null;function Ro(t){Py(t,0)}function Tu(t){var n=Gn(t);if(go(n))return t}function ip(t,n){if(t==="change")return n}var rp=!1;if(On){var Mh;if(On){var kh="oninput"in document;if(!kh){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),kh=typeof sp.oninput=="function"}Mh=kh}else Mh=!1;rp=Mh&&(!document.documentMode||9<document.documentMode)}function ap(){Mt&&(Mt.detachEvent("onpropertychange",op),Wn=Mt=null)}function op(t){if(t.propertyName==="value"&&Tu(Wn)){var n=[];wi(n,Wn,t,yn(t)),ou(Ro,n)}}function dT(t,n,s){t==="focusin"?(ap(),Mt=n,Wn=s,Mt.attachEvent("onpropertychange",op)):t==="focusout"&&ap()}function mT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Wn)}function pT(t,n){if(t==="click")return Tu(n)}function gT(t,n){if(t==="input"||t==="change")return Tu(n)}function yT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:yT;function Co(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!Hr.call(n,c)||!on(t[c],n[c]))return!1}return!0}function lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function up(t,n){var s=lp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lp(s)}}function cp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Jr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Jr(t.document)}return n}function Vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _T=On&&"documentMode"in document&&11>=document.documentMode,sa=null,Ph=null,Io=null,Uh=!1;function fp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||sa==null||sa!==Jr(o)||(o=sa,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Co(Io,o)||(Io=o,o=ac(Ph,"onSelect"),0<o.length&&(n=new Zs("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=sa)))}function cs(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var aa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Lh={},dp={};On&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function hs(t){if(Lh[t])return Lh[t];if(!aa[t])return t;var n=aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in dp)return Lh[t]=n[s];return t}var mp=hs("animationend"),pp=hs("animationiteration"),gp=hs("animationstart"),vT=hs("transitionrun"),ET=hs("transitionstart"),TT=hs("transitioncancel"),yp=hs("transitionend"),_p=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Nn(t,n){_p.set(t,n),Dn(n,[t])}var vp=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var s=vp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ks(n)},vp.set(t,n),n)}return{value:t,source:n,stack:Ks(n)}}var Tn=[],oa=0,zh=0;function Au(){for(var t=oa,n=zh=oa=0;n<t;){var s=Tn[n];Tn[n++]=null;var o=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,o!==null&&c!==null){var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}f!==0&&Ep(s,c,f)}}function Su(t,n,s,o){Tn[oa++]=t,Tn[oa++]=n,Tn[oa++]=s,Tn[oa++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,n,s,o){return Su(t,n,s,o),bu(t)}function la(t,n){return Su(t,null,null,n),bu(t)}function Ep(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Bt(s),t=f.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(t){if(50<Jo)throw Jo=0,Kf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ua={};function AT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,s,o){return new AT(t,n,s,o)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var s=t.alternate;return s===null?(s=ln(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Tp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wu(t,n,s,o,c,f){var v=0;if(o=t,typeof t=="function")Hh(t)&&(v=1);else if(typeof t=="string")v=bA(t,s,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ln(31,s,n,c),t.elementType=C,t.lanes=f,t;case Y:return fs(s.children,c,f,n);case G:v=8,c|=24;break;case Q:return t=ln(12,s,n,c|2),t.elementType=Q,t.lanes=f,t;case ue:return t=ln(13,s,n,c),t.elementType=ue,t.lanes=f,t;case Ae:return t=ln(19,s,n,c),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case re:v=10;break e;case se:v=9;break e;case de:v=11;break e;case x:v=14;break e;case b:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=ln(v,s,n,c),n.elementType=t,n.type=o,n.lanes=f,n}function fs(t,n,s,o){return t=ln(7,t,o,n),t.lanes=s,t}function qh(t,n,s){return t=ln(6,t,null,n),t.lanes=s,t}function Gh(t,n,s){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ca=[],ha=0,Ru=null,Cu=0,An=[],Sn=0,ds=null,Ci=1,Ii="";function ms(t,n){ca[ha++]=Cu,ca[ha++]=Ru,Ru=t,Cu=n}function Ap(t,n,s){An[Sn++]=Ci,An[Sn++]=Ii,An[Sn++]=ds,ds=t;var o=Ci;t=Ii;var c=32-Bt(o)-1;o&=~(1<<c),s+=1;var f=32-Bt(n)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,Ci=1<<32-Bt(n)+c|s<<c|o,Ii=f+t}else Ci=1<<f|s<<c|o,Ii=t}function Fh(t){t.return!==null&&(ms(t,1),Ap(t,1,0))}function Yh(t){for(;t===Ru;)Ru=ca[--ha],ca[ha]=null,Cu=ca[--ha],ca[ha]=null;for(;t===ds;)ds=An[--Sn],An[Sn]=null,Ii=An[--Sn],An[Sn]=null,Ci=An[--Sn],An[Sn]=null}var Wt=null,st=null,Le=!1,ps=null,Jn=!1,Qh=Error(a(519));function gs(t){var n=Error(a(418,""));throw No(En(n,t)),Qh}function Sp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[vt]=t,n[ft]=o,s){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(s=0;s<tl.length;s++)Oe(tl[s],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xs(n);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),ts(n,o.value,o.defaultValue,o.children),Xs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||zy(n.textContent,s)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=oc),n=!0):n=!1,n||gs(t)}function bp(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Wt=Wt.return}}function Do(t){if(t!==Wt)return!1;if(!Le)return bp(t),Le=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||cd(t.type,t.memoizedProps)),s=!s),s&&st&&gs(t),bp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){st=Mn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}st=null}}else n===27?(n=st,Ar(t.type)?(t=md,md=null,st=t):st=n):st=Wt?Mn(t.stateNode.nextSibling):null;return!0}function Oo(){st=Wt=null,Le=!1}function wp(){var t=ps;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),ps=null),t}function No(t){ps===null?ps=[t]:ps.push(t)}var Kh=W(null),ys=null,Di=null;function or(t,n,s){ie(Kh,n._currentValue),n._currentValue=s}function Oi(t){t._currentValue=Kh.current,oe(Kh)}function Xh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function $h(t,n,s,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,t),o||(v=null);break e}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Xh(v,s,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function xo(t,n,s,o){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=c.type;on(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===bt.current){if(v=c.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}c=c.return}t!==null&&$h(n,t,s,o),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _s(t){ys=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Rp(ys,t)}function Du(t,n){return ys===null&&_s(t),Rp(t,n)}function Rp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(a(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return s}var ST=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},bT=r.unstable_scheduleCallback,wT=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new ST,data:new Map,refCount:0}}function Mo(t){t.refCount--,t.refCount===0&&bT(wT,function(){t.controller.abort()})}var ko=null,Wh=0,fa=0,da=null;function RT(t,n){if(ko===null){var s=ko=[];Wh=0,fa=td(),da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Cp,Cp),n}function Cp(){if(--Wh===0&&ko!==null){da!==null&&(da.status="fulfilled");var t=ko;ko=null,fa=0,da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Ip=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(t,n),Ip!==null&&Ip(t,n)};var vs=W(null);function Jh(){var t=vs.current;return t!==null?t:$e.pooledCache}function Ou(t,n){n===null?ie(vs,vs.current):ie(vs,n.pool)}function Dp(){var t=Jh();return t===null?null:{parent:At._currentValue,pool:t}}var Vo=Error(a(460)),Op=Error(a(474)),Nu=Error(a(542)),ef={then:function(){}};function Np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function xp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(xu,xu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kp(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kp(t),t}throw Po=n,Vo}}var Po=null;function Mp(){if(Po===null)throw Error(a(459));var t=Po;return Po=null,t}function kp(t){if(t===Vo||t===Nu)throw Error(a(483))}var lr=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=bu(t),Ep(t,null,s),n}return Su(t,o,n,s),bu(t)}function Uo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,co(t,s)}}function rf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var sf=!1;function Lo(){if(sf){var t=da;if(t!==null)throw t}}function jo(t,n,s,o){sf=!1;var c=t.updateQueue;lr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,j=I.next;I.next=null,v===null?f=j:v.next=j,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==v&&(E===null?$.firstBaseUpdate=j:E.next=j,$.lastBaseUpdate=I))}if(f!==null){var J=c.baseState;v=0,$=j=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ve&z)===z:(o&z)===z){z!==0&&z===fa&&(sf=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ye=E;z=n;var Qe=s;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){J=Ee.call(Qe,J,z);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,z=typeof Ee=="function"?Ee.call(Qe,J,z):Ee,z==null)break e;J=T({},J,z);break e;case 2:lr=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(j=$=q,I=J):$=$.next=q,v|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);$===null&&(I=J),c.baseState=I,c.firstBaseUpdate=j,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),_r|=v,t.lanes=v,t.memoizedState=J}}function Vp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Pp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Vp(s[t],n)}var ma=W(null),Mu=W(0);function Up(t,n){t=Ui,ie(Mu,t),ie(ma,n),Ui=t|n.baseLanes}function af(){ie(Mu,Ui),ie(ma,ma.current)}function of(){Ui=Mu.current,oe(ma),oe(Mu)}var hr=0,Re=null,Fe=null,mt=null,ku=!1,pa=!1,Es=!1,Vu=0,zo=0,ga=null,IT=0;function ut(){throw Error(a(321))}function lf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!on(t[s],n[s]))return!1;return!0}function uf(t,n,s,o,c,f){return hr=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Eg:Tg,Es=!1,f=s(o,c),Es=!1,pa&&(f=jp(n,s,o,c)),Lp(t),f}function Lp(t){H.H=Bu;var n=Fe!==null&&Fe.next!==null;if(hr=0,mt=Fe=Re=null,ku=!1,zo=0,ga=null,n)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&Iu(t)&&(Ct=!0))}function jp(t,n,s,o){Re=t;var c=0;do{if(pa&&(ga=null),zo=0,pa=!1,25<=c)throw Error(a(301));if(c+=1,mt=Fe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=VT,f=n(s,o)}while(pa);return f}function DT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Bo(n):n,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(Re.flags|=1024),n}function cf(){var t=Vu!==0;return Vu=0,t}function hf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function ff(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}hr=0,mt=Fe=Re=null,pa=!1,zo=Vu=0,ga=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Re.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Fe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var n=mt===null?Re.memoizedState:mt.next;if(n!==null)mt=n,Fe=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},mt===null?Re.memoizedState=mt=t:mt=mt.next=t}return mt}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(t){var n=zo;return zo+=1,ga===null&&(ga=[]),t=xp(ga,t,n),n=Re,(mt===null?n.memoizedState:mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Eg:Tg),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===re)return Ht(t)}throw Error(a(438,String(t)))}function mf(t){var n=null,s=Re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=df(),Re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=M;return n.index++,s}function Ni(t,n){return typeof n=="function"?n(t):n}function Uu(t){var n=pt();return pf(n,Fe,t)}function pf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=t.baseQueue,f=o.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,o.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,I=null,j=n,$=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ve&J)===J:(hr&J)===J){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===fa&&($=!0);else if((hr&z)===z){j=j.next,z===fa&&($=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=J,v=f):I=I.next=J,Re.lanes|=z,_r|=z;J=j.action,Es&&s(f,J),f=j.hasEagerState?j.eagerState:s(f,J)}else z={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=z,v=f):I=I.next=z,Re.lanes|=J,_r|=J;j=j.next}while(j!==null&&j!==n);if(I===null?v=f:I.next=E,!on(f,t.memoizedState)&&(Ct=!0,$&&(s=da,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function gf(t){var n=pt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);on(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function zp(t,n,s){var o=Re,c=pt(),f=Le;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!on((Fe||c).memoizedState,s);v&&(c.memoizedState=s,Ct=!0),c=c.queue;var E=qp.bind(null,o,c,t);if(Ho(2048,8,E,[t]),c.getSnapshot!==n||v||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,ya(9,Lu(),Hp.bind(null,o,c,s,n),null),$e===null)throw Error(a(349));f||(hr&124)!==0||Bp(o,n,s)}return s}function Bp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n=df(),Re.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hp(t,n,s,o){n.value=s,n.getSnapshot=o,Gp(n)&&Fp(t)}function qp(t,n,s){return s(function(){Gp(n)&&Fp(t)})}function Gp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!on(t,s)}catch{return!0}}function Fp(t){var n=la(t,2);n!==null&&dn(n,t,2)}function yf(t){var n=Jt();if(typeof t=="function"){var s=t;if(t=s(),Es){sn(!0);try{s()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function Yp(t,n,s,o){return t.baseState=s,pf(t,Fe,typeof o=="function"?o:Ni)}function OT(t,n,s,o,c){if(zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qp(t,n){var s=n.action,o=n.payload,c=t.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=s(c,o),I=H.S;I!==null&&I(v,E),Kp(t,n,E)}catch(j){_f(t,n,j)}finally{H.T=f}}else try{f=s(c,o),Kp(t,n,f)}catch(j){_f(t,n,j)}}function Kp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Xp(t,n,o)},function(o){return _f(t,n,o)}):Xp(t,n,s)}function Xp(t,n,s){n.status="fulfilled",n.value=s,$p(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Qp(t,s)))}function _f(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,$p(n),n=n.next;while(n!==o)}t.action=null}function $p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zp(t,n){return n}function Wp(t,n){if(Le){var s=$e.formState;if(s!==null){e:{var o=Re;if(Le){if(st){t:{for(var c=st,f=Jn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){st=Mn(c.nextSibling),o=c.data==="F!";break e}}gs(o)}o=!1}o&&(n=s[0])}}return s=Jt(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:n},s.queue=o,s=yg.bind(null,Re,o),o.dispatch=s,o=yf(!1),f=Sf.bind(null,Re,!1,o.queue),o=Jt(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,s=OT.bind(null,Re,c,f,s),c.dispatch=s,o.memoizedState=t,[n,s,!1]}function Jp(t){var n=pt();return eg(n,Fe,t)}function eg(t,n,s){if(n=pf(t,n,Zp)[0],t=Uu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bo(n)}catch(v){throw v===Vo?Nu:v}else o=n;n=pt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Re.flags|=2048,ya(9,Lu(),NT.bind(null,c,s),null)),[o,f,t]}function NT(t,n){t.action=n}function tg(t){var n=pt(),s=Fe;if(s!==null)return eg(n,s,t);pt(),n=n.memoizedState,s=pt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ya(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=df(),Re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Lu(){return{destroy:void 0,resource:void 0}}function ng(){return pt().memoizedState}function ju(t,n,s,o){var c=Jt();o=o===void 0?null:o,Re.flags|=t,c.memoizedState=ya(1|n,Lu(),s,o)}function Ho(t,n,s,o){var c=pt();o=o===void 0?null:o;var f=c.memoizedState.inst;Fe!==null&&o!==null&&lf(o,Fe.memoizedState.deps)?c.memoizedState=ya(n,f,s,o):(Re.flags|=t,c.memoizedState=ya(1|n,f,s,o))}function ig(t,n){ju(8390656,8,t,n)}function rg(t,n){Ho(2048,8,t,n)}function sg(t,n){return Ho(4,2,t,n)}function ag(t,n){return Ho(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,s){s=s!=null?s.concat([t]):null,Ho(4,4,og.bind(null,n,t),s)}function vf(){}function ug(t,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function cg(t,n){var s=pt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=t(),Es){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[o,n],o}function Ef(t,n,s){return s===void 0||(hr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=dy(),Re.lanes|=t,_r|=t,s)}function hg(t,n,s,o){return on(s,n)?s:ma.current!==null?(t=Ef(t,s,o),on(t,n)||(Ct=!0),t):(hr&42)===0?(Ct=!0,t.memoizedState=s):(t=dy(),Re.lanes|=t,_r|=t,n)}function fg(t,n,s,o,c){var f=ne.p;ne.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Sf(t,!1,n,s);try{var I=c(),j=H.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=CT(I,o);qo(t,n,$,fn(t))}else qo(t,n,o,fn(t))}catch(J){qo(t,n,{then:function(){},status:"rejected",reason:J},fn())}finally{ne.p=f,H.T=v}}function xT(){}function Tf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var c=dg(t).queue;fg(t,c,n,le,s===null?xT:function(){return mg(t),s(o)})}function dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:le},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mg(t){var n=dg(t).next.queue;qo(t,n,{},fn())}function Af(){return Ht(ol)}function pg(){return pt().memoizedState}function gg(){return pt().memoizedState}function MT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();t=ur(s);var o=cr(n,t,s);o!==null&&(dn(o,n,s),Uo(o,n,s)),n={cache:Zh()},t.payload=n;return}n=n.return}}function kT(t,n,s){var o=fn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zu(t)?_g(n,s):(s=Bh(t,n,s,o),s!==null&&(dn(s,t,o),vg(s,n,o)))}function yg(t,n,s){var o=fn();qo(t,n,s,o)}function qo(t,n,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(t))_g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(c.hasEagerState=!0,c.eagerState=E,on(E,v))return Su(t,n,c,0),$e===null&&Au(),!1}catch{}finally{}if(s=Bh(t,n,c,o),s!==null)return dn(s,t,o),vg(s,n,o),!0}return!1}function Sf(t,n,s,o){if(o={lane:2,revertLane:td(),action:o,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(n)throw Error(a(479))}else n=Bh(t,s,o,2),n!==null&&dn(n,t,2)}function zu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function _g(t,n){pa=ku=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function vg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,co(t,s)}}var Bu={readContext:Ht,use:Pu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},Eg={readContext:Ht,use:Pu,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:ig,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,ju(4194308,4,og.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var s=Jt();n=n===void 0?null:n;var o=t();if(Es){sn(!0);try{t()}finally{sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Jt();if(s!==void 0){var c=s(n);if(Es){sn(!0);try{s(n)}finally{sn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=kT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=yf(t);var n=t.queue,s=yg.bind(null,Re,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:vf,useDeferredValue:function(t,n){var s=Jt();return Ef(s,t,n)},useTransition:function(){var t=yf(!1);return t=fg.bind(null,Re,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Re,c=Jt();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$e===null)throw Error(a(349));(Ve&124)!==0||Bp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,ig(qp.bind(null,o,f,t),[t]),o.flags|=2048,ya(9,Lu(),Hp.bind(null,o,f,s,n),null),s},useId:function(){var t=Jt(),n=$e.identifierPrefix;if(Le){var s=Ii,o=Ci;s=(o&~(1<<32-Bt(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=IT++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Af,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,Re,!0,s),s.dispatch=n,[t,n]},useMemoCache:mf,useCacheRefresh:function(){return Jt().memoizedState=MT.bind(null,Re)}},Tg={readContext:Ht,use:Pu,useCallback:ug,useContext:Ht,useEffect:rg,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:Uu,useRef:ng,useState:function(){return Uu(Ni)},useDebugValue:vf,useDeferredValue:function(t,n){var s=pt();return hg(s,Fe.memoizedState,t,n)},useTransition:function(){var t=Uu(Ni)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:zp,useId:pg,useHostTransitionStatus:Af,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,n){var s=pt();return Yp(s,Fe,t,n)},useMemoCache:mf,useCacheRefresh:gg},VT={readContext:Ht,use:Pu,useCallback:ug,useContext:Ht,useEffect:rg,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:ag,useMemo:cg,useReducer:gf,useRef:ng,useState:function(){return gf(Ni)},useDebugValue:vf,useDeferredValue:function(t,n){var s=pt();return Fe===null?Ef(s,t,n):hg(s,Fe.memoizedState,t,n)},useTransition:function(){var t=gf(Ni)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:zp,useId:pg,useHostTransitionStatus:Af,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var s=pt();return Fe!==null?Yp(s,Fe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:gg},_a=null,Go=0;function Hu(t){var n=Go;return Go+=1,_a===null&&(_a=[]),xp(_a,t,n)}function Fo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){var n=t._init;return n(t._payload)}function Sg(t){function n(V,N){if(t){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function s(V,N){if(!t)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function c(V,N){return V=Ri(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,Z){return N===null||N.tag!==6?(N=qh(L,V.mode,Z),N.return=V,N):(N=c(N,L),N.return=V,N)}function I(V,N,L,Z){var ce=L.type;return ce===Y?$(V,N,L.props.children,Z,L.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&Ag(ce)===N.type)?(N=c(N,L.props),Fo(N,L),N.return=V,N):(N=wu(L.type,L.key,L.props,null,V.mode,Z),Fo(N,L),N.return=V,N)}function j(V,N,L,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Gh(L,V.mode,Z),N.return=V,N):(N=c(N,L.children||[]),N.return=V,N)}function $(V,N,L,Z,ce){return N===null||N.tag!==7?(N=fs(L,V.mode,Z,ce),N.return=V,N):(N=c(N,L),N.return=V,N)}function J(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return L=wu(N.type,N.key,N.props,null,V.mode,L),Fo(L,N),L.return=V,L;case K:return N=Gh(N,V.mode,L),N.return=V,N;case b:var Z=N._init;return N=Z(N._payload),J(V,N,L)}if(Ne(N)||P(N))return N=fs(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return J(V,Hu(N),L);if(N.$$typeof===re)return J(V,Du(V,N),L);qu(V,N)}return null}function z(V,N,L,Z){var ce=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:E(V,N,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return L.key===ce?I(V,N,L,Z):null;case K:return L.key===ce?j(V,N,L,Z):null;case b:return ce=L._init,L=ce(L._payload),z(V,N,L,Z)}if(Ne(L)||P(L))return ce!==null?null:$(V,N,L,Z,null);if(typeof L.then=="function")return z(V,N,Hu(L),Z);if(L.$$typeof===re)return z(V,N,Du(V,L),Z);qu(V,L)}return null}function q(V,N,L,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return V=V.get(L)||null,E(N,V,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return V=V.get(Z.key===null?L:Z.key)||null,I(N,V,Z,ce);case K:return V=V.get(Z.key===null?L:Z.key)||null,j(N,V,Z,ce);case b:var Ie=Z._init;return Z=Ie(Z._payload),q(V,N,L,Z,ce)}if(Ne(Z)||P(Z))return V=V.get(L)||null,$(N,V,Z,ce,null);if(typeof Z.then=="function")return q(V,N,L,Hu(Z),ce);if(Z.$$typeof===re)return q(V,N,L,Du(N,Z),ce);qu(N,Z)}return null}function Ee(V,N,L,Z){for(var ce=null,Ie=null,me=N,_e=N=0,Dt=null;me!==null&&_e<L.length;_e++){me.index>_e?(Dt=me,me=null):Dt=me.sibling;var Ue=z(V,me,L[_e],Z);if(Ue===null){me===null&&(me=Dt);break}t&&me&&Ue.alternate===null&&n(V,me),N=f(Ue,N,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue,me=Dt}if(_e===L.length)return s(V,me),Le&&ms(V,_e),ce;if(me===null){for(;_e<L.length;_e++)me=J(V,L[_e],Z),me!==null&&(N=f(me,N,_e),Ie===null?ce=me:Ie.sibling=me,Ie=me);return Le&&ms(V,_e),ce}for(me=o(me);_e<L.length;_e++)Dt=q(me,V,_e,L[_e],Z),Dt!==null&&(t&&Dt.alternate!==null&&me.delete(Dt.key===null?_e:Dt.key),N=f(Dt,N,_e),Ie===null?ce=Dt:Ie.sibling=Dt,Ie=Dt);return t&&me.forEach(function(Cr){return n(V,Cr)}),Le&&ms(V,_e),ce}function ye(V,N,L,Z){if(L==null)throw Error(a(151));for(var ce=null,Ie=null,me=N,_e=N=0,Dt=null,Ue=L.next();me!==null&&!Ue.done;_e++,Ue=L.next()){me.index>_e?(Dt=me,me=null):Dt=me.sibling;var Cr=z(V,me,Ue.value,Z);if(Cr===null){me===null&&(me=Dt);break}t&&me&&Cr.alternate===null&&n(V,me),N=f(Cr,N,_e),Ie===null?ce=Cr:Ie.sibling=Cr,Ie=Cr,me=Dt}if(Ue.done)return s(V,me),Le&&ms(V,_e),ce;if(me===null){for(;!Ue.done;_e++,Ue=L.next())Ue=J(V,Ue.value,Z),Ue!==null&&(N=f(Ue,N,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return Le&&ms(V,_e),ce}for(me=o(me);!Ue.done;_e++,Ue=L.next())Ue=q(me,V,_e,Ue.value,Z),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?_e:Ue.key),N=f(Ue,N,_e),Ie===null?ce=Ue:Ie.sibling=Ue,Ie=Ue);return t&&me.forEach(function(PA){return n(V,PA)}),Le&&ms(V,_e),ce}function Qe(V,N,L,Z){if(typeof L=="object"&&L!==null&&L.type===Y&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case w:e:{for(var ce=L.key;N!==null;){if(N.key===ce){if(ce=L.type,ce===Y){if(N.tag===7){s(V,N.sibling),Z=c(N,L.props.children),Z.return=V,V=Z;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===b&&Ag(ce)===N.type){s(V,N.sibling),Z=c(N,L.props),Fo(Z,L),Z.return=V,V=Z;break e}s(V,N);break}else n(V,N);N=N.sibling}L.type===Y?(Z=fs(L.props.children,V.mode,Z,L.key),Z.return=V,V=Z):(Z=wu(L.type,L.key,L.props,null,V.mode,Z),Fo(Z,L),Z.return=V,V=Z)}return v(V);case K:e:{for(ce=L.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(V,N.sibling),Z=c(N,L.children||[]),Z.return=V,V=Z;break e}else{s(V,N);break}else n(V,N);N=N.sibling}Z=Gh(L,V.mode,Z),Z.return=V,V=Z}return v(V);case b:return ce=L._init,L=ce(L._payload),Qe(V,N,L,Z)}if(Ne(L))return Ee(V,N,L,Z);if(P(L)){if(ce=P(L),typeof ce!="function")throw Error(a(150));return L=ce.call(L),ye(V,N,L,Z)}if(typeof L.then=="function")return Qe(V,N,Hu(L),Z);if(L.$$typeof===re)return Qe(V,N,Du(V,L),Z);qu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(V,N.sibling),Z=c(N,L),Z.return=V,V=Z):(s(V,N),Z=qh(L,V.mode,Z),Z.return=V,V=Z),v(V)):s(V,N)}return function(V,N,L,Z){try{Go=0;var ce=Qe(V,N,L,Z);return _a=null,ce}catch(me){if(me===Vo||me===Nu)throw me;var Ie=ln(29,me,null,V.mode);return Ie.lanes=Z,Ie.return=V,Ie}finally{}}}var va=Sg(!0),bg=Sg(!1),bn=W(null),ei=null;function fr(t){var n=t.alternate;ie(St,St.current&1),ie(bn,t),ei===null&&(n===null||ma.current!==null||n.memoizedState!==null)&&(ei=t)}function wg(t){if(t.tag===22){if(ie(St,St.current),ie(bn,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else dr()}function dr(){ie(St,St.current),ie(bn,bn.current)}function xi(t){oe(bn),ei===t&&(ei=null),oe(St)}var St=W(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||dd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function bf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=fn(),c=ur(o);c.payload=n,s!=null&&(c.callback=s),n=cr(t,c,o),n!==null&&(dn(n,t,o),Uo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=fn(),c=ur(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=cr(t,c,o),n!==null&&(dn(n,t,o),Uo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=fn(),o=ur(s);o.tag=2,n!=null&&(o.callback=n),n=cr(t,o,s),n!==null&&(dn(n,t,s),Uo(n,t,s))}};function Rg(t,n,s,o,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!Co(s,o)||!Co(c,f):!0}function Cg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&wf.enqueueReplaceState(n,n.state,null)}function Ts(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){Fu(t)}function Dg(t){console.error(t)}function Og(t){Fu(t)}function Yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Rf(t,n,s){return s=ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(t,n)},s}function xg(t){return t=ur(t),t.tag=3,t}function Mg(t,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;t.payload=function(){return c(f)},t.callback=function(){Ng(n,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ng(n,s,o),typeof c!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PT(t,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xo(n,s,c,!0),s=bn.current,s!==null){switch(s.tag){case 13:return ei===null?$f():s.alternate===null&&at===0&&(at=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===ef?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Wf(t,o,c)),!1;case 22:return s.flags|=65536,o===ef?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Wf(t,o,c)),!1}throw Error(a(435,s.tag))}return Wf(t,o,c),$f(),!1}if(Le)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Qh&&(t=Error(a(422),{cause:o}),No(En(t,s)))):(o!==Qh&&(n=Error(a(423),{cause:o}),No(En(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=En(o,s),c=Rf(t.stateNode,o,c),rf(t,c),at!==4&&(at=2)),!1;var f=Error(a(520),{cause:o});if(f=En(f,s),Wo===null?Wo=[f]:Wo.push(f),at!==4&&(at=2),n===null)return!0;o=En(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Rf(s.stateNode,o,t),rf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vr===null||!vr.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=xg(c),Mg(c,t,s,o),rf(s,c),!1}s=s.return}while(s!==null);return!1}var kg=Error(a(461)),Ct=!1;function kt(t,n,s,o){n.child=t===null?bg(n,null,s,o):va(n,t.child,s,o)}function Vg(t,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return _s(n),o=uf(t,n,s,v,f,c),E=cf(),t!==null&&!Ct?(hf(t,n,c),Mi(t,n,c)):(Le&&E&&Fh(n),n.flags|=1,kt(t,n,o,c),n.child)}function Pg(t,n,s,o,c){if(t===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,o,c)):(t=wu(s.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kf(t,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:Co,s(v,o)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ri(f,o),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,s,o,c){if(t!==null){var f=t.memoizedProps;if(Co(f,o)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=o=f,kf(t,c))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Cf(t,n,s,o,c)}function Lg(t,n,s){var o=n.pendingProps,c=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return jg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Up(n,f):af(),wg(n);else return n.lanes=n.childLanes=536870912,jg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Ou(n,f.cachePool),Up(n,f),dr(),n.memoizedState=null):(t!==null&&Ou(n,null),af(),dr());return kt(t,n,c,s),n.child}function jg(t,n,s,o){var c=Jh();return c=c===null?null:{parent:At._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Ou(n,null),af(),wg(n),t!==null&&xo(t,n,o,!0),null}function Qu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Cf(t,n,s,o,c){return _s(n),s=uf(t,n,s,o,void 0,c),o=cf(),t!==null&&!Ct?(hf(t,n,c),Mi(t,n,c)):(Le&&o&&Fh(n),n.flags|=1,kt(t,n,s,c),n.child)}function zg(t,n,s,o,c,f){return _s(n),n.updateQueue=null,s=jp(n,o,s,c),Lp(t),o=cf(),t!==null&&!Ct?(hf(t,n,f),Mi(t,n,f)):(Le&&o&&Fh(n),n.flags|=1,kt(t,n,s,f),n.child)}function Bg(t,n,s,o,c){if(_s(n),n.stateNode===null){var f=ua,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):ua,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(bf(n,s,v,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&wf.enqueueReplaceState(f,f.state,null),jo(n,o,f,c),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Ts(s,E);f.props=I;var j=f.context,$=s.contextType;v=ua,typeof $=="object"&&$!==null&&(v=Ht($));var J=s.getDerivedStateFromProps;$=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&Cg(n,f,o,v),lr=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,c),Lo(),j=n.memoizedState,E||z!==j||lr?(typeof J=="function"&&(bf(n,s,J,o),j=n.memoizedState),(I=lr||Rg(n,s,I,o,z,j,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=v,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(t,n),v=n.memoizedProps,$=Ts(s,v),f.props=$,J=n.pendingProps,z=f.context,j=s.contextType,I=ua,typeof j=="object"&&j!==null&&(I=Ht(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||z!==I)&&Cg(n,f,o,I),lr=!1,z=n.memoizedState,f.state=z,jo(n,o,f,c),Lo();var q=n.memoizedState;v!==J||z!==q||lr||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(bf(n,s,E,o),q=n.memoizedState),($=lr||Rg(n,s,$,o,z,q,I)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=va(n,t.child,null,c),n.child=va(n,null,s,c)):kt(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function Hg(t,n,s,o){return Oo(),n.flags|=256,kt(t,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:Dp()}}function Of(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=wn),t}function qg(t,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(c?fr(n):dr(),Le){var E=st,I;if(I=E){e:{for(I=E,E=Jn;I.nodeType!==8;){if(!E){E=null;break e}if(I=Mn(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},I=ln(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,Wt=n,st=null,I=!0):I=!1}I||gs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dd(E)?n.lanes=32:n.lanes=536870912,null;xi(n)}return E=o.children,o=o.fallback,c?(dr(),c=n.mode,E=Ku({mode:"hidden",children:E},c),o=fs(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Df(s),c.childLanes=Of(t,v,s),n.memoizedState=If,o):(fr(n),Nf(n,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(fr(n),n.flags&=-257,n=xf(t,n,s)):n.memoizedState!==null?(dr(),n.child=t.child,n.flags|=128,n=null):(dr(),c=o.fallback,E=n.mode,o=Ku({mode:"visible",children:o.children},E),c=fs(c,E,s,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,va(n,t.child,null,s),o=n.child,o.memoizedState=Df(s),o.childLanes=Of(t,v,s),n.memoizedState=If,n=c);else if(fr(n),dd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(a(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),n=xf(t,n,s)}else if(Ct||xo(t,n,s,!1),v=(s&t.childLanes)!==0,Ct||v){if(v=$e,v!==null&&(o=s&-s,o=(o&42)!==0?1:er(o),o=(o&(v.suspendedLanes|s))!==0?0:o,o!==0&&o!==I.retryLane))throw I.retryLane=o,la(t,o),dn(v,t,o),kg;E.data==="$?"||$f(),n=xf(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,st=Mn(E.nextSibling),Wt=n,Le=!0,ps=null,Jn=!1,t!==null&&(An[Sn++]=Ci,An[Sn++]=Ii,An[Sn++]=ds,Ci=t.id,Ii=t.overflow,ds=n),n=Nf(n,o.children),n.flags|=4096);return n}return c?(dr(),c=o.fallback,E=n.mode,I=t.child,j=I.sibling,o=Ri(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?c=Ri(j,c):(c=fs(c,E,s,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=t.child.memoizedState,E===null?E=Df(s):(I=E.cachePool,I!==null?(j=At._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Dp(),E={baseLanes:E.baseLanes|s,cachePool:I}),c.memoizedState=E,c.childLanes=Of(t,v,s),n.memoizedState=If,o):(fr(n),s=t.child,t=s.sibling,s=Ri(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=s,n.memoizedState=null,s)}function Nf(t,n){return n=Ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ku(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xf(t,n,s){return va(n,t.child,null,s),t=Nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Xh(t.return,n,s)}function Mf(t,n,s,o,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=c)}function Fg(t,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(kt(t,n,o.children,s),o=St.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,s,n);else if(t.tag===19)Gg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ie(St,o),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Mf(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Gu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Mf(n,!0,s,null,f);break;case"together":Mf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_r|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(xo(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ri(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ri(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function UT(t,n,s){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),or(n,At,t.memoizedState.cache),Oo();break;case 27:case 5:Ji(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:or(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?qg(t,n,s):(fr(n),t=Mi(t,n,s),t!==null?t.sibling:null);fr(n);break;case 19:var c=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xo(t,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Fg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(St,St.current),o)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,s);case 24:or(n,At,t.memoizedState.cache)}return Mi(t,n,s)}function Yg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!kf(t,s)&&(n.flags&128)===0)return Ct=!1,UT(t,n,s);Ct=(t.flags&131072)!==0}else Ct=!1,Le&&(n.flags&1048576)!==0&&Ap(n,Cu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Hh(o)?(t=Ts(o,t),n.tag=1,n=Bg(null,n,o,t,s)):(n.tag=0,n=Cf(null,n,o,t,s));else{if(o!=null){if(c=o.$$typeof,c===de){n.tag=11,n=Vg(null,n,o,t,s);break e}else if(c===x){n.tag=14,n=Pg(null,n,o,t,s);break e}}throw n=_t(o)||o,Error(a(306,n,""))}}return n;case 0:return Cf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Ts(o,n.pendingProps),Bg(t,n,o,c,s);case 3:e:{if(Xe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,nf(t,n),jo(n,o,null,s);var v=n.memoizedState;if(o=v.cache,or(n,At,o),o!==f.cache&&$h(n,[At],s,!0),Lo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,o,s);break e}else if(o!==c){c=En(Error(a(424)),n),No(c),n=Hg(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Mn(t.firstChild),Wt=n,Le=!0,ps=null,Jn=!0,s=bg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Oo(),o===c){n=Mi(t,n,s);break e}kt(t,n,o,s)}n=n.child}return n;case 26:return Qu(t,n),t===null?(s=$y(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,t=n.pendingProps,o=lc(Te.current).createElement(s),o[vt]=n,o[ft]=t,Pt(o,s,t),lt(o),n.stateNode=o):n.memoizedState=$y(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&Le&&(o=n.stateNode=Qy(n.type,n.pendingProps,Te.current),Wt=n,Jn=!0,c=st,Ar(n.type)?(md=c,st=Mn(o.firstChild)):st=c),kt(t,n,n.pendingProps.children,s),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((c=o=st)&&(o=hA(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,Wt=n,st=Mn(o.firstChild),Jn=!1,c=!0):c=!1),c||gs(n)),Ji(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,cd(c,f)?o=null:v!==null&&cd(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=uf(t,n,DT,null,null,s),ol._currentValue=c),Qu(t,n),kt(t,n,o,s),n.child;case 6:return t===null&&Le&&((t=s=st)&&(s=fA(s,n.pendingProps,Jn),s!==null?(n.stateNode=s,Wt=n,st=null,t=!0):t=!1),t||gs(n)),null;case 13:return qg(t,n,s);case 4:return Xe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=va(n,null,o,s):kt(t,n,o,s),n.child;case 11:return Vg(t,n,n.type,n.pendingProps,s);case 7:return kt(t,n,n.pendingProps,s),n.child;case 8:return kt(t,n,n.pendingProps.children,s),n.child;case 12:return kt(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,or(n,n.type,o.value),kt(t,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,_s(n),c=Ht(c),o=o(c),n.flags|=1,kt(t,n,o,s),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,s);case 15:return Ug(t,n,n.type,n.pendingProps,s);case 19:return Fg(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Ku(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ri(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Lg(t,n,s);case 24:return _s(n),o=Ht(At),t===null?(c=Jh(),c===null&&(c=$e,f=Zh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},tf(n),or(n,At,c)):((t.lanes&s)!==0&&(nf(t,n),jo(n,null,null,s),Lo()),c=t.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),or(n,At,o)):(o=f.cache,or(n,At,o),o!==c.cache&&$h(n,[At],s,!0))),kt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ki(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(n)){if(n=bn.current,n!==null&&((Ve&4194048)===Ve?ei!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||n!==ei))throw Po=ef,Op;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lo():536870912,t.lanes|=n,Sa|=n)}function Yo(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function LT(t,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(At),Bn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Do(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wp())),nt(n),null;case 26:return s=n.memoizedState,t===null?(ki(n),s!==null?(nt(n),Qg(n,s)):(nt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ki(n),nt(n),Qg(n,s)):(nt(n),n.flags&=-16777217):(t.memoizedProps!==o&&ki(n),nt(n),n.flags&=-16777217),null;case 27:di(n),s=Te.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}t=fe.current,Do(n)?Sp(n):(t=Qy(c,o,s),n.stateNode=t,ki(n))}return nt(n),null;case 5:if(di(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(t=fe.current,Do(n))Sp(n);else{switch(c=lc(Te.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}t[vt]=n,t[ft]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Pt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ki(n)}}return nt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Te.current,Do(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,c=Wt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[vt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||zy(t.nodeValue,s)),t||gs(n)}else t=lc(t).createTextNode(o),t[vt]=n,n.stateNode=t}return nt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Do(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[vt]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),c=!1}else c=wp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),nt(n),null;case 4:return Bn(),t===null&&sd(n.stateNode.containerInfo),nt(n),null;case 10:return Oi(n.type),nt(n),null;case 19:if(oe(St),c=n.memoizedState,c===null)return nt(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Yo(c,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,Yo(c,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Tp(s,t),s=s.sibling;return ie(St,St.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>Wu&&(n.flags|=128,o=!0,Yo(c,!1),n.lanes=4194304)}else{if(!o)if(t=Gu(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),Yo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Le)return nt(n),null}else 2*mn()-c.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,o=!0,Yo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=St.current,ie(St,o?t&1|2:t&1),n):(nt(n),null);case 22:case 23:return xi(n),of(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(vs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Oi(At),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jT(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(At),Bn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return di(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Oo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(St),null;case 4:return Bn(),null;case 10:return Oi(n.type),null;case 22:case 23:return xi(n),of(),t!==null&&oe(vs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(At),null;case 25:return null;default:return null}}function Kg(t,n){switch(Yh(n),n.tag){case 3:Oi(At),Bn();break;case 26:case 27:case 5:di(n);break;case 4:Bn();break;case 13:xi(n);break;case 19:oe(St);break;case 10:Oi(n.type);break;case 22:case 23:xi(n),of(),t!==null&&oe(vs);break;case 24:Oi(At)}}function Qo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==c)}}catch(E){Ke(n,n.return,E)}}function mr(t,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var I=s,j=E;try{j()}catch($){Ke(c,I,$)}}}o=o.next}while(o!==f)}}catch($){Ke(n,n.return,$)}}function Xg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Pp(n,s)}catch(o){Ke(t,t.return,o)}}}function $g(t,n,s){s.props=Ts(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ke(t,n,o)}}function Ko(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(c){Ke(t,n,c)}}function ti(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ke(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ke(t,n,c)}else s.current=null}function Zg(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ke(t,t.return,c)}}function Vf(t,n,s){try{var o=t.stateNode;aA(o,t.type,s,n),o[ft]=n}catch(c){Ke(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ar(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oc));else if(o!==4&&(o===27&&Ar(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,s),t=t.sibling;t!==null;)Uf(t,n,s),t=t.sibling}function $u(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ar(t.type)&&(s=t.stateNode),t=t.child,t!==null))for($u(t,n,s),t=t.sibling;t!==null;)$u(t,n,s),t=t.sibling}function Jg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pt(n,o,s),n[vt]=t,n[ft]=s}catch(f){Ke(t,t.return,f)}}var Vi=!1,ct=!1,Lf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,It=null;function zT(t,n){if(t=t.containerInfo,ld=mc,t=hp(t),Vh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,E=-1,I=-1,j=0,$=0,J=t,z=null;t:for(;;){for(var q;J!==s||c!==0&&J.nodeType!==3||(E=v+c),J!==f||o!==0&&J.nodeType!==3||(I=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(q=J.firstChild)!==null;)z=J,J=q;for(;;){if(J===t)break t;if(z===s&&++j===c&&(E=v),z===f&&++$===o&&(I=v),(q=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:t,selectionRange:s},mc=!1,It=n;It!==null;)if(n=It,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,It=t;else for(;It!==null;){switch(n=It,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var Ee=Ts(s.type,c,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Ee,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ke(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)fd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,It=t;break}It=n.return}}function ty(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:pr(t,s),o&4&&Qo(5,s);break;case 1:if(pr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(v){Ke(s,s.return,v)}else{var c=Ts(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ke(s,s.return,v)}}o&64&&Xg(s),o&512&&Ko(s,s.return);break;case 3:if(pr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pp(t,n)}catch(v){Ke(s,s.return,v)}}break;case 27:n===null&&o&4&&Jg(s);case 26:case 5:pr(t,s),n===null&&o&4&&Zg(s),o&512&&Ko(s,s.return);break;case 12:pr(t,s);break;case 13:pr(t,s),o&4&&ry(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=XT.bind(null,s),dA(t,s))));break;case 22:if(o=s.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||ct,c=Vi;var f=ct;Vi=o,(ct=n)&&!f?gr(t,s,(s.subtreeFlags&8772)!==0):pr(t,s),Vi=c,ct=f}break;case 30:break;default:pr(t,s)}}function ny(t){var n=t.alternate;n!==null&&(t.alternate=null,ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,en=!1;function Pi(t,n,s){for(s=s.child;s!==null;)iy(t,n,s),s=s.sibling}function iy(t,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(rt,s)}catch{}switch(s.tag){case 26:ct||ti(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ct||ti(s,n);var o=Je,c=en;Ar(s.type)&&(Je=s.stateNode,en=!1),Pi(t,n,s),il(s.stateNode),Je=o,en=c;break;case 5:ct||ti(s,n);case 6:if(o=Je,c=en,Je=null,Pi(t,n,s),Je=o,en=c,Je!==null)if(en)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(f){Ke(s,n,f)}else try{Je.removeChild(s.stateNode)}catch(f){Ke(s,n,f)}break;case 18:Je!==null&&(en?(t=Je,Fy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),hl(t)):Fy(Je,s.stateNode));break;case 4:o=Je,c=en,Je=s.stateNode.containerInfo,en=!0,Pi(t,n,s),Je=o,en=c;break;case 0:case 11:case 14:case 15:ct||mr(2,s,n),ct||mr(4,s,n),Pi(t,n,s);break;case 1:ct||(ti(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$g(s,n,o)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:ct=(o=ct)||s.memoizedState!==null,Pi(t,n,s),ct=o;break;default:Pi(t,n,s)}}function ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(s){Ke(n,n.return,s)}}function BT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ey),n;default:throw Error(a(435,t.tag))}}function jf(t,n){var s=BT(t);n.forEach(function(o){var c=$T.bind(null,t,o);s.has(o)||(s.add(o),o.then(c,c))})}function un(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=t,v=n,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Ar(E.type)){Je=E.stateNode,en=!1;break e}break;case 5:Je=E.stateNode,en=!1;break e;case 3:case 4:Je=E.stateNode.containerInfo,en=!0;break e}E=E.return}if(Je===null)throw Error(a(160));iy(f,v,c),Je=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)sy(n,t),n=n.sibling}var xn=null;function sy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),o&4&&(mr(3,t,t.return),Qo(3,t),mr(5,t,t.return));break;case 1:un(n,t),cn(t),o&512&&(ct||s===null||ti(s,s.return)),o&64&&Vi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=xn;if(un(n,t),cn(t),o&512&&(ct||s===null||ti(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$r]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Pt(f,o,s),f[vt]=t,lt(f),o=f;break e;case"link":var v=Jy("link","href",c).get(o+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}f=c.createElement(o),Pt(f,o,s),c.head.appendChild(f);break;case"meta":if(v=Jy("meta","content",c).get(o+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}f=c.createElement(o),Pt(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[vt]=t,lt(f),o=f}t.stateNode=o}else e_(c,t.type,t.stateNode);else t.stateNode=Wy(c,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?e_(c,t.type,t.stateNode):Wy(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),o&512&&(ct||s===null||ti(s,s.return)),s!==null&&o&4&&Vf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),o&512&&(ct||s===null||ti(s,s.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){Ke(t,t.return,q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Vf(t,c,s!==null?s.memoizedProps:c)),o&1024&&(Lf=!0);break;case 6:if(un(n,t),cn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(q){Ke(t,t.return,q)}}break;case 3:if(hc=null,c=xn,xn=uc(n.containerInfo),un(n,t),xn=c,cn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(q){Ke(t,t.return,q)}Lf&&(Lf=!1,ay(t));break;case 4:o=xn,xn=uc(t.stateNode.containerInfo),un(n,t),cn(t),xn=o;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ff=mn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 22:c=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Vi,$=ct;if(Vi=j||c,ct=$||I,un(n,t),ct=$,Vi=j,cn(t),o&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Vi||ct||As(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){Ke(I,I.return,q)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(q){Ke(I,I.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,jf(t,s))));break;case 19:un(n,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jf(t,o)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Wg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Pf(t);$u(t,f,c);break;case 5:var v=s.stateNode;s.flags&32&&(gn(v,""),s.flags&=-33);var E=Pf(t);$u(t,E,v);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Pf(t);Uf(t,j,I);break;default:throw Error(a(161))}}catch($){Ke(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function pr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ty(t,n.alternate,n),n=n.sibling}function As(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),As(n);break;case 1:ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$g(n,n.return,s),As(n);break;case 27:il(n.stateNode);case 26:case 5:ti(n,n.return),As(n);break;case 22:n.memoizedState===null&&As(n);break;case 30:As(n);break;default:As(n)}t=t.sibling}}function gr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:gr(c,f,s),Qo(4,f);break;case 1:if(gr(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Ke(o,o.return,j)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Vp(I[c],E)}catch(j){Ke(o,o.return,j)}}s&&v&64&&Xg(f),Ko(f,f.return);break;case 27:Jg(f);case 26:case 5:gr(c,f,s),s&&o===null&&v&4&&Zg(f),Ko(f,f.return);break;case 12:gr(c,f,s);break;case 13:gr(c,f,s),s&&v&4&&ry(c,f);break;case 22:f.memoizedState===null&&gr(c,f,s),Ko(f,f.return);break;case 30:break;default:gr(c,f,s)}n=n.sibling}}function zf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Mo(s))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t))}function ni(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)oy(t,n,s,o),n=n.sibling}function oy(t,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,s,o),c&2048&&Qo(9,n);break;case 1:ni(t,n,s,o);break;case 3:ni(t,n,s,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Mo(t)));break;case 12:if(c&2048){ni(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ke(n,n.return,I)}}else ni(t,n,s,o);break;case 13:ni(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,s,o):Xo(t,n):f._visibility&2?ni(t,n,s,o):(f._visibility|=2,Ea(t,n,s,o,(n.subtreeFlags&10256)!==0)),c&2048&&zf(v,n);break;case 24:ni(t,n,s,o),c&2048&&Bf(n.alternate,n);break;default:ni(t,n,s,o)}}function Ea(t,n,s,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=s,I=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ea(f,v,E,I,c),Qo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ea(f,v,E,I,c):Xo(f,v):($._visibility|=2,Ea(f,v,E,I,c)),c&&j&2048&&zf(v.alternate,v);break;case 24:Ea(f,v,E,I,c),c&&j&2048&&Bf(v.alternate,v);break;default:Ea(f,v,E,I,c)}n=n.sibling}}function Xo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,c=o.flags;switch(o.tag){case 22:Xo(s,o),c&2048&&zf(o.alternate,o);break;case 24:Xo(s,o),c&2048&&Bf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var $o=8192;function Ta(t){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)ly(t),t=t.sibling}function ly(t){switch(t.tag){case 26:Ta(t),t.flags&$o&&t.memoizedState!==null&&RA(xn,t.memoizedState,t.memoizedProps);break;case 5:Ta(t);break;case 3:case 4:var n=xn;xn=uc(t.stateNode.containerInfo),Ta(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=$o,$o=16777216,Ta(t),$o=n):Ta(t));break;default:Ta(t)}}function uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];It=o,hy(o,t)}uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cy(t),t=t.sibling}function cy(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&mr(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):Zo(t);break;default:Zo(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];It=o,hy(o,t)}uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:mr(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function hy(t,n){for(;It!==null;){var s=It;switch(s.tag){case 0:case 11:case 15:mr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,It=o;else e:for(s=t;It!==null;){o=It;var c=o.sibling,f=o.return;if(ny(o),o===s){It=null;break e}if(c!==null){c.return=f,It=c;break e}It=f}}}var HT={getCacheForType:function(t){var n=Ht(At),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},qT=typeof WeakMap=="function"?WeakMap:Map,He=0,$e=null,De=null,Ve=0,qe=0,hn=null,yr=!1,Aa=!1,Hf=!1,Ui=0,at=0,_r=0,Ss=0,qf=0,wn=0,Sa=0,Wo=null,tn=null,Gf=!1,Ff=0,Wu=1/0,Ju=null,vr=null,Vt=0,Er=null,ba=null,wa=0,Yf=0,Qf=null,fy=null,Jo=0,Kf=null;function fn(){if((He&2)!==0&&Ve!==0)return Ve&-Ve;if(H.T!==null){var t=fa;return t!==0?t:td()}return tr()}function dy(){wn===0&&(wn=(Ve&536870912)===0||Le?oo():536870912);var t=bn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,s){(t===$e&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ra(t,0),Tr(t,Ve,wn,!1)),pi(t,s),((He&2)===0||t!==$e)&&(t===$e&&((He&2)===0&&(Ss|=s),at===4&&Tr(t,Ve,wn,!1)),ii(t))}function my(t,n,s){if((He&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Xr(t,n),c=o?YT(t,n):Zf(t,n,!0),f=o;do{if(c===0){Aa&&!o&&Tr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!GT(s)){c=Zf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var E=t;c=Wo;var I=E.current.memoizedState.isDehydrated;if(I&&(Ra(E,v).flags|=256),v=Zf(E,v,!1),v!==2){if(Hf&&!I){E.errorRecoveryDisabledLanes|=f,Ss|=f,c=4;break e}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Ra(t,0),Tr(t,n,0,!0);break}e:{switch(o=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Tr(o,n,wn,!yr);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ff+300-mn(),10<c)){if(Tr(o,n,wn,!yr),qs(o,0,!0)!==0)break e;o.timeoutHandle=qy(py.bind(null,o,s,tn,Ju,Gf,n,wn,Ss,Sa,yr,f,2,-0,0),c);break e}py(o,s,tn,Ju,Gf,n,wn,Ss,Sa,yr,f,0,-0,0)}}break}while(!0);ii(t)}function py(t,n,s,o,c,f,v,E,I,j,$,J,z,q){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:wA},ly(n),J=CA(),J!==null)){t.cancelPendingCommit=J(Ay.bind(null,t,n,f,s,o,c,v,E,I,$,1,z,q)),Tr(t,f,v,!j);return}Ay(t,n,f,s,o,c,v,E,I)}function GT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(t,n,s,o){n&=~qf,n&=~Ss,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var f=31-Bt(c),v=1<<f;o[f]=-1,c&=~v}s!==0&&Hn(t,s,n)}function ec(){return(He&6)===0?(el(0),!1):!0}function Xf(){if(De!==null){if(qe===0)var t=De.return;else t=De,Di=ys=null,ff(t),_a=null,Go=0,t=De;for(;t!==null;)Kg(t.alternate,t),t=t.return;De=null}}function Ra(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,lA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xf(),$e=t,De=s=Ri(t.current,null),Ve=n,qe=0,hn=null,yr=!1,Aa=Xr(t,n),Hf=!1,Sa=wn=qf=Ss=_r=at=0,tn=Wo=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-Bt(o),f=1<<c;n|=t[c],o&=~f}return Ui=n,Au(),s}function gy(t,n){Re=null,H.H=Bu,n===Vo||n===Nu?(n=Mp(),qe=3):n===Op?(n=Mp(),qe=4):qe=n===kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,De===null&&(at=1,Yu(t,En(n,t.current)))}function yy(){var t=H.H;return H.H=Bu,t===null?Bu:t}function _y(){var t=H.A;return H.A=HT,t}function $f(){at=4,yr||(Ve&4194048)!==Ve&&bn.current!==null||(Aa=!0),(_r&134217727)===0&&(Ss&134217727)===0||$e===null||Tr($e,Ve,wn,!1)}function Zf(t,n,s){var o=He;He|=2;var c=yy(),f=_y();($e!==t||Ve!==n)&&(Ju=null,Ra(t,n)),n=!1;var v=at;e:do try{if(qe!==0&&De!==null){var E=De,I=hn;switch(qe){case 8:Xf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var j=qe;if(qe=0,hn=null,Ca(t,E,I,j),s&&Aa){v=0;break e}break;default:j=qe,qe=0,hn=null,Ca(t,E,I,j)}}FT(),v=at;break}catch($){gy(t,$)}while(!0);return n&&t.shellSuspendCounter++,Di=ys=null,He=o,H.H=c,H.A=f,De===null&&($e=null,Ve=0,Au()),v}function FT(){for(;De!==null;)vy(De)}function YT(t,n){var s=He;He|=2;var o=yy(),c=_y();$e!==t||Ve!==n?(Ju=null,Wu=mn()+500,Ra(t,n)):Aa=Xr(t,n);e:do try{if(qe!==0&&De!==null){n=De;var f=hn;t:switch(qe){case 1:qe=0,hn=null,Ca(t,n,f,1);break;case 2:case 9:if(Np(f)){qe=0,hn=null,Ey(n);break}n=function(){qe!==2&&qe!==9||$e!==t||(qe=7),ii(t)},f.then(n,n);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Np(f)?(qe=0,hn=null,Ey(n)):(qe=0,hn=null,Ca(t,n,f,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var E=De;if(!v||t_(v)){qe=0,hn=null;var I=E.sibling;if(I!==null)De=I;else{var j=E.return;j!==null?(De=j,tc(j)):De=null}break t}}qe=0,hn=null,Ca(t,n,f,5);break;case 6:qe=0,hn=null,Ca(t,n,f,6);break;case 8:Xf(),at=6;break e;default:throw Error(a(462))}}QT();break}catch($){gy(t,$)}while(!0);return Di=ys=null,H.H=o,H.A=c,He=s,De!==null?0:($e=null,Ve=0,Au(),at)}function QT(){for(;De!==null&&!io();)vy(De)}function vy(t){var n=Yg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?tc(t):De=n}function Ey(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=zg(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=zg(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:ff(n);default:Kg(s,n),n=De=Tp(n,Ui),n=Yg(s,n,Ui)}t.memoizedProps=t.pendingProps,n===null?tc(t):De=n}function Ca(t,n,s,o){Di=ys=null,ff(n),_a=null,Go=0;var c=n.return;try{if(PT(t,c,n,s,Ve)){at=1,Yu(t,En(s,t.current)),De=null;return}}catch(f){if(c!==null)throw De=c,f;at=1,Yu(t,En(s,t.current)),De=null;return}n.flags&32768?(Le||o===1?t=!0:Aa||(Ve&536870912)!==0?t=!1:(yr=t=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(n,t)):tc(n)}function tc(t){var n=t;do{if((n.flags&32768)!==0){Ty(n,yr);return}t=n.return;var s=LT(n.alternate,n,Ui);if(s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);at===0&&(at=5)}function Ty(t,n){do{var s=jT(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);at=6,De=null}function Ay(t,n,s,o,c,f,v,E,I){t.cancelPendingCommit=null;do nc();while(Vt!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,uo(t,s,f,v,E,I),t===$e&&(De=$e=null,Ve=0),ba=n,Er=t,wa=s,Yf=f,Qf=c,fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZT(Fr,function(){return Cy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=ne.p,ne.p=2,v=He,He|=4;try{zT(t,n,s)}finally{He=v,ne.p=c,H.T=o}}Vt=1,Sy(),by(),wy()}}function Sy(){if(Vt===1){Vt=0;var t=Er,n=ba,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=ne.p;ne.p=2;var c=He;He|=4;try{sy(n,t);var f=ud,v=hp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&cp(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var j=I.start,$=I.end;if($===void 0&&($=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min($,E.value.length);else{var J=E.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var q=z.getSelection(),Ee=E.textContent.length,ye=Math.min(I.start,Ee),Qe=I.end===void 0?ye:Math.min(I.end,Ee);!q.extend&&ye>Qe&&(v=Qe,Qe=ye,ye=v);var V=up(E,ye),N=up(E,Qe);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=J.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),ye>Qe?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(J=[],q=E;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Z=J[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}mc=!!ld,ud=ld=null}finally{He=c,ne.p=o,H.T=s}}t.current=n,Vt=2}}function by(){if(Vt===2){Vt=0;var t=Er,n=ba,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=ne.p;ne.p=2;var c=He;He|=4;try{ty(t,n.alternate,n)}finally{He=c,ne.p=o,H.T=s}}Vt=3}}function wy(){if(Vt===4||Vt===3){Vt=0,Zl();var t=Er,n=ba,s=wa,o=fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,ba=Er=null,Ry(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(vr=null),Gs(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(rt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=ne.p,ne.p=2,H.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,ne.p=c}}(wa&3)!==0&&nc(),ii(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Kf?Jo++:(Jo=0,Kf=t):Jo=0,el(0)}}function Ry(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Mo(n)))}function nc(t){return Sy(),by(),wy(),Cy()}function Cy(){if(Vt!==5)return!1;var t=Er,n=Yf;Yf=0;var s=Gs(wa),o=H.T,c=ne.p;try{ne.p=32>s?32:s,H.T=null,s=Qf,Qf=null;var f=Er,v=wa;if(Vt=0,ba=Er=null,wa=0,(He&6)!==0)throw Error(a(331));var E=He;if(He|=4,cy(f.current),oy(f,f.current,v,s),He=E,el(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(rt,f)}catch{}return!0}finally{ne.p=c,H.T=o,Ry(t,n)}}function Iy(t,n,s){n=En(s,n),n=Rf(t.stateNode,n,2),t=cr(t,n,2),t!==null&&(pi(t,2),ii(t))}function Ke(t,n,s){if(t.tag===3)Iy(t,t,s);else for(;n!==null;){if(n.tag===3){Iy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){t=En(s,t),s=xg(2),o=cr(n,s,2),o!==null&&(Mg(s,o,n,t),pi(o,2),ii(o));break}}n=n.return}}function Wf(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new qT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Hf=!0,c.add(s),t=KT.bind(null,t,n,s),n.then(t,t))}function KT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$e===t&&(Ve&s)===s&&(at===4||at===3&&(Ve&62914560)===Ve&&300>mn()-Ff?(He&2)===0&&Ra(t,0):qf|=s,Sa===Ve&&(Sa=0)),ii(t)}function Dy(t,n){n===0&&(n=lo()),t=la(t,n),t!==null&&(pi(t,n),ii(t))}function XT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Dy(t,s)}function $T(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Dy(t,s)}function ZT(t,n){return qr(t,n)}var ic=null,Ia=null,Jf=!1,rc=!1,ed=!1,bs=0;function ii(t){t!==Ia&&t.next===null&&(Ia===null?ic=Ia=t:Ia=Ia.next=t),rc=!0,Jf||(Jf=!0,JT())}function el(t,n){if(!ed&&rc){ed=!0;do for(var s=!1,o=ic;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Bt(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,My(o,f))}else f=Ve,f=qs(o,o===$e?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xr(o,f)||(s=!0,My(o,f));o=o.next}while(s);ed=!1}}function WT(){Oy()}function Oy(){rc=Jf=!1;var t=0;bs!==0&&(oA()&&(t=bs),bs=0);for(var n=mn(),s=null,o=ic;o!==null;){var c=o.next,f=Ny(o,n);f===0?(o.next=null,s===null?ic=c:s.next=c,c===null&&(Ia=s)):(s=o,(t!==0||(f&3)!==0)&&(rc=!0)),o=c}el(t)}function Ny(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Bt(f),E=1<<v,I=c[v];I===-1?((E&s)===0||(E&o)!==0)&&(c[v]=ao(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=$e,s=Ve,s=qs(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Gr(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Xr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Gr(o),Gs(s)){case 2:case 8:s=Bs;break;case 32:s=Fr;break;case 268435456:s=Hs;break;default:s=Fr}return o=xy.bind(null,t),s=qr(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Gr(o),t.callbackPriority=2,t.callbackNode=null,2}function xy(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nc()&&t.callbackNode!==s)return null;var o=Ve;return o=qs(t,t===$e?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(my(t,o,n),Ny(t,mn()),t.callbackNode!=null&&t.callbackNode===s?xy.bind(null,t):null)}function My(t,n){if(nc())return null;my(t,n,!0)}function JT(){uA(function(){(He&6)!==0?qr(ro,WT):Oy()})}function td(){return bs===0&&(bs=oo()),bs}function ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$s(""+t)}function Vy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function eA(t,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=ky((c[ft]||null).action),v=o.submitter;v&&(n=(n=v[ft]||null)?ky(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Zs("action","action",null,o,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(bs!==0){var I=v?Vy(c,v):new FormData(c);Tf(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=v?Vy(c,v):new FormData(c),Tf(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var nd=0;nd<jh.length;nd++){var id=jh[nd],tA=id.toLowerCase(),nA=id[0].toUpperCase()+id.slice(1);Nn(tA,"on"+nA)}Nn(mp,"onAnimationEnd"),Nn(pp,"onAnimationIteration"),Nn(gp,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(vT,"onTransitionRun"),Nn(ET,"onTransitionStart"),Nn(TT,"onTransitionCancel"),Nn(yp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Py(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],c=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=j;try{f(c)}catch($){Fu($)}c.currentTarget=null,f=I}else for(v=0;v<o.length;v++){if(E=o[v],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=j;try{f(c)}catch($){Fu($)}c.currentTarget=null,f=I}}}}function Oe(t,n){var s=n[ho];s===void 0&&(s=n[ho]=new Set);var o=t+"__bubble";s.has(o)||(Uy(n,t,2,!1),s.add(o))}function rd(t,n,s){var o=0;n&&(o|=4),Uy(s,t,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[sc]){t[sc]=!0,fo.forEach(function(s){s!=="selectionchange"&&(iA.has(s)||rd(s,!1,t),rd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[sc]||(n[sc]=!0,rd("selectionchange",!1,n))}}function Uy(t,n,s,o){switch(o_(n)){case 2:var c=OA;break;case 8:c=NA;break;default:c=vd}s=c.bind(null,n,s,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ad(t,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=gi(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=f=v;continue e}E=E.parentNode}}o=o.return}ou(function(){var j=f,$=yn(s),J=[];e:{var z=_p.get(t);if(z!==void 0){var q=Zs,Ee=t;switch(t){case"keypress":if(Kn(s)===0)break e;case"keydown":case"keyup":q=ia;break;case"focusin":Ee="focus",q=ea;break;case"focusout":Ee="blur",q=ea;break;case"beforeblur":case"afterblur":q=ea;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case mp:case pp:case gp:q=ta;break;case yp:q=yu;break;case"scroll":case"scrollend":q=lu;break;case"wheel":q=ra;break;case"copy":case"cut":case"paste":q=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wo;break;case"toggle":case"beforetoggle":q=vu}var ye=(n&4)!==0,Qe=!ye&&(t==="scroll"||t==="scrollend"),V=ye?z!==null?z+"Capture":null:z;ye=[];for(var N=j,L;N!==null;){var Z=N;if(L=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||L===null||V===null||(Z=is(N,V),Z!=null&&ye.push(nl(N,Z,L))),Qe)break;N=N.return}0<ye.length&&(z=new q(z,Ee,null,s,$),J.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&s!==Ei&&(Ee=s.relatedTarget||s.fromElement)&&(gi(Ee)||Ee[pn]))break e;if((q||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,q?(Ee=s.relatedTarget||s.toElement,q=j,Ee=Ee?gi(Ee):null,Ee!==null&&(Qe=h(Ee),ye=Ee.tag,Ee!==Qe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(q=null,Ee=j),q!==Ee)){if(ye=vn,Z="onMouseLeave",V="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ye=wo,Z="onPointerLeave",V="onPointerEnter",N="pointer"),Qe=q==null?z:Gn(q),L=Ee==null?z:Gn(Ee),z=new ye(Z,N+"leave",q,s,$),z.target=Qe,z.relatedTarget=L,Z=null,gi($)===j&&(ye=new ye(V,N+"enter",Ee,s,$),ye.target=L,ye.relatedTarget=Qe,Z=ye),Qe=Z,q&&Ee)t:{for(ye=q,V=Ee,N=0,L=ye;L;L=Da(L))N++;for(L=0,Z=V;Z;Z=Da(Z))L++;for(;0<N-L;)ye=Da(ye),N--;for(;0<L-N;)V=Da(V),L--;for(;N--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=Da(ye),V=Da(V)}ye=null}else ye=null;q!==null&&Ly(J,z,q,ye,!1),Ee!==null&&Qe!==null&&Ly(J,Qe,Ee,ye,!0)}}e:{if(z=j?Gn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ce=ip;else if(Tt(z))if(rp)ce=gT;else{ce=mT;var Ie=dT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&_o(j.elementType)&&(ce=ip):ce=pT;if(ce&&(ce=ce(t,j))){wi(J,ce,s,$);break e}Ie&&Ie(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&sr(z,"number",z.value)}switch(Ie=j?Gn(j):window,t){case"focusin":(Tt(Ie)||Ie.contentEditable==="true")&&(sa=Ie,Ph=j,Io=null);break;case"focusout":Io=Ph=sa=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,fp(J,s,$);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":fp(J,s,$)}var me;if(Zn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?F(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(_&&s.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(me=Eo()):(Qn=$,ar="value"in Qn?Qn.value:Qn.textContent,Me=!0)),Ie=ac(j,_e),0<Ie.length&&(_e=new So(_e,t,null,s,$),J.push({event:_e,listeners:Ie}),me?_e.data=me:(me=ae(s),me!==null&&(_e.data=me)))),(me=m?Et(t,s):ke(t,s))&&(_e=ac(j,"onBeforeInput"),0<_e.length&&(Ie=new So("onBeforeInput","beforeinput",null,s,$),J.push({event:Ie,listeners:_e}),Ie.data=me)),eA(J,t,j,s,$)}Py(J,n)})}function nl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ac(t,n){for(var s=n+"Capture",o=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=is(t,s),c!=null&&o.unshift(nl(t,c,f)),c=is(t,n),c!=null&&o.push(nl(t,c,f))),t.tag===3)return o;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,n,s,o,c){for(var f=n._reactName,v=[];s!==null&&s!==o;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,c?(j=is(s,f),j!=null&&v.unshift(nl(s,j,I))):c||(j=is(s,f),j!=null&&v.push(nl(s,j,I)))),s=s.return}v.length!==0&&t.push({event:n,listeners:v})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(rA,`
`).replace(sA,"")}function zy(t,n){return n=jy(n),jy(t)===n}function oc(){}function Ye(t,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(t,""+o);break;case"className":Fn(t,"class",o);break;case"tabIndex":Fn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(t,s,o);break;case"style":yo(t,o,f);break;case"data":if(n!=="object"){Fn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=$s(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ye(t,n,"name",c.name,c,null),Ye(t,n,"formEncType",c.formEncType,c,null),Ye(t,n,"formMethod",c.formMethod,c,null),Ye(t,n,"formTarget",c.formTarget,c,null)):(Ye(t,n,"encType",c.encType,c,null),Ye(t,n,"method",c.method,c,null),Ye(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=$s(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=oc);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=$s(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),rr(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":rr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dh.get(s)||s,rr(t,s,o))}}function od(t,n,s,o,c,f){switch(s){case"style":yo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?gn(t,o):(typeof o=="number"||typeof o=="bigint")&&gn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[ft]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,c);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):rr(t,s,o)}}}function Pt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,f,v,s,null)}}c&&Ye(t,n,"srcSet",s.srcSet,s,null),o&&Ye(t,n,"src",s.src,s,null);return;case"input":Oe("invalid",t);var E=f=v=c=null,I=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":c=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":j=$;break;case"value":f=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:Ye(t,n,o,$,s,null)}}es(t,f,E,I,j,v,c,!1),Xs(t);return;case"select":Oe("invalid",t),o=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Ye(t,n,c,E,s,null)}n=f,s=v,t.multiple=!!o,n!=null?vi(t,!!o,n,!1):s!=null&&vi(t,!!o,s,!0);return;case"textarea":Oe("invalid",t),f=c=o=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ye(t,n,v,E,s,null)}ts(t,o,c,f),Xs(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,n,I,o,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<tl.length;o++)Oe(tl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ye(t,n,j,o,s,null)}return;default:if(_o(n)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&od(t,n,$,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Ye(t,n,E,o,s,null))}function aA(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,I=null,j=null,$=null;for(q in s){var J=s[q];if(s.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(q)||Ye(t,n,q,null,o,J)}}for(var z in o){var q=o[z];if(J=s[z],o.hasOwnProperty(z)&&(q!=null||J!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":$=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==J&&Ye(t,n,z,q,o,J)}}an(t,v,E,I,j,$,f,c);return;case"select":q=v=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Ye(t,n,f,null,o,I)}for(c in o)if(f=o[c],I=s[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==I&&Ye(t,n,c,f,o,I)}n=E,s=v,o=q,z!=null?vi(t,!!s,z,!1):!!o!=!!s&&(n!=null?vi(t,!!s,n,!0):vi(t,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,n,E,null,o,c)}for(v in o)if(c=o[v],f=s[v],o.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ye(t,n,v,c,o,f)}Ge(t,z,q);return;case"option":for(var Ee in s)if(z=s[Ee],s.hasOwnProperty(Ee)&&z!=null&&!o.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ye(t,n,Ee,null,o,z)}for(I in o)if(z=o[I],q=s[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ye(t,n,I,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)z=s[ye],s.hasOwnProperty(ye)&&z!=null&&!o.hasOwnProperty(ye)&&Ye(t,n,ye,null,o,z);for(j in o)if(z=o[j],q=s[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Ye(t,n,j,z,o,q)}return;default:if(_o(n)){for(var Qe in s)z=s[Qe],s.hasOwnProperty(Qe)&&z!==void 0&&!o.hasOwnProperty(Qe)&&od(t,n,Qe,void 0,o,z);for($ in o)z=o[$],q=s[$],!o.hasOwnProperty($)||z===q||z===void 0&&q===void 0||od(t,n,$,z,o,q);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Ye(t,n,V,null,o,z);for(J in o)z=o[J],q=s[J],!o.hasOwnProperty(J)||z===q||z==null&&q==null||Ye(t,n,J,z,o,q)}var ld=null,ud=null;function lc(t){return t.nodeType===9?t:t.ownerDocument}function By(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function oA(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(cA)}:qy;function cA(t){setTimeout(function(){throw t})}function Ar(t){return t==="head"}function Fy(t,n){var s=n,o=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var v=t.ownerDocument;if(s&1&&il(v.documentElement),s&2&&il(v.body),s&4)for(s=v.head,il(s),v=s.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[$r]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(c===0){t.removeChild(f),hl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);hl(n)}function fd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),ir(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function hA(t,n,s,o){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[$r])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function fA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dA(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var md=null;function Yy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Qy(t,n,s){switch(n=lc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ir(t)}var Rn=new Map,Ky=new Set;function uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ne.d;ne.d={f:mA,r:pA,D:gA,C:yA,L:_A,m:vA,X:TA,S:EA,M:AA};function mA(){var t=Li.f(),n=ec();return t||n}function pA(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?mg(n):Li.r(t)}var Oa=typeof document>"u"?null:document;function Xy(t,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var c=dt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Ky.has(c)||(Ky.add(c),t={rel:t,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Pt(n,"link",t),lt(n),o.head.appendChild(n)))}}function gA(t){Li.D(t),Xy("dns-prefetch",t,null)}function yA(t,n){Li.C(t,n),Xy("preconnect",t,n)}function _A(t,n,s){Li.L(t,n,s);var o=Oa;if(o&&t&&n){var c='link[rel="preload"][as="'+dt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+dt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+dt(s.imageSizes)+'"]')):c+='[href="'+dt(t)+'"]';var f=c;switch(n){case"style":f=Na(t);break;case"script":f=xa(t)}Rn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Rn.set(f,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),Pt(n,"link",t),lt(n),o.head.appendChild(n)))}}function vA(t,n){Li.m(t,n);var s=Oa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(t)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(t)}if(!Rn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Rn.set(f,t),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sl(f)))return}o=s.createElement("link"),Pt(o,"link",t),lt(o),s.head.appendChild(o)}}}function EA(t,n,s){Li.S(t,n,s);var o=Oa;if(o&&t){var c=Xt(o).hoistableStyles,f=Na(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(rl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Rn.get(f))&&pd(t,s);var I=v=o.createElement("link");lt(I),Pt(I,"link",t),I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function TA(t,n){Li.X(t,n);var s=Oa;if(s&&t){var o=Xt(s).hoistableScripts,c=xa(t),f=o.get(c);f||(f=s.querySelector(sl(c)),f||(t=T({src:t,async:!0},n),(n=Rn.get(c))&&gd(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function AA(t,n){Li.M(t,n);var s=Oa;if(s&&t){var o=Xt(s).hoistableScripts,c=xa(t),f=o.get(c);f||(f=s.querySelector(sl(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&gd(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function $y(t,n,s,o){var c=(c=Te.current)?uc(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=Xt(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Na(s.href);var f=Xt(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(rl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Rn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Rn.set(t,s),f||SA(c,t,s,v.state))),n&&o===null)throw Error(a(528,""));return v}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=Xt(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Na(t){return'href="'+dt(t)+'"'}function rl(t){return'link[rel="stylesheet"]['+t+"]"}function Zy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function SA(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pt(n,"link",s),lt(n),t.head.appendChild(n))}function xa(t){return'[src="'+dt(t)+'"]'}function sl(t){return"script[async]"+t}function Wy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dt(s.href)+'"]');if(o)return n.instance=o,lt(o),o;var c=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),lt(o),Pt(o,"style",c),cc(o,s.precedence,t),n.instance=o;case"stylesheet":c=Na(s.href);var f=t.querySelector(rl(c));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;o=Zy(s),(c=Rn.get(c))&&pd(o,c),f=(t.ownerDocument||t).createElement("link"),lt(f);var v=f;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Pt(f,"link",o),n.state.loading|=4,cc(f,s.precedence,t),n.instance=f;case"script":return f=xa(s.src),(c=t.querySelector(sl(f)))?(n.instance=c,lt(c),c):(o=s,(c=Rn.get(f))&&(o=T({},s),gd(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),lt(c),Pt(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,t));return n.instance}function cc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var hc=null;function Jy(t,n,s){if(hc===null){var o=new Map,c=hc=new Map;c.set(s,o)}else c=hc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[$r]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function e_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function bA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var al=null;function wA(){}function RA(t,n,s){if(al===null)throw Error(a(475));var o=al;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Na(s.href),f=t.querySelector(rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=fc.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=f,lt(f);return}f=t.ownerDocument||t,s=Zy(s),(c=Rn.get(c))&&pd(s,c),f=f.createElement("link"),lt(f);var v=f;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),Pt(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=fc.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function CA(){if(al===null)throw Error(a(475));var t=al;return t.stylesheets&&t.count===0&&yd(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&yd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dc=null;function yd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dc=new Map,n.forEach(IA,t),dc=null,fc.call(t))}function IA(t,n){if(!(n.state.loading&4)){var s=dc.get(t);if(s)var o=s.get(null);else{s=new Map,dc.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}c=n.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,c),s.set(v,c),this.count++,o=fc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ol={$$typeof:re,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function DA(t,n,s,o,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function n_(t,n,s,o,c,f,v,E,I,j,$,J){return t=new DA(t,n,s,v,E,I,j,J),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},tf(f),t}function i_(t){return t?(t=ua,t):ua}function r_(t,n,s,o,c,f){c=i_(c),o.context===null?o.context=c:o.pendingContext=c,o=ur(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=cr(t,o,n),s!==null&&(dn(s,t,n),Uo(s,t,n))}function s_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function _d(t,n){s_(t,n),(t=t.alternate)&&s_(t,n)}function a_(t){if(t.tag===13){var n=la(t,67108864);n!==null&&dn(n,t,67108864),_d(t,67108864)}}var mc=!0;function OA(t,n,s,o){var c=H.T;H.T=null;var f=ne.p;try{ne.p=2,vd(t,n,s,o)}finally{ne.p=f,H.T=c}}function NA(t,n,s,o){var c=H.T;H.T=null;var f=ne.p;try{ne.p=8,vd(t,n,s,o)}finally{ne.p=f,H.T=c}}function vd(t,n,s,o){if(mc){var c=Ed(o);if(c===null)ad(t,n,o,pc,s),l_(t,o);else if(MA(c,t,n,s,o))o.stopPropagation();else if(l_(t,o),n&4&&-1<xA.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=In(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Bt(v);E.entanglements[1]|=I,v&=~I}ii(f),(He&6)===0&&(Wu=mn()+500,el(0))}}break;case 13:E=la(f,2),E!==null&&dn(E,f,2),ec(),_d(f,2)}if(f=Ed(o),f===null&&ad(t,n,o,pc,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else ad(t,n,o,null,s)}}function Ed(t){return t=yn(t),Td(t)}var pc=null;function Td(t){if(pc=null,t=gi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return pc=t,null}function o_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sh()){case ro:return 2;case Bs:return 8;case Fr:case bh:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Ad=!1,Sr=null,br=null,wr=null,ll=new Map,ul=new Map,Rr=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(t,n){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(t,n,s,o,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&a_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function MA(t,n,s,o,c){switch(n){case"focusin":return Sr=cl(Sr,t,n,s,o,c),!0;case"dragenter":return br=cl(br,t,n,s,o,c),!0;case"mouseover":return wr=cl(wr,t,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,t,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,t,n,s,o,c)),!0}return!1}function u_(t){var n=gi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,eu(t.priority,function(){if(s.tag===13){var o=fn();o=er(o);var c=la(s,o);c!==null&&dn(c,s,o),_d(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Ed(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ei=o,s.target.dispatchEvent(o),Ei=null}else return n=qn(s),n!==null&&a_(n),t.blockedOn=s,!1;n.shift()}return!0}function c_(t,n,s){gc(t)&&s.delete(n)}function kA(){Ad=!1,Sr!==null&&gc(Sr)&&(Sr=null),br!==null&&gc(br)&&(br=null),wr!==null&&gc(wr)&&(wr=null),ll.forEach(c_),ul.forEach(c_)}function yc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var _c=null;function h_(t){_c!==t&&(_c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===t&&(_c=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=qn(s);f!==null&&(t.splice(n,3),n-=3,Tf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function hl(t){function n(I){return yc(I,t)}Sr!==null&&yc(Sr,t),br!==null&&yc(br,t),wr!==null&&yc(wr,t),ll.forEach(n),ul.forEach(n);for(var s=0;s<Rr.length;s++){var o=Rr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Rr.length&&(s=Rr[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&Rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],v=c[ft]||null;if(typeof f=="function")v||h_(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ft]||null)E=v.formAction;else if(Td(c)!==null)continue}else E=v.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),h_(s)}}}function Sd(t){this._internalRoot=t}vc.prototype.render=Sd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=fn();r_(s,o,t,n,null,null)},vc.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;r_(t.current,2,null,t,null,null),ec(),n[pn]=null}};function vc(t){this._internalRoot=t}vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Rr.length&&n!==0&&n<Rr[s].priority;s++);Rr.splice(s,0,t),s===0&&u_(t)}};var f_=e.version;if(f_!=="19.1.1")throw Error(a(527,f_,"19.1.1"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var VA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{rt=Ec.inject(VA),Be=Ec}catch{}}return dl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",c=Ig,f=Dg,v=Og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=n_(t,1,!1,null,null,s,o,c,f,v,E,null),t[pn]=n.current,sd(t),new Sd(n)},dl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,c="",f=Ig,v=Dg,E=Og,I=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),n=n_(t,1,!0,n,s??null,o,c,f,v,E,I,j),n.context=i_(null),s=n.current,o=fn(),o=er(o),c=ur(o),c.callback=null,cr(s,c,o),s=o,n.current.lanes=s,pi(n,s),ii(n),t[pn]=n.current,sd(t),new vc(n)},dl.version="19.1.1",dl}var b_;function eS(){if(b_)return Cd.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=JA(),Cd.exports}var tS=eS();const nS=FA(tS);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function iS(r={}){function e(a,l){let{pathname:h,search:d,hash:p}=a.location;return Fd("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Cl(l)}return sS(e,i,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function R_(r,e){return{usr:r.state,key:r.key,idx:e}}function Fd(r,e,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:i,key:e&&e.key||a||rS()}}function Cl({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function $a(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function sS(r,e,i,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,d=l.history,p="POP",y=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function R(){p="POP";let Q=T(),X=Q==null?null:Q-g;g=Q,y&&y({action:p,location:G.location,delta:X})}function w(Q,X){p="PUSH";let se=Fd(G.location,Q,X);g=T()+1;let re=R_(se,g),de=G.createHref(se);try{d.pushState(re,"",de)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(de)}h&&y&&y({action:p,location:G.location,delta:1})}function K(Q,X){p="REPLACE";let se=Fd(G.location,Q,X);g=T();let re=R_(se,g),de=G.createHref(se);d.replaceState(re,"",de),h&&y&&y({action:p,location:G.location,delta:0})}function Y(Q){return aS(Q)}let G={get action(){return p},get location(){return r(l,d)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(w_,R),y=Q,()=>{l.removeEventListener(w_,R),y=null}},createHref(Q){return e(l,Q)},createURL:Y,encodeLocation(Q){let X=Y(Q);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:w,replace:K,go(Q){return d.go(Q)}};return G}function aS(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),it(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Cl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Kv(r,e,i="/"){return oS(r,e,i,!1)}function oS(r,e,i,a){let l=typeof e=="string"?$a(e):e,h=Ki(l.pathname||"/",i);if(h==null)return null;let d=Xv(r);lS(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let g=vS(h);p=yS(d[y],g,a)}return p}function Xv(r,e=[],i=[],a=""){let l=(h,d,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(it(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let g=qi([a,y.relativePath]),T=i.concat(y);h.children&&h.children.length>0&&(it(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Xv(h.children,e,T,g)),!(h.path==null&&!h.index)&&e.push({path:g,score:pS(g,h.index),routesMeta:T})};return r.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))l(h,d);else for(let p of $v(h.path))l(h,d,p)}),e}function $v(r){let e=r.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),h=i.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let d=$v(a.join("/")),p=[];return p.push(...d.map(y=>y===""?h:[h,y].join("/"))),l&&p.push(...d),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function lS(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:gS(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var uS=/^:[\w-]+$/,cS=3,hS=2,fS=1,dS=10,mS=-2,C_=r=>r==="*";function pS(r,e){let i=r.split("/"),a=i.length;return i.some(C_)&&(a+=mS),e&&(a+=hS),i.filter(l=>!C_(l)).reduce((l,h)=>l+(uS.test(h)?cS:h===""?fS:dS),a)}function gS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,l)=>a===e[l])?r[r.length-1]-e[e.length-1]:0}function yS(r,e,i=!1){let{routesMeta:a}=r,l={},h="/",d=[];for(let p=0;p<a.length;++p){let y=a[p],g=p===a.length-1,T=h==="/"?e:e.slice(h.length)||"/",R=zc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),w=y.route;if(!R&&g&&i&&!a[a.length-1].route.index&&(R=zc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!R)return null;Object.assign(l,R.params),d.push({params:l,pathname:qi([h,R.pathname]),pathnameBase:SS(qi([h,R.pathnameBase])),route:w}),R.pathnameBase!=="/"&&(h=qi([h,R.pathnameBase]))}return d}function zc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=_S(r.path,r.caseSensitive,r.end),l=e.match(i);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:R},w)=>{if(T==="*"){let Y=p[w]||"";d=h.slice(0,h.length-Y.length).replace(/(.)\/+$/,"$1")}const K=p[w];return R&&!K?g[T]=void 0:g[T]=(K||"").replace(/%2F/g,"/"),g},{}),pathname:h,pathnameBase:d,pattern:r}}function _S(r,e=!1,i=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(a.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function vS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function ES(r,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof r=="string"?$a(r):r;return{pathname:i?i.startsWith("/")?i:TS(i,e):e,search:bS(a),hash:wS(l)}}function TS(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Nd(r,e,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AS(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zv(r){let e=AS(r);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Wv(r,e,i,a=!1){let l;typeof r=="string"?l=$a(r):(l={...r},it(!l.pathname||!l.pathname.includes("?"),Nd("?","pathname","search",l)),it(!l.pathname||!l.pathname.includes("#"),Nd("#","pathname","hash",l)),it(!l.search||!l.search.includes("#"),Nd("#","search","hash",l)));let h=r===""||l.pathname==="",d=h?"/":l.pathname,p;if(d==null)p=i;else{let R=e.length-1;if(!a&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),R-=1;l.pathname=w.join("/")}p=R>=0?e[R]:"/"}let y=ES(l,p),g=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),SS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),bS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,wS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function RS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Jv=["POST","PUT","PATCH","DELETE"];new Set(Jv);var CS=["GET",...Jv];new Set(CS);var Za=B.createContext(null);Za.displayName="DataRouter";var oh=B.createContext(null);oh.displayName="DataRouterState";B.createContext(!1);var eE=B.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var IS=B.createContext(new Map);IS.displayName="Fetchers";var DS=B.createContext(null);DS.displayName="Await";var hi=B.createContext(null);hi.displayName="Navigation";var Pl=B.createContext(null);Pl.displayName="Location";var Zi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var gm=B.createContext(null);gm.displayName="RouteError";function OS(r,{relative:e}={}){it(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=B.useContext(hi),{hash:l,pathname:h,search:d}=Ll(r,{relative:e}),p=h;return i!=="/"&&(p=h==="/"?i:qi([i,h])),a.createHref({pathname:p,search:d,hash:l})}function Ul(){return B.useContext(Pl)!=null}function fi(){return it(Ul(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Pl).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(r){B.useContext(hi).static||B.useLayoutEffect(r)}function lh(){let{isDataRoute:r}=B.useContext(Zi);return r?qS():NS()}function NS(){it(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Za),{basename:e,navigator:i}=B.useContext(hi),{matches:a}=B.useContext(Zi),{pathname:l}=fi(),h=JSON.stringify(Zv(a)),d=B.useRef(!1);return nE(()=>{d.current=!0}),B.useCallback((y,g={})=>{if(li(d.current,tE),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=Wv(y,JSON.parse(h),l,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:qi([e,T.pathname])),(g.replace?i.replace:i.push)(T,g.state,g)},[e,i,h,l,r])}B.createContext(null);function Ll(r,{relative:e}={}){let{matches:i}=B.useContext(Zi),{pathname:a}=fi(),l=JSON.stringify(Zv(i));return B.useMemo(()=>Wv(r,JSON.parse(l),a,e==="path"),[r,l,a,e])}function xS(r,e){return iE(r,e)}function iE(r,e,i,a){it(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(hi),{matches:h}=B.useContext(Zi),d=h[h.length-1],p=d?d.params:{},y=d?d.pathname:"/",g=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";rE(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=fi(),w;if(e){let X=typeof e=="string"?$a(e):e;it(g==="/"||X.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),w=X}else w=R;let K=w.pathname||"/",Y=K;if(g!=="/"){let X=g.replace(/^\//,"").split("/");Y="/"+K.replace(/^\//,"").split("/").slice(X.length).join("/")}let G=Kv(r,{pathname:Y});li(T||G!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),li(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=US(G&&G.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:qi([g,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:qi([g,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,i,a);return e&&Q?B.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},Q):Q}function MS(){let r=HS(),e=RS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:h},"ErrorBoundary")," or"," ",B.createElement("code",{style:h},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:l},i):null,d)}var kS=B.createElement(MS,null),VS=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Zi.Provider,{value:this.props.routeContext},B.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PS({routeContext:r,match:e,children:i}){let a=B.useContext(Za);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Zi.Provider,{value:r},i)}function US(r,e=[],i=null,a=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let l=r,h=i?.errors;if(h!=null){let y=l.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);it(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(i)for(let y=0;y<l.length;y++){let g=l[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:T,errors:R}=i,w=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!R||R[g.route.id]===void 0);if(g.route.lazy||w){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,g,T)=>{let R,w=!1,K=null,Y=null;i&&(R=h&&g.route.id?h[g.route.id]:void 0,K=g.route.errorElement||kS,d&&(p<0&&T===0?(rE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,Y=null):p===T&&(w=!0,Y=g.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,T+1)),Q=()=>{let X;return R?X=K:w?X=Y:g.route.Component?X=B.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=y,B.createElement(PS,{match:g,routeContext:{outlet:y,matches:G,isDataRoute:i!=null},children:X})};return i&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?B.createElement(VS,{location:i.location,revalidation:i.revalidation,component:K,error:R,children:Q(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Q()},null)}function ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(r){let e=B.useContext(Za);return it(e,ym(r)),e}function jS(r){let e=B.useContext(oh);return it(e,ym(r)),e}function zS(r){let e=B.useContext(Zi);return it(e,ym(r)),e}function _m(r){let e=zS(r),i=e.matches[e.matches.length-1];return it(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function BS(){return _m("useRouteId")}function HS(){let r=B.useContext(gm),e=jS("useRouteError"),i=_m("useRouteError");return r!==void 0?r:e.errors?.[i]}function qS(){let{router:r}=LS("useNavigate"),e=_m("useNavigate"),i=B.useRef(!1);return nE(()=>{i.current=!0}),B.useCallback(async(l,h={})=>{li(i.current,tE),i.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...h}))},[r,e])}var I_={};function rE(r,e,i){!e&&!I_[r]&&(I_[r]=!0,li(!1,i))}B.memo(GS);function GS({routes:r,future:e,state:i}){return iE(r,void 0,i,e)}function ji(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FS({basename:r="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:h=!1}){it(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:l,static:h,future:{}}),[d,l,h]);typeof i=="string"&&(i=$a(i));let{pathname:y="/",search:g="",hash:T="",state:R=null,key:w="default"}=i,K=B.useMemo(()=>{let Y=Ki(y,d);return Y==null?null:{location:{pathname:Y,search:g,hash:T,state:R,key:w},navigationType:a}},[d,y,g,T,R,w,a]);return li(K!=null,`<Router basename="${d}"> is not able to match the URL "${y}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:B.createElement(hi.Provider,{value:p},B.createElement(Pl.Provider,{children:e,value:K}))}function YS({children:r,location:e}){return xS(Yd(r),e)}function Yd(r,e=[]){let i=[];return B.Children.forEach(r,(a,l)=>{if(!B.isValidElement(a))return;let h=[...e,l];if(a.type===B.Fragment){i.push.apply(i,Yd(a.props.children,h));return}it(a.type===ji,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Yd(a.props.children,h)),i.push(d)}),i}var Dc="get",Oc="application/x-www-form-urlencoded";function uh(r){return r!=null&&typeof r.tagName=="string"}function QS(r){return uh(r)&&r.tagName.toLowerCase()==="button"}function KS(r){return uh(r)&&r.tagName.toLowerCase()==="form"}function XS(r){return uh(r)&&r.tagName.toLowerCase()==="input"}function $S(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ZS(r,e){return r.button===0&&(!e||e==="_self")&&!$S(r)}var Tc=null;function WS(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(r){return r!=null&&!JS.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):r}function e1(r,e){let i,a,l,h,d;if(KS(r)){let p=r.getAttribute("action");a=p?Ki(p,e):null,i=r.getAttribute("method")||Dc,l=xd(r.getAttribute("enctype"))||Oc,h=new FormData(r)}else if(QS(r)||XS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(a=y?Ki(y,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||Dc,l=xd(r.getAttribute("formenctype"))||xd(p.getAttribute("enctype"))||Oc,h=new FormData(p,r),!WS()){let{name:g,type:T,value:R}=r;if(T==="image"){let w=g?`${g}.`:"";h.append(`${w}x`,"0"),h.append(`${w}y`,"0")}else g&&h.append(g,R)}}else{if(uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Dc,a=null,l=Oc,d=r}return h&&l==="text/plain"&&(d=h,h=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function t1(r,e,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function n1(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function r1(r,e,i){let a=await Promise.all(r.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await n1(h,i);return d.links?d.links():[]}return[]}));return l1(a.flat(1).filter(i1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function D_(r,e,i,a,l,h){let d=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,p=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,g)=>d(y,g)||p(y,g)):h==="data"?e.filter((y,g)=>{let T=a.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function s1(r,e,{includeHydrateFallback:i}={}){return a1(r.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function a1(r){return[...new Set(r)]}function o1(r){let e={},i=Object.keys(r).sort();for(let a of i)e[a]=r[a];return e}function l1(r,e){let i=new Set;return new Set(e),r.reduce((a,l)=>{let h=JSON.stringify(o1(l));return i.has(h)||(i.add(h),a.push({key:h,link:l})),a},[])}function sE(){let r=B.useContext(Za);return vm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function u1(){let r=B.useContext(oh);return vm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Em=B.createContext(void 0);Em.displayName="FrameworkContext";function aE(){let r=B.useContext(Em);return vm(r,"You must render this element inside a <HydratedRouter> element"),r}function c1(r,e){let i=B.useContext(Em),[a,l]=B.useState(!1),[h,d]=B.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:R}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let G=X=>{X.forEach(se=>{d(se.isIntersecting)})},Q=new IntersectionObserver(G,{threshold:.5});return w.current&&Q.observe(w.current),()=>{Q.disconnect()}}},[r]),B.useEffect(()=>{if(a){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[a]);let K=()=>{l(!0)},Y=()=>{l(!1),d(!1)};return i?r!=="intent"?[h,w,{}]:[h,w,{onFocus:ml(p,K),onBlur:ml(y,Y),onMouseEnter:ml(g,K),onMouseLeave:ml(T,Y),onTouchStart:ml(R,K)}]:[!1,w,{}]}function ml(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function h1({page:r,...e}){let{router:i}=sE(),a=B.useMemo(()=>Kv(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?B.createElement(d1,{page:r,matches:a,...e}):null}function f1(r){let{manifest:e,routeModules:i}=aE(),[a,l]=B.useState([]);return B.useEffect(()=>{let h=!1;return r1(r,e,i).then(d=>{h||l(d)}),()=>{h=!0}},[r,e,i]),a}function d1({page:r,matches:e,...i}){let a=fi(),{manifest:l,routeModules:h}=aE(),{basename:d}=sE(),{loaderData:p,matches:y}=u1(),g=B.useMemo(()=>D_(r,e,y,l,a,"data"),[r,e,y,l,a]),T=B.useMemo(()=>D_(r,e,y,l,a,"assets"),[r,e,y,l,a]),R=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let Y=new Set,G=!1;if(e.forEach(X=>{let se=l.routes[X.route.id];!se||!se.hasLoader||(!g.some(re=>re.route.id===X.route.id)&&X.route.id in p&&h[X.route.id]?.shouldRevalidate||se.hasClientLoader?G=!0:Y.add(X.route.id))}),Y.size===0)return[];let Q=t1(r,d,"data");return G&&Y.size>0&&Q.searchParams.set("_routes",e.filter(X=>Y.has(X.route.id)).map(X=>X.route.id).join(",")),[Q.pathname+Q.search]},[d,p,a,l,g,e,r,h]),w=B.useMemo(()=>s1(T,l),[T,l]),K=f1(T);return B.createElement(B.Fragment,null,R.map(Y=>B.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...i})),w.map(Y=>B.createElement("link",{key:Y,rel:"modulepreload",href:Y,...i})),K.map(({key:Y,link:G})=>B.createElement("link",{key:Y,nonce:i.nonce,...G})))}function m1(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oE&&(window.__reactRouterVersion="7.8.0")}catch{}function p1({basename:r,children:e,window:i}){let a=B.useRef();a.current==null&&(a.current=iS({window:i,v5Compat:!0}));let l=a.current,[h,d]=B.useState({action:l.action,location:l.location}),p=B.useCallback(y=>{B.startTransition(()=>d(y))},[d]);return B.useLayoutEffect(()=>l.listen(p),[l,p]),B.createElement(FS,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:l})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=B.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:h,replace:d,state:p,target:y,to:g,preventScrollReset:T,viewTransition:R,...w},K){let{basename:Y}=B.useContext(hi),G=typeof g=="string"&&lE.test(g),Q,X=!1;if(typeof g=="string"&&G&&(Q=g,oE))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),k=Ki(M.pathname,Y);M.origin===C.origin&&k!=null?g=k+M.search+M.hash:X=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=OS(g,{relative:l}),[re,de,ue]=c1(a,w),Ae=_1(g,{replace:d,state:p,target:y,preventScrollReset:T,relative:l,viewTransition:R});function x(C){e&&e(C),C.defaultPrevented||Ae(C)}let b=B.createElement("a",{...w,...ue,href:Q||se,onClick:X||h?e:x,ref:m1(K,de),target:y,"data-discover":!G&&i==="render"?"true":void 0});return re&&!G?B.createElement(B.Fragment,null,b,B.createElement(h1,{page:se})):b});ch.displayName="Link";var zi=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:h,to:d,viewTransition:p,children:y,...g},T){let R=Ll(d,{relative:g.relative}),w=fi(),K=B.useContext(oh),{navigator:Y,basename:G}=B.useContext(hi),Q=K!=null&&S1(R)&&p===!0,X=Y.encodeLocation?Y.encodeLocation(R).pathname:R.pathname,se=w.pathname,re=K&&K.navigation&&K.navigation.location?K.navigation.location.pathname:null;i||(se=se.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&G&&(re=Ki(re,G)||re);const de=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ue=se===X||!l&&se.startsWith(X)&&se.charAt(de)==="/",Ae=re!=null&&(re===X||!l&&re.startsWith(X)&&re.charAt(X.length)==="/"),x={isActive:ue,isPending:Ae,isTransitioning:Q},b=ue?e:void 0,C;typeof a=="function"?C=a(x):C=[a,ue?"active":null,Ae?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let M=typeof h=="function"?h(x):h;return B.createElement(ch,{...g,"aria-current":b,className:C,ref:T,style:M,to:d,viewTransition:p},typeof y=="function"?y(x):y)});zi.displayName="NavLink";var g1=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:h,method:d=Dc,action:p,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:R,...w},K)=>{let Y=T1(),G=A1(p,{relative:g}),Q=d.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&lE.test(p),se=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,ue=de?.getAttribute("formmethod")||d;Y(de||re.currentTarget,{fetcherKey:e,method:ue,navigate:i,replace:l,state:h,relative:g,preventScrollReset:T,viewTransition:R})};return B.createElement("form",{ref:K,method:Q,action:G,onSubmit:a?y:se,...w,"data-discover":!X&&r==="render"?"true":void 0})});g1.displayName="Form";function y1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uE(r){let e=B.useContext(Za);return it(e,y1(r)),e}function _1(r,{target:e,replace:i,state:a,preventScrollReset:l,relative:h,viewTransition:d}={}){let p=lh(),y=fi(),g=Ll(r,{relative:h});return B.useCallback(T=>{if(ZS(T,e)){T.preventDefault();let R=i!==void 0?i:Cl(y)===Cl(g);p(r,{replace:R,state:a,preventScrollReset:l,relative:h,viewTransition:d})}},[y,p,g,i,a,e,r,l,h,d])}var v1=0,E1=()=>`__${String(++v1)}__`;function T1(){let{router:r}=uE("useSubmit"),{basename:e}=B.useContext(hi),i=BS();return B.useCallback(async(a,l={})=>{let{action:h,method:d,encType:p,formData:y,body:g}=e1(a,e);if(l.navigate===!1){let T=l.fetcherKey||E1();await r.fetch(T,i,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:g,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,i])}function A1(r,{relative:e}={}){let{basename:i}=B.useContext(hi),a=B.useContext(Zi);it(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Ll(r||".",{relative:e})},d=fi();if(r==null){h.search=d.search;let p=new URLSearchParams(h.search),y=p.getAll("index");if(y.some(T=>T==="")){p.delete("index"),y.filter(R=>R).forEach(R=>p.append("index",R));let T=p.toString();h.search=T?`?${T}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:qi([i,h.pathname])),Cl(h)}function S1(r,{relative:e}={}){let i=B.useContext(eE);it(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uE("useViewTransitionState"),l=Ll(r,{relative:e});if(!i.isTransitioning)return!1;let h=Ki(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=Ki(i.nextLocation.pathname,a)||i.nextLocation.pathname;return zc(l.pathname,d)!=null||zc(l.pathname,h)!=null}const b1="modulepreload",w1=function(r){return"/PhoenixGuild/"+r},O_={},Md=function(e,i,a){let l=Promise.resolve();if(i&&i.length>0){let y=function(g){return Promise.all(g.map(T=>Promise.resolve(T).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=y(i.map(g=>{if(g=w1(g),g in O_)return;O_[g]=!0;const T=g.endsWith(".css"),R=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${R}`))return;const w=document.createElement("link");if(w.rel=T?"stylesheet":b1,T||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),T)return new Promise((K,Y)=>{w.addEventListener("load",K),w.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&h(p.reason);return e().catch(h)})};function R1(){const[r,e]=B.useState(!1),[i,a]=B.useState(null),[l,h]=B.useState(!1),d=lh(),[p,y]=B.useState(null);B.useEffect(()=>{async function w(){const{initializeApp:Y}=await Md(async()=>{const{initializeApp:de}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js");return{initializeApp:de}},[]),{getAuth:G,onAuthStateChanged:Q}=await Md(async()=>{const{getAuth:de,onAuthStateChanged:ue}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js");return{getAuth:de,onAuthStateChanged:ue}},[]),se=Y({apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"}),re=G(se);y(re),Q(re,de=>{a(de)})}w();const K=document.createElement("script");K.src="https://www.youtube.com/iframe_api",document.body.appendChild(K),window.onYouTubeIframeAPIReady=()=>{new window.YT.Player("yt-player",{height:"0",width:"0",videoId:"VhEoCOWUtcU",playerVars:{autoplay:0,loop:1,playlist:"VhEoCOWUtcU"},events:{onReady:()=>h(!0)}})}},[]);const g=()=>e(w=>!w),T=async()=>{if(!p)return;const{signOut:w}=await Md(async()=>{const{signOut:K}=await import("https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js");return{signOut:K}},[]);await w(p),d("/signin")},R=()=>{if(!window.YT)return;const w=window.YT.get("yt-player");w&&l&&w.playVideo()};return S.jsxs("header",{children:[S.jsx("div",{className:"logo",children:"🔥 The Phoenix Guild"}),S.jsx("button",{id:"nav-toggle","aria-label":"Toggle navigation",onClick:g,type:"button",children:"☰"}),S.jsx("nav",{children:S.jsxs("ul",{id:"main-nav",className:r?"show":"",children:[S.jsx("li",{children:S.jsx(zi,{to:"/",end:!0,className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Home"})}),S.jsx("li",{children:S.jsx(zi,{to:"/rankings",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Rank Calculator"})}),S.jsx("li",{children:S.jsx(zi,{to:"/groups",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Groups"})}),S.jsx("li",{children:S.jsx(zi,{to:"/history",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"History"})}),S.jsx("li",{children:S.jsx(zi,{to:"/about",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"About"})}),i?S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zi,{to:"/profile",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Profile"})}),S.jsx("li",{children:S.jsx("button",{type:"button",onClick:async()=>{await T(),e(!1)},children:"Sign Out"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("li",{children:S.jsx(zi,{to:"/signin",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Sign In"})}),S.jsx("li",{children:S.jsx(zi,{to:"/signup",className:({isActive:w})=>w?"active":void 0,onClick:()=>e(!1),children:"Sign Up"})})]}),S.jsx("li",{children:S.jsx("button",{type:"button",onClick:R,disabled:!l,children:"Play Music"})})]})}),S.jsx("div",{id:"yt-player"})]})}function C1(){return S.jsxs("main",{children:[S.jsxs("section",{className:"hero",children:[S.jsx("h1",{children:"Awaken Your Power"}),S.jsx("p",{children:"Step into the challenge. Rise through the ranks, earn rewards, and dominate the fitness battlefield with your friends."}),S.jsx(ch,{to:"/rankings",className:"cta-button",children:"Enter the Guild"})]}),S.jsxs("section",{className:"features",children:[S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"🏆 Compete Weekly"}),S.jsx("p",{children:"Train hard, earn points, and prove your worth every week."})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"⚔️ Climb the Leaderboard"}),S.jsx("p",{children:"Face your rivals and rise to the top of the guild rankings."})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"💎 Earn Legendary Rewards"}),S.jsx("p",{children:"Push past your limits and claim the rewards you deserve."})]})]})]})}function I1(){fi();const[r,e]=B.useState(""),[i,a]=B.useState(""),[l,h]=B.useState(""),[d,p]=B.useState(""),y=()=>{const g=parseFloat(r),T=parseFloat(i),R=parseFloat(l);if(isNaN(g)||g<0||isNaN(T)||T<0||isNaN(R)||R<0){p("Please enter valid non-negative numbers.");return}const w=g/1e3*100,K=T/1e3*100,Y=R/10*100,G=Math.min(w,K,Y);let Q="E-Rank (0–5)",X=1;G>=75?(Q="S-Rank (75–100)",X=2):G>=50?(Q="A-Rank (50–75)",X=1.75):G>=20?(Q="B-Rank (20–50)",X=1.5):G>=10?(Q="C-Rank (10–20)",X=1.25):G>=5&&(Q="D-Rank (5–10)",X=1.15),p(S.jsxs(S.Fragment,{children:[S.jsxs("p",{children:["Your rating: ",S.jsx("strong",{children:G.toFixed(1)})]}),S.jsxs("p",{children:["Rank Zone: ",S.jsx("strong",{children:Q})]}),S.jsxs("p",{children:["Points multiplier: ",S.jsxs("strong",{children:[X,"×"]})]})]}))};return S.jsx(S.Fragment,{children:S.jsxs("main",{className:"rank-calculator",style:{padding:"1rem"},children:[S.jsx("h1",{children:"Rank Calculator"}),S.jsx("p",{children:"Enter your daily challenge requirements for the week to calculate your Guild Rank and Buffs."}),S.jsxs("div",{className:"input-row",children:[S.jsx("input",{type:"number",id:"pushups",placeholder:"Push-ups",min:"0",value:r,onChange:g=>e(g.target.value)}),S.jsx("input",{type:"number",id:"situps",placeholder:"Sit-ups",min:"0",value:i,onChange:g=>a(g.target.value)}),S.jsx("input",{type:"number",id:"plank",placeholder:"Plank (minutes)",min:"0",step:"0.1",value:l,onChange:g=>h(g.target.value)})]}),S.jsx("br",{}),S.jsx("button",{id:"calcBtn",onClick:y,children:"Calculate Rank"}),S.jsx("div",{className:"result",id:"result",style:{marginTop:"1rem"},children:d})]})})}function D1(){return fi(),S.jsx(S.Fragment,{children:S.jsxs("main",{style:{padding:"1rem"},children:[S.jsx("h1",{children:"History"}),S.jsx("p",{children:"This page is currently empty. Content coming soon!"})]})})}function O1(){return fi(),S.jsx(S.Fragment,{children:S.jsxs("main",{style:{padding:"1rem"},children:[S.jsx("h1",{children:"About – Rating & Rank Buffs"}),S.jsx("h2",{children:"Rating Calculation"}),S.jsxs("p",{children:["A perfect rating of ",S.jsx("strong",{children:"100"})," requires:"," ",S.jsx("strong",{children:"1000 push-ups"}),", ",S.jsx("strong",{children:"1000 sit-ups"}),", and a"," ",S.jsx("strong",{children:"10-minute plank"})," in the week."]}),S.jsxs("p",{children:["Your rating is determined by the ",S.jsx("strong",{children:"lowest percentage"})," of completion across the three activities."]}),S.jsxs("p",{children:[S.jsx("em",{children:"Example 1:"})," 300 push-ups, 300 sit-ups, and a 3-minute plank → All at 30% of the target → Rating: ",S.jsx("strong",{children:"30"})]}),S.jsxs("p",{children:[S.jsx("em",{children:"Example 2:"})," 400 push-ups, 225 sit-ups, and a 5-minute plank → Lowest is sit-ups (22.5%) → Rating: ",S.jsx("strong",{children:"22.5"})]}),S.jsx("h2",{children:"Rank Zones & Buffs"}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"S-Rank (90–100):"})," ×1.75 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"A-Rank (80–90):"})," ×1.5 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"B-Rank (70–80):"})," ×1.25 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"C-Rank (50–70):"})," ×1.15 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"D-Rank (25–50):"})," ×1.05 to all Daily Challenge Points"]}),S.jsxs("div",{className:"rank-zone",children:[S.jsx("strong",{children:"E-Rank (0–25):"})," No Buffs"]}),S.jsxs("h2",{children:["Daily Requirements ",S.jsx("small",{children:"(Worth 5 Points)"})]}),S.jsxs("ul",{children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Jasper:"})," x Push-ups, x Sit-ups, x Plank"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Charlie:"})," 50 Push-ups, 50 Sit-ups, 1 min Plank (E-Rank)"]})]}),S.jsxs("p",{children:[S.jsx("em",{children:"Due by 11:59 pm each day"}),". Missing the requirement results in a ",S.jsx("strong",{children:"5% cumulative penalty"})," on your weekly total."]}),S.jsx("p",{children:"Requirements can only be changed once a week on Monday morning—choose wisely. Video proof may be required."}),S.jsx("h2",{children:"Weekly Bonuses"}),S.jsxs("p",{children:["To be decided by the group. Submission deadline:"," ",S.jsx("strong",{children:"Sunday 11:59 pm"}),"."]}),S.jsx("h2",{children:"General Point System"}),S.jsxs("ul",{children:[S.jsx("li",{children:"1 km run/walk = 1 point (round down, excludes cycling)"}),S.jsx("li",{children:"Gym session = 1 point (round down to nearest 45 min)"}),S.jsx("li",{children:"30 min competitive sport = 1 point (round down to nearest 30 min)"}),S.jsx("li",{children:"Cycling class at Unipol = Points TBD"})]}),S.jsx("h2",{children:"Debuffs"}),S.jsxs("ul",{children:[S.jsx("li",{children:"Takeaway food = −1 point"}),S.jsx("li",{children:"Waking up after 9 am = −1 point"}),S.jsx("li",{children:"Missing weekly chore = −1 point"})]}),S.jsx("h2",{children:"Weight Loss Bonus"}),S.jsx("p",{children:"Extra points per kilogram lost (details TBD). Perfect for those on a cut."})]})})}function N1(){return S.jsx("footer",{children:S.jsx("p",{children:"© 2025 The Phoenix Guild — All Rights Reserved"})})}const x1=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},M1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];e[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,g=y?r[l+2]:0,T=h>>2,R=(h&3)<<4|p>>4;let w=(p&15)<<2|g>>6,K=g&63;y||(K=64,d||(w=64)),a.push(i[T],i[R],i[w],i[K])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):M1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const R=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||p==null||g==null||R==null)throw new k1;const w=h<<2|p>>4;if(a.push(w),g!==64){const K=p<<4&240|g>>2;if(a.push(K),R!==64){const Y=g<<6&192|R;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V1=function(r){const e=cE(r);return hE.encodeByteArray(e,!0)},Bc=function(r){return V1(r).replace(/\./g,"")},fE=function(r){try{return hE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>P1().__FIREBASE_DEFAULTS__,L1=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fE(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return x1()||U1()||L1()||j1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dE=r=>hh()?.emulatorHosts?.[r],z1=r=>{const e=dE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},mE=()=>hh()?.config,pE=r=>hh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const El={};function q1(){const r={prod:[],emulator:[]};for(const e of Object.keys(El))El[e]?r.emulator.push(e):r.prod.push(e);return r}function G1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let x_=!1;function yE(r,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||El[r]===e||El[r]||x_)return;El[r]=e;function i(w){return`__firebase__banner__${w}`}const a="__firebase__banner",h=q1().prod.length>0;function d(){const w=document.getElementById(a);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,K){w.setAttribute("width","24"),w.setAttribute("id",K),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{x_=!0,d()},w}function T(w,K){w.setAttribute("id",K),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function R(){const w=G1(a),K=i("text"),Y=document.getElementById(K)||document.createElement("span"),G=i("learnmore"),Q=document.getElementById(G)||document.createElement("a"),X=i("preprendIcon"),se=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),T(Q,G);const de=g();y(se,X),re.append(se,Y,Q,de),document.body.appendChild(re)}h?(Y.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Y1(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){const r=Kt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Z1(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="FirebaseError";class Wi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=eb,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,h=this.errors[e],d=h?tb(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Wi(l,p,a)}}function tb(r,e){return r.replace(nb,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const nb=/\{\$([^}]+)}/g;function ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Os(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=e[l];if(M_(h)&&M_(d)){if(!Os(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(h)}}),e}function _l(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function rb(r,e){const i=new sb(r,e);return i.subscribe.bind(i)}class sb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ab(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ab(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r){return r&&r._delegate?r._delegate:r}class Ns{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new B1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ub(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(r){return r===ws?void 0:r}function ub(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ob(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const hb={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},fb=xe.INFO,db={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},mb=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=db[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=fb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const pb=(r,e)=>e.some(i=>r instanceof i);let k_,V_;function gb(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Qd=new WeakMap,vE=new WeakMap,Vd=new WeakMap,Am=new WeakMap;function _b(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Mr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&_E.set(i,r)}).catch(()=>{}),Am.set(e,r),e}function vb(r){if(Qd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,e)}let Kd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Eb(r){Kd=r(Kd)}function Tb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Pd(this),e,...i);return vE.set(a,e.sort?e.sort():[e]),Mr(a)}:yb().includes(r)?function(...e){return r.apply(Pd(this),e),Mr(_E.get(this))}:function(...e){return Mr(r.apply(Pd(this),e))}}function Ab(r){return typeof r=="function"?Tb(r):(r instanceof IDBTransaction&&vb(r),pb(r,gb())?new Proxy(r,Kd):r)}function Mr(r){if(r instanceof IDBRequest)return _b(r);if(Vd.has(r))return Vd.get(r);const e=Ab(r);return e!==r&&(Vd.set(r,e),Am.set(e,r)),e}const Pd=r=>Am.get(r);function Sb(r,e,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,e),p=Mr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Mr(d.result),y.oldVersion,y.newVersion,Mr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const bb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],Ud=new Map;function P_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=wb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||bb.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&y.done]))[0]};return Ud.set(e,h),h}Eb(r=>({...r,get:(e,i,a)=>P_(e,i)||r.get(e,i,a),has:(e,i)=>!!P_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Cb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Cb(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",U_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Tm("@firebase/app"),Ib="@firebase/app-compat",Db="@firebase/analytics-compat",Ob="@firebase/analytics",Nb="@firebase/app-check-compat",xb="@firebase/app-check",Mb="@firebase/auth",kb="@firebase/auth-compat",Vb="@firebase/database",Pb="@firebase/data-connect",Ub="@firebase/database-compat",Lb="@firebase/functions",jb="@firebase/functions-compat",zb="@firebase/installations",Bb="@firebase/installations-compat",Hb="@firebase/messaging",qb="@firebase/messaging-compat",Gb="@firebase/performance",Fb="@firebase/performance-compat",Yb="@firebase/remote-config",Qb="@firebase/remote-config-compat",Kb="@firebase/storage",Xb="@firebase/storage-compat",$b="@firebase/firestore",Zb="@firebase/ai",Wb="@firebase/firestore-compat",Jb="firebase",ew="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",tw={[Xd]:"fire-core",[Ib]:"fire-core-compat",[Ob]:"fire-analytics",[Db]:"fire-analytics-compat",[xb]:"fire-app-check",[Nb]:"fire-app-check-compat",[Mb]:"fire-auth",[kb]:"fire-auth-compat",[Vb]:"fire-rtdb",[Pb]:"fire-data-connect",[Ub]:"fire-rtdb-compat",[Lb]:"fire-fn",[jb]:"fire-fn-compat",[zb]:"fire-iid",[Bb]:"fire-iid-compat",[Hb]:"fire-fcm",[qb]:"fire-fcm-compat",[Gb]:"fire-perf",[Fb]:"fire-perf-compat",[Yb]:"fire-rc",[Qb]:"fire-rc-compat",[Kb]:"fire-gcs",[Xb]:"fire-gcs-compat",[$b]:"fire-fst",[Wb]:"fire-fst-compat",[Zb]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,nw=new Map,Zd=new Map;function L_(r,e){try{r.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ga(r){const e=r.name;if(Zd.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,r);for(const i of Hc.values())L_(i,r);for(const i of nw.values())L_(i,r);return!0}function Sm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Cn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new jl("app","Firebase",iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=ew;function EE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:$d,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw kr.create("bad-app-name",{appName:String(l)});if(i||(i=mE()),!i)throw kr.create("no-options");const h=Hc.get(l);if(h){if(Os(i,h.options)&&Os(a,h.config))return h;throw kr.create("duplicate-app",{appName:l})}const d=new cb(l);for(const y of Zd.values())d.addComponent(y);const p=new rw(i,a,d);return Hc.set(l,p),p}function TE(r=$d){const e=Hc.get(r);if(!e&&r===$d&&mE())return EE();if(!e)throw kr.create("no-app",{appName:r});return e}function Vr(r,e,i){let a=tw[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Ga(new Ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-heartbeat-database",aw=1,Il="firebase-heartbeat-store";let Ld=null;function AE(){return Ld||(Ld=Sb(sw,aw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function ow(r){try{const i=(await AE()).transaction(Il),a=await i.objectStore(Il).get(SE(r));return await i.done,a}catch(e){if(e instanceof Wi)Xi.warn(e.message);else{const i=kr.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(i.message)}}}async function j_(r,e){try{const a=(await AE()).transaction(Il,"readwrite");await a.objectStore(Il).put(e,SE(r)),await a.done}catch(i){if(i instanceof Wi)Xi.warn(i.message);else{const a=kr.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1024,uw=30;class cw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uw){const l=dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z_(),{heartbeatsToSend:i,unsentEntries:a}=hw(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Xi.warn(e),""}}}function z_(){return new Date().toISOString().substring(0,10)}function hw(r,e=lw){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),B_(i)>e){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),B_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ow(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function B_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function dw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r){Ga(new Ns("platform-logger",e=>new Rb(e),"PRIVATE")),Ga(new Ns("heartbeat",e=>new cw(e),"PRIVATE")),Vr(Xd,U_,r),Vr(Xd,U_,"esm2020"),Vr("fire-js","")}mw("");function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pw=bE,wE=new jl("auth","Firebase",bE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Tm("@firebase/auth");function gw(r,...e){qc.logLevel<=xe.WARN&&qc.warn(`Auth (${Ja}): ${r}`,...e)}function Nc(r,...e){qc.logLevel<=xe.ERROR&&qc.error(`Auth (${Ja}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r,...e){throw bm(r,...e)}function ai(r,...e){return bm(r,...e)}function RE(r,e,i){const a={...pw(),[e]:i};return new jl("auth","Firebase",a).create(e,{appName:r.name})}function Gi(r){return RE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return wE.create(r,...e)}function ve(r,e,...i){if(!r)throw bm(e,...i)}function Bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Nc(e),new Error(e)}function $i(r,e){r||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){return typeof self<"u"&&self.location?.href||""}function yw(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yw()||K1()||"connection"in navigator)?navigator.onLine:!0}function vw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.shortDelay=e,this.longDelay=i,$i(i>e,"Short delay should be less than long delay!"),this.isMobile=F1()||X1()}get(){return _w()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,e){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aw=new Bl(3e4,6e4);function zr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Br(r,e,i,a,l={}){return IE(r,l,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const p=zl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...h};return Q1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Wa(r.emulatorConfig.host)&&(g.credentials="include"),CE.fetch()(await DE(r,r.config.apiHost,i,p),g)})}async function IE(r,e,i){r._canInitEmulator=!1;const a={...Ew,...e};try{const l=new bw(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ac(r,"user-disabled",d);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw RE(r,T,g);zn(r,T)}}catch(l){if(l instanceof Wi)throw l;zn(r,"network-request-failed",{message:String(l)})}}async function Hl(r,e,i,a,l={}){const h=await Br(r,e,i,a,l);return"mfaPendingCredential"in h&&zn(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function DE(r,e,i,a){const l=`${e}${i}?${a}`,h=r,d=h.config.emulator?wm(r.config,l):`${r.config.apiScheme}://${l}`;return Tw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function Sw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ai(this.auth,"network-request-failed")),Aw.get())})}}function Ac(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ai(r,e,a);return l.customData._tokenResponse=i,l}function q_(r){return r!==void 0&&r.enterprise!==void 0}class ww{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Sw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rw(r,e){return Br(r,"GET","/v2/recaptchaConfig",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r,e){return Br(r,"POST","/v1/accounts:delete",e)}async function Gc(r,e){return Br(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Iw(r,e=!1){const i=jn(r),a=await i.getIdToken(e),l=Rm(a);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:Tl(jd(l.auth_time)),issuedAtTime:Tl(jd(l.iat)),expirationTime:Tl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Rm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=fE(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function G_(r){const e=Rm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Wi&&Dw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Dw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){const e=r.auth,i=await r.getIdToken(),a=await Dl(r,Gc(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?OE(l.providerUserInfo):[],d=xw(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,g=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function Nw(r){const e=jn(r);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function OE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e){const i=await IE(r,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await DE(r,l,"/v1/token",`key=${h}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Wa(r.emulatorConfig.host)&&(y.credentials="include"),CE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kw(r,e){return Br(r,"POST","/v2/accounts:revokeToken",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=G_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await Mw(e,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new ja;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),h&&(ve(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Iw(this,e)}reload(){return Nw(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Dl(this,Cw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,g=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:R,emailVerified:w,isAnonymous:K,providerData:Y,stsTokenManager:G}=i;ve(R&&G,e,"internal-error");const Q=ja.fromJSON(this.name,G);ve(typeof R=="string",e,"internal-error"),Ir(a,e.name),Ir(l,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof K=="boolean",e,"internal-error"),Ir(h,e.name),Ir(d,e.name),Ir(p,e.name),Ir(y,e.name),Ir(g,e.name),Ir(T,e.name);const X=new Un({uid:R,auth:e,email:l,emailVerified:w,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Q,createdAt:g,lastLoginAt:T});return Y&&Array.isArray(Y)&&(X.providerData=Y.map(se=>({...se}))),y&&(X._redirectEventId=y),X}static async _fromIdTokenResponse(e,i,a=!1){const l=new ja;l.updateFromServerResponse(i);const h=new Un({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Fc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?OE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new ja;p.updateFromIdToken(a);const y=new Un({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Hi(r){$i(r instanceof Function,"Expected a class definition");let e=F_.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,F_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}NE.type="NONE";const Y_=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r,e,i){return`firebase:${r}:${e}:${i}`}class za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,h),this.fullPersistenceKey=xc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Gc(this.auth,{idToken:e}).catch(()=>{});return i?Un._fromGetAccountInfoResponse(this.auth,i,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new za(Hi(Y_),e,a);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let h=l[0]||Hi(Y_);const d=xc(a,e.config.apiKey,e.name);let p=null;for(const g of i)try{const T=await g._get(d);if(T){let R;if(typeof T=="string"){const w=await Gc(e,{idToken:T}).catch(()=>{});if(!w)break;R=await Un._fromGetAccountInfoResponse(e,w,T)}else R=Un._fromJSON(e,T);g!==h&&(p=R),h=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new za(h,e,a):(h=y[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==h)try{await g._remove(d)}catch{}})),new za(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(LE(e))return"Webos";if(ME(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(PE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function xE(r=Kt()){return/firefox\//i.test(r)}function ME(r=Kt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(r=Kt()){return/crios\//i.test(r)}function VE(r=Kt()){return/iemobile/i.test(r)}function PE(r=Kt()){return/android/i.test(r)}function UE(r=Kt()){return/blackberry/i.test(r)}function LE(r=Kt()){return/webos/i.test(r)}function Cm(r=Kt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Vw(r=Kt()){return Cm(r)&&!!window.navigator?.standalone}function Pw(){return $1()&&document.documentMode===10}function jE(r=Kt()){return Cm(r)||PE(r)||LE(r)||UE(r)||/windows phone/i.test(r)||VE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r,e=[]){let i;switch(r){case"Browser":i=Q_(Kt());break;case"Worker":i=`${Q_(Kt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,p)=>{try{const y=e(h);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(r,e={}){return Br(r,"GET","/v2/passwordPolicy",zr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=6;class zw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Hi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Gc(this,{idToken:e}),a=await Un._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Gi(this));const i=e?jn(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lw(this),i=new zw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Hi(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Hi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ls(r){return jn(r)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rb(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hw(r){fh=r}function BE(r){return fh.loadJS(r)}function qw(){return fh.recaptchaEnterpriseScript}function Gw(){return fh.gapiScript}function Fw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Yw{constructor(){this.enterprise=new Qw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Qw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Kw="recaptcha-enterprise",HE="NO_RECAPTCHA";class Xw{constructor(e){this.type=Kw,this.auth=Ls(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,p)=>{Rw(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new ww(y);return h.tenantId==null?h._agentRecaptchaConfig=g:h._tenantRecaptchaConfigs[h.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function l(h,d,p){const y=window.grecaptcha;q_(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:e}).then(g=>{d(g)}).catch(()=>{d(HE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yw().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(p=>{if(!i&&q_(window.grecaptcha))l(p,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qw();y.length!==0&&(y+=p),BE(y).then(()=>{l(p,h,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function X_(r,e,i,a=!1,l=!1){const h=new Xw(r);let d;if(l)d=HE;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function em(r,e,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await X_(r,e,i,i==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await X_(r,e,i,i==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Os(h,e??{}))return l;zn(l,"already-initialized")}return i.initialize({options:e})}function Zw(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Hi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function Ww(r,e,i){const a=Ls(r);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,h=qE(e),{host:d,port:p}=Jw(e),y=p===null?"":`:${p}`,g={url:`${h}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Os(g,a.config.emulator)&&Os(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Wa(d)?(gE(`${h}//${d}${y}`),yE("Auth",!0)):eR()}function qE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Jw(r){const e=qE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:$_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:$_(d)}}}function $_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eR(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,i){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function tR(r,e){return Br(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(r,e){return Hl(r,"POST","/v1/accounts:signInWithPassword",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",zr(r,e))}async function rR(r,e){return Hl(r,"POST","/v1/accounts:signInWithEmailLink",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Im{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ol(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ol(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,i,"signInWithPassword",nR);case"emailLink":return iR(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,a,"signUpPassword",tR);case"emailLink":return rR(e,{idToken:i,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,e){return Hl(r,"POST","/v1/accounts:signInWithIdp",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="http://localhost";class xs extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new xs(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ba(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ba(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ba(e,i)}buildRequest(){const e={requestUri:sR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(r){const e=yl(_l(r)).link,i=e?yl(_l(e)).deep_link_id:null,a=yl(_l(r)).deep_link_id;return(a?yl(_l(a)).link:null)||a||i||e||r}class Dm{constructor(e){const i=yl(_l(e)),a=i.apiKey??null,l=i.oobCode??null,h=aR(i.mode??null);ve(a&&l&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=oR(e);try{return new Dm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,i){return Ol._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Dm.parseLink(i);return ve(a,"argument-error"),Ol._fromEmailAndCode(e,a.code,a.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends GE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ql{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return xs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Or.credential(i,a)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ql{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ql{constructor(){super("twitter.com")}static credential(e,i){return xs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return xr.credential(i,a)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(r,e){return Hl(r,"POST","/v1/accounts:signUp",zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const h=await Un._fromIdTokenResponse(e,a,l),d=Z_(a);return new Ms({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=Z_(a);return new Ms({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function Z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Wi{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Yc(e,i,a,l)}}function FE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,h,e,a):h})}async function uR(r,e,i=!1){const a=await Dl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ms._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(r,e,i=!1){const{auth:a}=r;if(Cn(a.app))return Promise.reject(Gi(a));const l="reauthenticate";try{const h=await Dl(r,FE(a,l,e,r),i);ve(h.idToken,a,"internal-error");const d=Rm(h.idToken);ve(d,a,"internal-error");const{sub:p}=d;return ve(r.uid===p,a,"user-mismatch"),Ms._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&zn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r,e,i=!1){if(Cn(r.app))return Promise.reject(Gi(r));const a="signIn",l=await FE(r,a,e),h=await Ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}async function hR(r,e){return YE(Ls(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(r){const e=Ls(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fR(r,e,i){if(Cn(r.app))return Promise.reject(Gi(r));const a=Ls(r),d=await em(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&QE(r),y}),p=await Ms._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function dR(r,e,i){return Cn(r.app)?Promise.reject(Gi(r)):hR(jn(r),eo.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&QE(r),a})}function mR(r,e,i,a){return jn(r).onIdTokenChanged(e,i,a)}function pR(r,e,i){return jn(r).beforeAuthStateChanged(e,i)}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,yR=10;class XE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);Pw()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,yR):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const _R=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}$E.type="SESSION";const ZE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,h)),y=await vR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,y)=>{const g=Om("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const w=R;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(T),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(w.data.response);break;default:clearTimeout(T),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function TR(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function AR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function bR(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",wR=1,Kc="firebaseLocalStorage",e0="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,e){return r.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function RR(){const r=indexedDB.deleteDatabase(JE);return new Gl(r).toPromise()}function tm(){const r=indexedDB.open(JE,wR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kc,{keyPath:e0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kc)?e(a):(a.close(),await RR(),e(await tm()))})})}async function W_(r,e,i){const a=mh(r,!0).put({[e0]:e,value:i});return new Gl(a).toPromise()}async function CR(r,e){const i=mh(r,!1).get(e),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function J_(r,e){const i=mh(r,!0).delete(e);return new Gl(i).toPromise()}const IR=800,DR=3;class t0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>DR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(bR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await W_(e,Qc,"1"),await J_(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>CR(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>J_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=mh(l,!1).getAll();return new Gl(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t0.type="LOCAL";const OR=t0;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r,e){return e?Hi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ba(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function xR(r){return YE(r.auth,new Nm(r),r.bypassAuthState)}function MR(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),cR(i,new Nm(r),r.bypassAuthState)}async function kR(r){const{auth:e,user:i}=r;return ve(i,e,"internal-error"),uR(i,new Nm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i,a,l,h=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xR;case"linkViaPopup":case"linkViaRedirect":return kR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:zn(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Bl(2e3,1e4);class La extends n0{constructor(e,i,a,l,h){super(e,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VR.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="pendingRedirect",Mc=new Map;class UR extends n0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const a=await LR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(r,e){const i=BR(e),a=zR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function jR(r,e){Mc.set(r._key(),e)}function zR(r){return Hi(r._redirectPersistence)}function BR(r){return xc(PR,r.config.apiKey,r.name)}async function HR(r,e,i=!1){if(Cn(r.app))return Promise.reject(Gi(r));const a=Ls(r),l=NR(a,e),d=await new UR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=600*1e3;class GR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!i0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ai(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function i0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function FR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(r,e={}){return Br(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function XR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await YR(r);for(const i of e)try{if($R(i))return}catch{}zn(r,"unauthorized-domain")}function $R(r){const e=Wd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!KR.test(i))return!1;if(QR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Bl(3e4,6e4);function tv(){const r=oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function WR(r){return new Promise((e,i)=>{function a(){tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tv(),i(ai(r,"network-request-failed"))},timeout:ZR.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)a();else{const l=Fw("iframefcb");return oi()[l]=()=>{gapi.load?a():i(ai(r,"network-request-failed"))},BE(`${Gw()}?onload=${l}`).catch(h=>i(h))}}).catch(e=>{throw kc=null,e})}let kc=null;function JR(r){return kc=kc||WR(r),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Bl(5e3,15e3),tC="__/auth/iframe",nC="emulator/auth/iframe",iC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?wm(e,nC):`https://${r.config.authDomain}/${tC}`,a={apiKey:e.apiKey,appName:r.name,v:Ja},l=rC.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${zl(a).slice(1)}`}async function aC(r){const e=await JR(r),i=oi().gapi;return ve(i,r,"internal-error"),e.open({where:document.body,url:sC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iC,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=ai(r,"network-request-failed"),p=oi().setTimeout(()=>{h(d)},eC.get());function y(){oi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lC=500,uC=600,cC="_blank",hC="http://localhost";class nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(r,e,i,a=lC,l=uC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...oC,width:a.toString(),height:l.toString(),top:h,left:d},g=Kt().toLowerCase();i&&(p=kE(g)?cC:i),xE(g)&&(e=e||hC,y.scrollbars="yes");const T=Object.entries(y).reduce((w,[K,Y])=>`${w}${K}=${Y},`,"");if(Vw(g)&&p!=="_self")return dC(e||"",p),new nv(null);const R=window.open(e||"",p,T);ve(R,r,"popup-blocked");try{R.focus()}catch{}return new nv(R)}function dC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="__/auth/handler",pC="emulator/auth/handler",gC=encodeURIComponent("fac");async function iv(r,e,i,a,l,h){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ja,eventId:l};if(e instanceof GE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",ib(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof ql){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await r._getAppCheckToken(),g=y?`#${gC}=${encodeURIComponent(y)}`:"";return`${yC(r)}?${zl(p).slice(1)}${g}`}function yC({config:r}){return r.emulator?wm(r,pC):`https://${r.authDomain}/${mC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=HR,this._overrideRedirectResult=jR}async _openPopup(e,i,a,l){$i(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await iv(e,i,a,Wd(),l);return fC(e,h,Om())}async _openRedirect(e,i,a,l){await this._originValidation(e);const h=await iv(e,i,a,Wd(),l);return TR(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await aC(e),a=new GR(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},l=>{const h=l?.[0]?.[zd];h!==void 0&&i(!!h),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jE()||ME()||Cm()}}const vC=_C;var rv="@firebase/auth",sv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AC(r){Ga(new Ns("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zE(r)},g=new Bw(a,l,h,y);return Zw(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Ga(new Ns("auth-internal",e=>{const i=Ls(e.getProvider("auth").getImmediate());return(a=>new EC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(rv,sv,TC(r)),Vr(rv,sv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=300,bC=pE("authIdTokenMaxAge")||SC;let av=null;const wC=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bC)return;const l=i?.token;av!==l&&(av=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function RC(r=TE()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=$w(r,{popupRedirectResolver:vC,persistence:[OR,_R,ZE]}),a=pE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=wC(h.toString());pR(i,d,()=>d(i.currentUser)),mR(i,p=>d(p))}}const l=dE("auth");return l&&Ww(i,`http://${l}`),i}function CC(){return document.getElementsByTagName("head")?.[0]??document}Hw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const h=ai("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",CC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AC("Browser");const IC={apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"},r0=UA(IC),si=LA(r0),xm=qA(r0);function DC(){const[r,e]=B.useState(""),[i,a]=B.useState(""),[l,h]=B.useState(""),d=lh(),p=async y=>{y.preventDefault(),h("");try{await dR(xm,r,i),d("/")}catch(g){h(g.message||"Failed to sign in")}};return S.jsx(S.Fragment,{children:S.jsx("main",{children:S.jsxs("div",{className:"container",children:[S.jsx("h2",{children:"Sign In - Phoenix Guild"}),S.jsxs("form",{id:"signin-form",onSubmit:p,children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:y=>e(y.target.value)}),S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{id:"password",type:"password",required:!0,minLength:6,value:i,onChange:y=>a(y.target.value)}),S.jsx("button",{type:"submit",children:"Sign In"})]}),S.jsxs("p",{children:["Don't have an account? ",S.jsx(ch,{to:"/signup",children:"Sign Up"})]}),l&&S.jsx("div",{className:"error",children:l})]})})})}const OC="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJFAAAACwAAAAAEAAQAIMAAAAdHRzKRGSciFDFxX81MocwVqw5jdVvvdX/062l5doAAAAAAAAAAAAAAAAAAAAEUxDISSsNVuKrNv7dFChIFyTneCAgsipwXKzgYawGIugzC4yGQu62Ogh9AUQhEBgWnsbDh6lRDoJSqifwJBCCHpFLOLhuOMwm03C+iDSZuHxOl0cAACH5BAkUAAAALAAAAAAQABAAgwAAAB0dHMpEZJyIUMXFfzUyhzBWrDmN1W+91f/TraXl2gAAAAAAAAAAAAAAAAAAAARTEMhJq703YE2D4lr4TR7yBQnqHYiIsEosF6x4GKyBCDvdAh5DQYdjHYa/AKIQCBAL0OMh1JQoCwPhtAoKQAkEIYj0Gg6ynIqnaWCn1dY4Zk6nRwAAIfkECRQAAAAsAAAAABAAEACDAAAAHR0cykRknIhQxcV/NTKHMFasOY3Vb73V/9OtpeXaAAAAAAAAAAAAAAAAAAAABEoQyEmrvTjrLcP1VaB4JCCCk2gECRsYCNophWLbRRzSsIAIOZkJkTscEIfCQRhoEgvQJdNUIBAMhVKoYBgMVpjAcvUSUk6djZkSAQAh+QQJFAAAACwAAAAAEAAQAIMAAAAdHRzKRGSciFDFxX81MocwVqw5jdVvvdX/062l5doAAAAAAAAAAAAAAAAAAAAEUxDIIGulNihM+74KsgUJqR2Ih6BK6xaodxiogQg3nAKaUdg01OG3CyAKgQCwwBweOsnJceB7RjkBJoHg41xWvwEVkxkpkwZy5jKxuN/wuHxOn0cAADs=",NC="/PhoenixGuild/assets/castle-m6QEOXVY.png";function xC({size:r=100,speed:e=1}){const i=B.useRef(null),a=B.useRef(0),l=B.useRef(0),h=B.useRef(1),d=B.useRef(1),p=B.useRef(!1),[y,g]=B.useState(0),[T,R]=B.useState(0),[w,K]=B.useState(1);return B.useEffect(()=>{let Y,G;const Q=()=>{if(!i.current||p.current){Y=requestAnimationFrame(Q);return}const se=i.current.offsetWidth,re=i.current.offsetHeight;let de=a.current+h.current*e,ue=l.current+d.current*e;de>se-r?(de=se-r,h.current=-1,K(-1),X()):de<0&&(de=0,h.current=1,K(1),X()),ue>re-r?(ue=re-r,d.current=-1,X()):ue<0&&(ue=0,d.current=1,X()),Math.random()<.01&&(h.current*=-1,K(h.current),d.current*=Math.random()<.5?-1:1),Math.random()<.0025&&X(),a.current=de,l.current=ue,g(de),R(ue),Y=requestAnimationFrame(Q)},X=()=>{p.current=!0;const se=500+Math.random()*1500;G=setTimeout(()=>{p.current=!1},se)};return Y=requestAnimationFrame(Q),()=>{cancelAnimationFrame(Y),clearTimeout(G)}},[r,e]),S.jsxs("div",{ref:i,style:{position:"relative",width:"100%",height:"400px",overflow:"hidden",imageRendering:"pixelated"},children:[S.jsx("img",{src:NC,alt:"Castle Background",style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",imageRendering:"pixelated"}}),S.jsx("img",{src:OC,alt:"Dragon Avatar",style:{position:"absolute",left:y,top:T,width:r,height:r,transform:w===-1?"scaleX(-1)":"scaleX(1)",imageRendering:"pixelated",pointerEvents:"none"}})]})}function MC(){const r=lh(),[e,i]=B.useState({name:"Loading...",age:"Loading...",rank:"Loading...",allTimePts:0,weeklyPts:0}),[a,l]=B.useState({pushups:!1,situps:!1,plank:!1}),[h,d]=B.useState(""),[p,y]=B.useState("#ff6666"),[g,T]=B.useState(30),[R,w]=B.useState(50),[K,Y]=B.useState(50),[G,Q]=B.useState({distanceKm:"",gymMins:"",sportMins:"",cyclingClass:!1}),[X,se]=B.useState(""),[re,de]=B.useState({takeaway:!1,lateWake:!1,noChore:!1}),[ue,Ae]=B.useState(""),[x,b]=B.useState(null);B.useEffect(()=>{const Ne=GA(xm,async H=>{if(!H){alert("Please sign in to view your profile."),r("/signin");return}b(H);const ne=Rs(si,"users",H.uid),le=await Ua(ne);if(le.exists()){const pe=le.data(),O=pe.lastWeeklyReset||null,W=new Date,ie=W.getDay(),fe=new Date(W);fe.setHours(23,59,59,999),fe.setDate(W.getDate()-ie);let Se=O?new Date(O):null;(!Se||Se<fe)&&await gl(ne,{weeklyPoints:0,lastWeeklyReset:fe.toISOString(),lastUpdated:Ma()}),i({name:pe.name||"N/A",age:pe.age||"N/A",rank:pe.rank||"No rank yet",allTimePts:pe.points??0,weeklyPts:pe.weeklyPoints??0}),pe.dragon&&(y(pe.dragon.color||"#ff6666"),T(pe.dragon.size||150),w(pe.dragon.happiness??50),Y(pe.dragon.energy??50))}});return()=>Ne()},[r]);const C=Ne=>{const{name:H,checked:ne}=Ne.target;l(le=>({...le,[H]:ne}))},M=async Ne=>{if(Ne.preventDefault(),d(""),!x){alert("You must be signed in.");return}const H=Rs(si,"users",x.uid),ne=await Ua(H);if(!ne.exists()){alert("User data not found.");return}const le=ne.data(),pe=new Date().toISOString().split("T")[0];if(le.lastDailyTaskDate===pe){d("You have already submitted your daily task today.");return}try{await gl(H,{points:ka(5),weeklyPoints:ka(5),lastDailyTaskDate:pe,lastUpdated:Ma()}),d("Daily task submitted! +5 points."),l({pushups:!1,situps:!1,plank:!1}),i(O=>({...O,allTimePts:O.allTimePts+5,weeklyPts:O.weeklyPts+5}))}catch(O){d("Failed to submit daily task."),console.error(O)}},k=Ne=>{const{name:H,type:ne,checked:le,value:pe}=Ne.target;Q(O=>({...O,[H]:ne==="checkbox"?le:pe}))},P=async Ne=>{if(Ne.preventDefault(),se(""),!x){alert("You must be signed in.");return}const H=Math.floor(parseFloat(G.distanceKm)||0),ne=Math.floor((parseInt(G.gymMins)||0)/45),le=Math.floor((parseInt(G.sportMins)||0)/30),pe=G.cyclingClass?1:0,O=H+ne+le+pe,W=Rs(si,"users",x.uid);try{(await Ua(W)).exists()?await gl(W,{points:ka(O),weeklyPoints:ka(O),lastUpdated:Ma()}):await d_(W,{points:O,weeklyPoints:O,lastUpdated:Ma()},{merge:!0}),se(`Extra tasks submitted (+${O} points)!`),Q({distanceKm:"",gymMins:"",sportMins:"",cyclingClass:!1}),i(ie=>({...ie,allTimePts:ie.allTimePts+O,weeklyPts:ie.weeklyPts+O}))}catch(oe){se("Failed to submit extra tasks."),console.error(oe)}},D=Ne=>{const{name:H,checked:ne}=Ne.target;de(le=>({...le,[H]:ne}))},_t=async Ne=>{if(Ne.preventDefault(),Ae(""),!x){alert("You must be signed in.");return}let H=0;if(re.takeaway&&(H-=1),re.lateWake&&(H-=1),re.noChore&&(H-=1),H===0){Ae("Please select at least one debuff.");return}const ne=Rs(si,"users",x.uid);try{(await Ua(ne)).exists()?await gl(ne,{points:ka(H),weeklyPoints:ka(H),lastUpdated:Ma()}):await d_(ne,{points:H,weeklyPoints:H,lastUpdated:Ma()},{merge:!0}),Ae(`Debuffs submitted (${H} points)!`),de({takeaway:!1,lateWake:!1,noChore:!1}),i(pe=>({...pe,allTimePts:pe.allTimePts+H,weeklyPts:pe.weeklyPts+H}))}catch(le){Ae("Failed to submit debuffs."),console.error(le)}};return S.jsx(S.Fragment,{children:S.jsxs("main",{className:"profile-container",children:[S.jsxs("section",{className:"user-info",children:[S.jsx("h2",{children:"Your Info"}),S.jsxs("p",{children:[S.jsx("strong",{children:"Name:"})," ",S.jsx("span",{children:e.name})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Age:"})," ",S.jsx("span",{children:e.age})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Rank:"})," ",S.jsx("span",{children:e.rank})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"All-Time Points:"})," ",S.jsx("span",{children:e.allTimePts})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Weekly Points:"})," ",S.jsx("span",{children:e.weeklyPts})]})]}),S.jsxs("section",{className:"dragon-companion",children:[S.jsx("h2",{children:"Your Dragon Companion"}),S.jsx(xC,{}),S.jsxs("p",{children:["Happiness: ",R]}),S.jsxs("p",{children:["Energy: ",K]})]}),S.jsxs("section",{className:"daily-tasks",children:[S.jsx("h2",{children:"Daily Tasks"}),S.jsxs("form",{id:"daily-tasks-form",onSubmit:M,children:[S.jsxs("label",{id:"task-pushups",children:[S.jsx("input",{type:"checkbox",name:"pushups",checked:a.pushups,onChange:C})," ","Pushups"]}),S.jsx("br",{}),S.jsxs("label",{id:"task-situps",children:[S.jsx("input",{type:"checkbox",name:"situps",checked:a.situps,onChange:C})," ","Situps"]}),S.jsx("br",{}),S.jsxs("label",{id:"task-plank",children:[S.jsx("input",{type:"checkbox",name:"plank",checked:a.plank,onChange:C})," ","Plank"]}),S.jsx("br",{}),S.jsx("button",{id:"dailyTaskBtn",type:"submit",children:"Submit Daily Task"})]}),S.jsx("div",{id:"daily-message",className:"message",children:h})]}),S.jsxs("section",{className:"extra-tasks",children:[S.jsx("h2",{children:"Extra Tasks"}),S.jsxs("form",{id:"extra-tasks-form",onSubmit:P,children:[S.jsxs("label",{children:["Distance walked (km):"," ",S.jsx("input",{type:"number",id:"distanceKm",name:"distanceKm",min:"0",step:"0.1",value:G.distanceKm,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Gym session time (minutes):"," ",S.jsx("input",{type:"number",id:"gymMins",name:"gymMins",min:"0",step:"1",value:G.gymMins,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Sport time (minutes):"," ",S.jsx("input",{type:"number",id:"sportMins",name:"sportMins",min:"0",step:"1",value:G.sportMins,onChange:k})]}),S.jsx("br",{}),S.jsxs("label",{children:["Cycling class attended:"," ",S.jsx("input",{type:"checkbox",id:"cyclingClass",name:"cyclingClass",checked:G.cyclingClass,onChange:k})]}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Submit Extra Tasks"})]}),S.jsx("div",{id:"extra-message",className:"message",children:X})]}),S.jsxs("section",{className:"debuffs",children:[S.jsx("h2",{children:"Debuffs"}),S.jsxs("form",{id:"debuffs-form",onSubmit:_t,children:[S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"takeaway",name:"takeaway",checked:re.takeaway,onChange:D})," ","Take aways (-1 Point)"]}),S.jsx("br",{}),S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"lateWake",name:"lateWake",checked:re.lateWake,onChange:D})," ","Wake up after 9am (-1 Point)"]}),S.jsx("br",{}),S.jsxs("label",{children:[S.jsx("input",{type:"checkbox",id:"noChore",name:"noChore",checked:re.noChore,onChange:D})," ","No weekly chore (-1 Point)"]}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Submit Debuffs"})]}),S.jsx("div",{id:"debuffs-message",className:"message",children:ue})]})]})})}var kC="firebase",VC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(kC,VC,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function C(){}C.prototype=b.prototype,x.D=b.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(M,k,P){for(var D=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)D[_t-2]=arguments[_t];return b.prototype[k].apply(M,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,b,C){C||(C=0);var M=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)M[k]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(k=0;16>k;++k)M[k]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=x.g[0],C=x.g[1],k=x.g[2];var P=x.g[3],D=b+(P^C&(k^P))+M[0]+3614090360&4294967295;b=C+(D<<7&4294967295|D>>>25),D=P+(k^b&(C^k))+M[1]+3905402710&4294967295,P=b+(D<<12&4294967295|D>>>20),D=k+(C^P&(b^C))+M[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(b^k&(P^b))+M[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=b+(P^C&(k^P))+M[4]+4118548399&4294967295,b=C+(D<<7&4294967295|D>>>25),D=P+(k^b&(C^k))+M[5]+1200080426&4294967295,P=b+(D<<12&4294967295|D>>>20),D=k+(C^P&(b^C))+M[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(b^k&(P^b))+M[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=b+(P^C&(k^P))+M[8]+1770035416&4294967295,b=C+(D<<7&4294967295|D>>>25),D=P+(k^b&(C^k))+M[9]+2336552879&4294967295,P=b+(D<<12&4294967295|D>>>20),D=k+(C^P&(b^C))+M[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(b^k&(P^b))+M[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=b+(P^C&(k^P))+M[12]+1804603682&4294967295,b=C+(D<<7&4294967295|D>>>25),D=P+(k^b&(C^k))+M[13]+4254626195&4294967295,P=b+(D<<12&4294967295|D>>>20),D=k+(C^P&(b^C))+M[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=C+(b^k&(P^b))+M[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=b+(k^P&(C^k))+M[1]+4129170786&4294967295,b=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(b^C))+M[6]+3225465664&4294967295,P=b+(D<<9&4294967295|D>>>23),D=k+(b^C&(P^b))+M[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^b&(k^P))+M[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=b+(k^P&(C^k))+M[5]+3593408605&4294967295,b=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(b^C))+M[10]+38016083&4294967295,P=b+(D<<9&4294967295|D>>>23),D=k+(b^C&(P^b))+M[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^b&(k^P))+M[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=b+(k^P&(C^k))+M[9]+568446438&4294967295,b=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(b^C))+M[14]+3275163606&4294967295,P=b+(D<<9&4294967295|D>>>23),D=k+(b^C&(P^b))+M[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^b&(k^P))+M[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=b+(k^P&(C^k))+M[13]+2850285829&4294967295,b=C+(D<<5&4294967295|D>>>27),D=P+(C^k&(b^C))+M[2]+4243563512&4294967295,P=b+(D<<9&4294967295|D>>>23),D=k+(b^C&(P^b))+M[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=C+(P^b&(k^P))+M[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=b+(C^k^P)+M[5]+4294588738&4294967295,b=C+(D<<4&4294967295|D>>>28),D=P+(b^C^k)+M[8]+2272392833&4294967295,P=b+(D<<11&4294967295|D>>>21),D=k+(P^b^C)+M[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^b)+M[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=b+(C^k^P)+M[1]+2763975236&4294967295,b=C+(D<<4&4294967295|D>>>28),D=P+(b^C^k)+M[4]+1272893353&4294967295,P=b+(D<<11&4294967295|D>>>21),D=k+(P^b^C)+M[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^b)+M[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=b+(C^k^P)+M[13]+681279174&4294967295,b=C+(D<<4&4294967295|D>>>28),D=P+(b^C^k)+M[0]+3936430074&4294967295,P=b+(D<<11&4294967295|D>>>21),D=k+(P^b^C)+M[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^b)+M[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=b+(C^k^P)+M[9]+3654602809&4294967295,b=C+(D<<4&4294967295|D>>>28),D=P+(b^C^k)+M[12]+3873151461&4294967295,P=b+(D<<11&4294967295|D>>>21),D=k+(P^b^C)+M[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=C+(k^P^b)+M[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=b+(k^(C|~P))+M[0]+4096336452&4294967295,b=C+(D<<6&4294967295|D>>>26),D=P+(C^(b|~k))+M[7]+1126891415&4294967295,P=b+(D<<10&4294967295|D>>>22),D=k+(b^(P|~C))+M[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~b))+M[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=b+(k^(C|~P))+M[12]+1700485571&4294967295,b=C+(D<<6&4294967295|D>>>26),D=P+(C^(b|~k))+M[3]+2399980690&4294967295,P=b+(D<<10&4294967295|D>>>22),D=k+(b^(P|~C))+M[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~b))+M[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=b+(k^(C|~P))+M[8]+1873313359&4294967295,b=C+(D<<6&4294967295|D>>>26),D=P+(C^(b|~k))+M[15]+4264355552&4294967295,P=b+(D<<10&4294967295|D>>>22),D=k+(b^(P|~C))+M[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~b))+M[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=b+(k^(C|~P))+M[4]+4149444226&4294967295,b=C+(D<<6&4294967295|D>>>26),D=P+(C^(b|~k))+M[11]+3174756917&4294967295,P=b+(D<<10&4294967295|D>>>22),D=k+(b^(P|~C))+M[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=C+(P^(k|~b))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+P&4294967295}a.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var C=b-this.blockSize,M=this.B,k=this.h,P=0;P<b;){if(k==0)for(;P<=C;)l(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(M[k++]=x.charCodeAt(P++),k==this.blockSize){l(this,M),k=0;break}}else for(;P<b;)if(M[k++]=x[P++],k==this.blockSize){l(this,M),k=0;break}}this.h=k,this.o+=b},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var C=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=C&255,C/=256;for(this.u(x),x=Array(16),b=C=0;4>b;++b)for(var M=0;32>M;M+=8)x[C++]=this.g[b]>>>M&255;return x};function h(x,b){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=b(x)}function d(x,b){this.h=b;for(var C=[],M=!0,k=x.length-1;0<=k;k--){var P=x[k]|0;M&&P==b||(C[k]=P,M=!1)}this.g=C}var p={};function y(x){return-128<=x&&128>x?h(x,function(b){return new d([b|0],0>b?-1:0)}):new d([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return Q(g(-x));for(var b=[],C=1,M=0;x>=C;M++)b[M]=x/C|0,C*=4294967296;return new d(b,0)}function T(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return Q(T(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(b,8)),M=R,k=0;k<x.length;k+=8){var P=Math.min(8,x.length-k),D=parseInt(x.substring(k,k+P),b);8>P?(P=g(Math.pow(b,P)),M=M.j(P).add(g(D))):(M=M.j(C),M=M.add(g(D)))}return M}var R=y(0),w=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(G(this))return-Q(this).m();for(var x=0,b=1,C=0;C<this.g.length;C++){var M=this.i(C);x+=(0<=M?M:4294967296+M)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(G(this))return"-"+Q(this).toString(x);for(var b=g(Math.pow(x,6)),C=this,M="";;){var k=de(C,b).g;C=X(C,k.j(b));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=k,Y(C))return P+M;for(;6>P.length;)P="0"+P;M=P+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function G(x){return x.h==-1}r.l=function(x){return x=X(this,x),G(x)?-1:Y(x)?0:1};function Q(x){for(var b=x.g.length,C=[],M=0;M<b;M++)C[M]=~x.g[M];return new d(C,~x.h).add(w)}r.abs=function(){return G(this)?Q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],M=0,k=0;k<=b;k++){var P=M+(this.i(k)&65535)+(x.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);M=D>>>16,P&=65535,D&=65535,C[k]=D<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function X(x,b){return x.add(Q(b))}r.j=function(x){if(Y(this)||Y(x))return R;if(G(this))return G(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(G(x))return Q(this.j(Q(x)));if(0>this.l(K)&&0>x.l(K))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,C=[],M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<x.g.length;k++){var P=this.i(M)>>>16,D=this.i(M)&65535,_t=x.i(k)>>>16,Ne=x.i(k)&65535;C[2*M+2*k]+=D*Ne,se(C,2*M+2*k),C[2*M+2*k+1]+=P*Ne,se(C,2*M+2*k+1),C[2*M+2*k+1]+=D*_t,se(C,2*M+2*k+1),C[2*M+2*k+2]+=P*_t,se(C,2*M+2*k+2)}for(M=0;M<b;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=b;M<2*b;M++)C[M]=0;return new d(C,0)};function se(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function re(x,b){this.g=x,this.h=b}function de(x,b){if(Y(b))throw Error("division by zero");if(Y(x))return new re(R,R);if(G(x))return b=de(Q(x),b),new re(Q(b.g),Q(b.h));if(G(b))return b=de(x,Q(b)),new re(Q(b.g),b.h);if(30<x.g.length){if(G(x)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=b;0>=M.l(x);)C=ue(C),M=ue(M);var k=Ae(C,1),P=Ae(M,1);for(M=Ae(M,2),C=Ae(C,2);!Y(M);){var D=P.add(M);0>=D.l(x)&&(k=k.add(C),P=D),M=Ae(M,1),C=Ae(C,1)}return b=X(x,k.j(b)),new re(k,b)}for(k=R;0<=x.l(b);){for(C=Math.max(1,Math.floor(x.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),P=g(C),D=P.j(b);G(D)||0<D.l(x);)C-=M,P=g(C),D=P.j(b);Y(P)&&(P=w),k=k.add(P),x=X(x,D)}return new re(k,x)}r.A=function(x){return de(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)&x.i(M);return new d(C,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)|x.i(M);return new d(C,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)^x.i(M);return new d(C,this.h^x.h)};function ue(x){for(var b=x.g.length+1,C=[],M=0;M<b;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(C,x.h)}function Ae(x,b){var C=b>>5;b%=32;for(var M=x.g.length-C,k=[],P=0;P<M;P++)k[P]=0<b?x.i(P+C)>>>b|x.i(P+C+1)<<32-b:x.i(P+C);return new d(k,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Mm=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,vl,a0,Vc,nm,o0,l0,u0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var _=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function w(u,m,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,w.apply(null,arguments)}function K(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,F){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return m.prototype[U].apply(A,ae)}}function G(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function Q(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const U=u.length||0,F=A.length||0;u.length=U+F;for(let ae=0;ae<F;ae++)u[U+ae]=A[ae]}else u.push(A)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function de(u){return de[" "](u),u}de[" "]=function(){};var ue=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ae(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let F=0;F<C.length;F++)_=C[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){p.setTimeout(()=>{throw u},0)}function D(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,_){const A=Ne.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ne=new X(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,pe=new _t,O=()=>{const u=p.Promise.resolve(void 0);ne=()=>{u.then(W)}};var W=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){P(_)}var m=Ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function Se(u,m){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ue){e:{try{de(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}Y(Se,ie);var Te={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Bn(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Xe,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,m,_,A,U){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ae=qr(u,m,A,U);return-1<ae?(m=u[ae],_||(m.fa=!1)):(m=new Bn(m,this.src,F,!!A,U),m.fa=_,u.push(m)),m};function Hr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=U)&&Array.prototype.splice.call(A,U,1),F&&(Ji(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,m,_,A){for(var U=0;U<u.length;++U){var F=u[U];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return U}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),io={};function Zl(u,m,_,A,U){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Zl(u,m[F],_,A,U);return null}return _=Wl(_),u&&u[bt]?u.K(m,_,g(A)?!!A.capture:!1,U):mn(u,m,_,!1,A,U)}function mn(u,m,_,A,U,F){if(!m)throw Error("Invalid event type");var ae=g(U)?!!U.capture:!!U,Me=Hs(u);if(Me||(u[Gr]=Me=new di(u)),_=Me.add(m,_,A,ae,F),_.proxy)return _;if(A=Sh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)fe||(U=ae),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Fr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sh(){function u(_){return m.call(u.src,u.listener,_)}const m=bh;return u}function ro(u,m,_,A,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)ro(u,m[F],_,A,U);else A=g(A)?!!A.capture:!!A,_=Wl(_),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=qr(F,_,A,U),-1<_&&(Ji(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qr(m,_,A,U)),(_=-1<u?m[u]:null)&&Bs(_))}function Bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])Hr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Fr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Hs(m))?(Hr(_,u),_.h==0&&(_.src=null,m[Gr]=null)):Ji(u)}}}function Fr(u){return u in io?io[u]:io[u]="on"+u}function bh(u,m){if(u.da)u=!0;else{m=new Se(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Bs(u),u=_.call(A,m)}return u}function Hs(u){return u=u[Gr],u instanceof di?u:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function rt(){oe.call(this),this.i=new di(this),this.M=this,this.F=null}Y(rt,oe),rt.prototype[bt]=!0,rt.prototype.removeEventListener=function(u,m,_,A){ro(this,u,m,_,A)};function Be(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new ie(m,u);else if(m instanceof ie)m.target=m.target||u;else{var U=m;m=new ie(A,u),M(m,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var ae=m.g=_[F];U=sn(ae,A,!0,m)&&U}if(ae=m.g=u,U=sn(ae,A,!0,m)&&U,U=sn(ae,A,!1,m)&&U,_)for(F=0;F<_.length;F++)ae=m.g=_[F],U=sn(ae,A,!1,m)&&U}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Ji(_[A]);delete u.g[m],u.h--}}this.F=null},rt.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},rt.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function sn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,F=0;F<m.length;++F){var ae=m[F];if(ae&&!ae.da&&ae.capture==_){var Me=ae.listener,Et=ae.ha||ae.src;ae.fa&&Hr(u.i,ae),U=Me.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function Bt(u,m,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Jl(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wh extends oe{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){oe.call(this),this.h=u,this.g={}}Y(Yr,oe);var Qr=[];function Kr(u){Ae(u.g,function(m,_){this.g.hasOwnProperty(_)&&Bs(m)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Kr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=p.JSON.stringify,qs=p.JSON.parse,Xr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function oo(u){return u.h||(u.h=u.i())}function lo(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ie.call(this,"d")}Y(pi,ie);function uo(){ie.call(this,"c")}Y(uo,ie);var Hn={},co=null;function er(){return co=co||new rt}Hn.La="serverreachability";function Gs(u){ie.call(this,Hn.La,u)}Y(Gs,ie);function tr(u){const m=er();Be(m,new Gs(m))}Hn.STAT_EVENT="statevent";function eu(u,m){ie.call(this,Hn.STAT_EVENT,u),this.stat=m}Y(eu,ie);function We(u){const m=er();Be(m,new eu(m,u))}Hn.Ma="timingevent";function vt(u,m){ie.call(this,Hn.Ma,u),this.size=m}Y(vt,ie);function ft(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ho(u,m,_,A,U,F){u.info(function(){if(u.g)if(F)for(var ae="",Me=F.split("&"),Et=0;Et<Me.length;Et++){var ke=Me[Et].split("=");if(1<ke.length){var Rt=ke[0];ke=ke[1];var Tt=Rt.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Rt+"="+ke+"&"):ae+(Rt+"=redacted&")}}else ae=null;else ae=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+ae})}function Rh(u,m,_,A,U,F,ae){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+F+" "+ae})}function nr(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$r(u,_)+(A?" "+A:"")})}function tu(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function $r(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return In(_)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Gn(){}Y(Gn,ao),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},qn=new Gn;function Xt(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var fo={},Fs={};function Dn(u,m,_){u.L=1,u.v=ts(an(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Zr(u),u.A=an(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),vo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new lt,u.g=yu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new wh(w(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Qr[0]=U.toString()),U=Qr);for(var F=0;F<U.length;F++){var ae=Zl(_,U[F],A||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),ho(u.i,u.u,u.A,u.l,u.R,u.m)}Xt.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Xt.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=vn(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||Tt!=4||m==7||(m==8||0>=wi?tr(3):tr(2)),rr(this);var _=this.g.Z();this.X=_;t:if(nu(this)){var A=uu(this.g);u="";var U=A.length,F=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),Fn(this);var ae="";break t}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Rh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Et=this.g;if((Me=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Me)){var ke=Me;break t}}ke=null}if(_=ke)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,_);else{this.o=!1,this.s=3,We(12),xt(this),Fn(this);break e}}if(this.P){_=!0;let Mt;for(;!this.J&&this.C<ae.length;)if(Mt=iu(this,ae),Mt==Fs){Tt==4&&(this.s=4,We(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==fo){this.s=4,We(15),nr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Mt,null),Wr(this,Mt);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,We(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,ae,"[Invalid Chunked Response]"),xt(this),Fn(this);else if(0<ae.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),us(Rt),Rt.M=!0,We(11))}}else nr(this.i,this.l,ae,null),Wr(this,ae);Tt==4&&xt(this),this.o&&!this.J&&(Tt==4?mu(this.j,this):(this.o=!1,Zr(this)))}else Nh(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),xt(this),Fn(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function iu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Fs:(_=Number(m.substring(_,A)),isNaN(_)?fo:(A+=1,A+_>m.length?Fs:(m=m.slice(A,A+_),u.C=A+_,m)))}Xt.prototype.cancel=function(){this.J=!0,xt(this)};function Zr(u){u.S=Date.now()+u.I,ru(u,u.I)}function ru(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ft(w(u.ba,u),m)}function rr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Xt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(tu(this.i,this.A),this.L!=2&&(tr(),We(17)),xt(this),this.s=2,Fn(this)):ru(this,this.S-u)};function Fn(u){u.j.G==0||u.J||mu(u.j,u)}function xt(u){rr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||mo(_.h,u))){if(!u.K&&mo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ia(_),ta(_);else break e;bo(_),We(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=ft(w(_.Za,_),6e3));if(1>=Qs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&ia(_),!se(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let ke=U[m];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Rt=ke[3];Rt!=null&&(_.la=Rt,_.j.info("VER="+_.la));const Tt=ke[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const wi=ke[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Mt=u.g;if(Mt){const Wn=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var F=A.h;F.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ks(F,F.h),F.h=null))}if(A.D){const Ro=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(A.ya=Ro,Ge(A.I,A.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=u;if(A.qa=gu(A,A.J?A.ia:null,A.W),ae.K){$t(A.h,ae);var Me=ae,Et=A.L;Et&&(Me.I=Et),Me.B&&(rr(Me),Zr(Me)),A.g=ae}else fu(A);0<_.i.length&&na(_)}else ke[0]!="stop"&&ke[0]!="close"||bi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?bi(_,7):Ao(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}tr(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function mo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function $t(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return G(u.i)}function Ch(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function go(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Xs(u),A=Ch(u),U=A.length,F=0;F<U;F++)m.call(void 0,A[F],_&&_[F],u)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var F=u[_].substring(0,A);U=u[_].substring(A+1)}else F=u[_];m(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function dt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof dt){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.s),this.l=u.l;var m=u.i,_=new Ei;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),vi(this,_),this.m=u.m}else u&&(m=String(u).match(Jr))?(this.h=!1,es(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),sr(this,m[4]),this.l=gn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}dt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ns(m,yo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ns(m,yo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ns(_,_.charAt(0)=="/"?Dh:_o,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ns(_,$s)),u.join("")};function an(u){return new dt(u)}function es(u,m,_){u.j=_?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,_){m instanceof Ei?(u.i=m,ou(u.i,u.h)):(_||(m=ns(m,Oh)),u.i=new Ei(m,u.h))}function Ge(u,m,_){u.i.set(m,_)}function ts(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,au),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function au(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,Dh=/[#\?]/g,Oh=/[#\?@]/g,$s=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ih(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(u,m){yn(this),this.i=null,u=Yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ti(u,m){yn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return yn(u),m=Yn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let F=0;F<U.length;F++)_.push(m[A])}return _},r.V=function(u){yn(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return yn(this),this.i=null,u=Yn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function vo(u,m,_){Ti(u,m),0<_.length&&(u.i=null,u.g.set(Yn(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var U=F;ae[A]!==""&&(U+="="+encodeURIComponent(String(ae[A]))),u.push(U)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ou(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ti(this,A),vo(this,U,_))},u)),u.j=m}function is(u,m){const _=new pn;if(p.Image){const A=new Image;A.onload=K(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=K(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=K(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=K(_n,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function On(u,m){const _=new pn,A=new AbortController,U=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function rs(){this.g=new Xr}function Qn(u,m,_){const A=_||"";try{go(u,function(U,F){let ae=U;g(U)&&(ae=In(U)),m.push(A+F+"="+encodeURIComponent(ae))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(ar,ao),ar.prototype.g=function(){return new Si(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Si(u,m){rt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Si,rt),r=Si.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Xn(this),this.readyState==3&&Eo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function To(u){let m="";return Ae(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function wt(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=To(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ge(u,m,_))}function je(u){rt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(je,rt);var Zs=/^https?$/i,ss=["POST","PUT"];r=je.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?oo(this.o):oo(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){lu(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ae]of _)this.g.setRequestHeader(F,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){lu(this,F)}};function lu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ws(u),$n(u)}function Ws(u){u.A||(u.A=!0,Be(u,"complete"),Be(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Be(this,"complete"),Be(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Bt(u.Ea,0,u);else if(Be(u,"readystatechange"),vn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=ae===0){var U=String(u.D).match(Jr)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!Zs.test(U?U.toLowerCase():"")}_=A}if(_)Be(u,"complete"),Be(u,"success");else{u.m=6;try{var F=2<vn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ws(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){as(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Be(u,"ready");try{_.onreadystatechange=A}catch{}}}function as(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function uu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(se(u[A]))continue;var _=k(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[U]||[];m[U]=F,F.push(_)}x(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ea(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,u),this.cb=os("retryDelaySeedMs",1e4,u),this.Wa=os("forwardChannelMaxRetries",2,u),this.wa=os("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){We(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),na(this)};function Ao(u){if(cu(u),u.G==3){var m=u.U++,_=an(u.I);if(Ge(_,"SID",u.K),Ge(_,"RID",m),Ge(_,"TYPE","terminate"),ls(u,_),m=new Xt(u,u.j,m),m.L=2,m.v=ts(an(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}pu(u)}function ta(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function cu(u){ta(u),u.u&&(p.clearTimeout(u.u),u.u=null),ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function na(u){if(!Ys(u.h)&&!u.s){u.s=!0;var m=u.Ga;ne||O(),le||(ne(),le=!0),pe.add(m,u),u.B=0}}function xh(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ft(w(u.Ga,u,m),wo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Xt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=b(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=hu(this,U,m),_=an(this.I),Ge(_,"RID",u),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),ls(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(To(F)))+"&"+m:this.m&&wt(_,this.m,F)),Ks(this.h,U),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",m),Ge(_,"SID","null"),U.T=!0,Dn(U,_,null)):Dn(U,_,m),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Ys(this.h)||So(this))};function So(u,m){var _;m?_=m.l:_=u.U++;const A=an(u.I);Ge(A,"SID",u.K),Ge(A,"RID",_),Ge(A,"AID",u.T),ls(u,A),u.m&&u.o&&wt(A,u.m,u.o),_=new Xt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=hu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,_),Dn(_,A,m)}function ls(u,m){u.H&&Ae(u.H,function(_,A){Ge(m,A,_)}),u.l&&go({},function(_,A){Ge(m,A,_)})}function hu(u,m,_){_=Math.min(u.i.length,_);var A=u.l?w(u.l.Na,u.l,u):null;e:{var U=u.i;let F=-1;for(;;){const ae=["count="+_];F==-1?0<_?(F=U[0].g,ae.push("ofs="+F)):F=0:ae.push("ofs="+F);let Me=!0;for(let Et=0;Et<_;Et++){let ke=U[Et].g;const Rt=U[Et].map;if(ke-=F,0>ke)F=Math.max(0,U[Et].g-100),Me=!1;else try{Qn(Rt,ae,"req"+ke+"_")}catch{A&&A(Rt)}}if(Me){A=ae.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,A}function fu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ne||O(),le||(ne(),le=!0),pe.add(m,u),u.v=0}}function bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ft(w(u.Fa,u),wo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ft(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),ta(this),du(this))};function us(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function du(u){u.g=new Xt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),ls(u,m),u.m&&u.o&&wt(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ts(an(m)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),bo(this),We(19))};function ia(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function mu(u,m){var _=null;if(u.g==m){ia(u),us(u),u.g=null;var A=2}else if(mo(u.h,m))_=m.D,$t(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=er(),Be(A,new vt(A,_)),na(u)}else fu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&xh(u,m)||A==2&&bo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function wo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=w(u.fb,u),A=u.Xa;const U=!A;A=new dt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||es(A,"https"),ts(A),U?is(A.toString(),_):On(A.toString(),_)}else We(2);u.G=0,u.l&&u.l.sa(m),pu(u),cu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function gu(u,m,_){var A=_ instanceof dt?an(_):new dt(_);if(A.g!="")m&&(A.g=m+"."+A.g),sr(A,A.s);else{var U=p.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var F=new dt(null);A&&es(F,A),m&&(F.g=m),U&&sr(F,U),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&Ge(A,_,m),Ge(A,"VER",u.la),ls(u,A),A}function yu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new je(new ar({eb:_})):new je(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new Zt(u,m)};function Zt(u,m){rt.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!se(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Y(Zt,rt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Ao(this.g)},Zt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new su(m.Ya++,u)),m.G==3&&na(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Zt.aa.N.call(this)};function vu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(vu,pi);function Eu(){uo.call(this),this.status=1}Y(Eu,uo);function Zn(u){this.g=u}Y(Zn,_u),Zn.prototype.ua=function(){Be(this.g,"a")},Zn.prototype.ta=function(u){Be(this.g,new vu(u))},Zn.prototype.sa=function(u){Be(this.g,new Eu)},Zn.prototype.ra=function(){Be(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,u0=function(){return new ra},l0=function(){return er()},o0=Hn,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Vc=ir,gi.COMPLETE="complete",a0=gi,lo.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",rt.prototype.listen=rt.prototype.K,vl=lo,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,s0=je}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Tm("@firebase/firestore");function Va(){return ks.logLevel}function he(r,...e){if(ks.logLevel<=xe.DEBUG){const i=e.map(km);ks.debug(`Firestore (${to}): ${r}`,...i)}}function Vs(r,...e){if(ks.logLevel<=xe.ERROR){const i=e.map(km);ks.error(`Firestore (${to}): ${r}`,...i)}}function ph(r,...e){if(ks.logLevel<=xe.WARN){const i=e.map(km);ks.warn(`Firestore (${to}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,c0(r,a,i)}function c0(r,e,i){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vs(a),new Error(a)}function ot(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||c0(e,l,a)}function Ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Wi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ft.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class LC{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Is,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},p=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Is)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new h0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class jC{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zC{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new jC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=h=>{h.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const l=h=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=HC(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=e.charAt(l[h]%62))}return a}}function ze(r,e){return r<e?-1:r>e?1:0}function im(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=e.charAt(a);if(l!==h)return Bd(l)===Bd(h)?ze(l,h):Bd(l)?1:-1}return ze(r.length,e.length)}const qC=55296,GC=57343;function Bd(r){const e=r.charCodeAt(0);return e>=qC&&e<=GC}function Fa(r,e,i){return r.length===e.length&&r.every((a,l)=>i(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="__name__";class ri{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ce(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ce(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const h=ri.compareSegments(e.get(l),i.get(l));if(h!==0)return h}return ze(e.length,i.length)}static compareSegments(e,i){const a=ri.isNumericId(e),l=ri.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ri.extractNumericId(e).compare(ri.extractNumericId(i)):im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mm.fromString(e.substring(4,e.length-2))}}class ht extends ri{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ht(i)}static emptyPath(){return new ht([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ri{construct(e,i,a){return new jt(e,i,a)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new jt([hv])}static fromServerFormat(e){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(i)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e,i){if(!i)throw new ge(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QC(r,e,i,a){if(e===!0&&a===!0)throw new ge(te.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function fv(r){if(!we.isDocumentKey(r))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function rm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Fl(r,e){if(!f0(r))throw new ge(te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ge(te.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,mv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*mv);return new tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<dv)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:yt("string",tt._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new tt(0,0))}static max(){return new et(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function KC(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=et.fromTimestamp(a===1e9?new tt(i+1,0):new tt(i,a));return new Pr(l,we.empty(),e)}function XC(r){return new Pr(r.readTime,r.key,Nl)}class Pr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Pr(et.min(),we.empty(),Nl)}static max(){return new Pr(et.max(),we.empty(),Nl)}}function $C(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(r.documentKey,e.documentKey),i!==0?i:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==ZC)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.reject(i)}static resolve(e){return new ee((i,a)=>{i(e)})}static reject(e){return new ee((i,a)=>{a(e)})}static waitFor(e){return new ee((i,a)=>{let l=0,h=0,d=!1;e.forEach(p=>{++l,p.next(()=>{++h,d&&h===l&&i()},y=>a(y))}),d=!0,h===l&&i()})}static or(e){let i=ee.resolve(!1);for(const a of e)i=i.next(l=>l?ee.resolve(l):a());return i}static forEach(e,i){const a=[];return e.forEach((l,h)=>{a.push(i.call(this,l,h))}),this.waitFor(a)}static mapArray(e,i){return new ee((a,l)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const g=y;i(e[g]).next(T=>{d[g]=T,++p,p===h&&a(d)},T=>l(T))}})}static doWhile(e,i){return new ee((a,l)=>{const h=()=>{e()===!0?i().next(()=>{h()},l):a()};h()})}}function JC(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Yl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function zm(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function eI(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="";function tI(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=pv(e)),e=nI(r.get(i),e);return pv(e)}function nI(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case d0:i+="";break;default:i+=h}}return i}function pv(r){return r+d0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function no(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function m0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i){this.comparator=e,this.root=i||Ut.EMPTY}insert(e,i){return new rn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,i,a,l,h){this.key=e,this.value=i,this.color=a??Ut.RED,this.left=l??Ut.EMPTY,this.right=h??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,h){return new Ut(e??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const h=a(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ut.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,i,a,l,h){return this}insert(e,i,a){return new Ut(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new zt(jt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new iI("Invalid base64 string: "+h):h}}(e);return new ui(i)}static fromUint8Array(e){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(e);return new ui(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const rI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const i=rI.exec(r);if(ot(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?ui.fromBase64String(r):ui.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="server_timestamp",g0="__type__",y0="__previous_value__",_0="__local_write_time__";function Bm(r){return(r?.mapValue?.fields||{})[g0]?.stringValue===p0}function Hm(r){const e=r.mapValue.fields[y0];return Bm(e)?Hm(e):e}function $c(r){const e=Ps(r.mapValue.fields[_0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,i,a,l,h,d,p,y,g,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const Zc="(default)";class Wc{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__type__",aI="__max__",wc={mapValue:{}},E0="__vector__",sm="value";function Us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:lI(r)?9007199254740991:oI(r)?10:11:Ce(28295,{value:r})}function ci(r,e){if(r===e)return!0;const i=Us(r);if(i!==Us(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $c(r).isEqual($c(e));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ps(l.timestampValue),p=Ps(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,h){return Ya(l.bytesValue).isEqual(Ya(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,h){return Lt(l.geoPointValue.latitude)===Lt(h.geoPointValue.latitude)&&Lt(l.geoPointValue.longitude)===Lt(h.geoPointValue.longitude)}(r,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Lt(l.integerValue)===Lt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Lt(l.doubleValue),p=Lt(h.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return Fa(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ci(d[y],p[y])))return!1;return!0}(r,e);default:return Ce(52216,{left:r})}}function xl(r,e){return(r.values||[]).find(i=>ci(i,e))!==void 0}function Qa(r,e){if(r===e)return 0;const i=Us(r),a=Us(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(h,d){const p=Lt(h.integerValue||h.doubleValue),y=Lt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(r,e);case 3:return _v(r.timestampValue,e.timestampValue);case 4:return _v($c(r),$c(e));case 5:return im(r.stringValue,e.stringValue);case 6:return function(h,d){const p=Ya(h),y=Ya(d);return p.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=ze(p[g],y[g]);if(T!==0)return T}return ze(p.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const p=ze(Lt(h.latitude),Lt(d.latitude));return p!==0?p:ze(Lt(h.longitude),Lt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return vv(r.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},y=d.fields||{},g=p[sm]?.arrayValue,T=y[sm]?.arrayValue,R=ze(g?.values?.length||0,T?.values?.length||0);return R!==0?R:vv(g,T)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===wc.mapValue&&d===wc.mapValue)return 0;if(h===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const w=im(y[R],T[R]);if(w!==0)return w;const K=Qa(p[y[R]],g[T[R]]);if(K!==0)return K}return ze(y.length,T.length)}(r.mapValue,e.mapValue);default:throw Ce(23264,{he:i})}}function _v(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const i=Ps(r),a=Ps(e),l=ze(i.seconds,a.seconds);return l!==0?l:ze(i.nanos,a.nanos)}function vv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Qa(i[l],a[l]);if(h)return h}return ze(i.length,a.length)}function Ka(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Ps(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ya(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return we.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=am(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"}(r.mapValue):Ce(61005,{value:r})}function Pc(r){switch(Us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(r);return e?16+Pc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+Pc(h),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return no(a.fields,(h,d)=>{l+=h.length+Pc(d)}),l}(r.mapValue);default:throw Ce(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function Uc(r){return!!r&&"mapValue"in r}function oI(r){return(r?.mapValue?.fields||{})[v0]?.stringValue===E0}function Al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return no(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Al(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Al(r.arrayValue.values[i]);return e}return{...r}}function lI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(i)}setAll(e){let i=jt.emptyPath(),a={},l=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(e){const i=this.field(e.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){no(i,(l,h)=>e[l]=h);for(const l of a)delete e[l]}clone(){return new Vn(Al(this.value))}}function T0(r){const e=[];return no(r.fields,(i,a)=>{const l=new jt([i]);if(Uc(a)){const h=T0(a.mapValue).fields;if(h.length===0)e.push(l);else for(const d of h)e.push(l.child(d))}else e.push(l)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,i,a,l,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new kn(e,0,et.min(),et.min(),et.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,l){return new kn(e,1,i,et.min(),a,l,0)}static newNoDocument(e,i){return new kn(e,2,i,et.min(),et.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new kn(e,3,i,et.min(),et.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,i){this.position=e,this.inclusive=i}}function Ev(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const h=e[l],d=r.position[l];if(h.field.isKeyField()?a=we.comparator(we.fromName(d.referenceValue),i.key):a=Qa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Tv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function uI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{}class Nt extends A0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new hI(e,i,a):i==="array-contains"?new mI(e,a):i==="in"?new pI(e,a):i==="not-in"?new gI(e,a):i==="array-contains-any"?new yI(e,a):new Nt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fI(e,a):new dI(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Us(this.value)===Us(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends A0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ur(e,i)}matches(e){return S0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function S0(r){return r.op==="and"}function b0(r){return cI(r)&&S0(r)}function cI(r){for(const e of r.filters)if(e instanceof Ur)return!1;return!0}function lm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(b0(r))return r.filters.map(e=>lm(e)).join(",");{const e=r.filters.map(i=>lm(i)).join(",");return`${r.op}(${e})`}}function w0(r,e){return r instanceof Nt?function(a,l){return l instanceof Nt&&a.op===l.op&&a.field.isEqual(l.field)&&ci(a.value,l.value)}(r,e):r instanceof Ur?function(a,l){return l instanceof Ur&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,d,p)=>h&&w0(d,l.filters[p]),!0):!1}(r,e):void Ce(19439)}function R0(r){return r instanceof Nt?function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`}(r):r instanceof Ur?function(i){return i.op.toString()+" {"+i.getFilters().map(R0).join(" ,")+"}"}(r):"Filter"}class hI extends Nt{constructor(e,i,a){super(e,i,a),this.key=we.fromName(a.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class fI extends Nt{constructor(e,i){super(e,"in",i),this.keys=C0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class dI extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=C0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function C0(r,e){return(e.arrayValue?.values||[]).map(i=>we.fromName(i.referenceValue))}class mI extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&xl(i.arrayValue,this.value)}}class pI extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class gI extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class yI extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,i=null,a=[],l=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Av(r,e=null,i=[],a=[],l=null,h=null,d=null){return new _I(r,e,i,a,l,h,d)}function Gm(r){const e=Ze(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>lm(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),zm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Ka(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Ka(a)).join(",")),e.Te=i}return e.Te}function Fm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!uI(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!w0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tv(r.startAt,e.startAt)&&Tv(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,i=null,a=[],l=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vI(r,e,i,a,l,h,d,p){return new gh(r,e,i,a,l,h,d,p)}function EI(r){return new gh(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TI(r){return r.collectionGroup!==null}function Sl(r){const e=Ze(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(jt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eh(h,a))}),i.has(jt.keyField().canonicalString())||e.Ie.push(new eh(jt.keyField(),a))}return e.Ie}function Ds(r){const e=Ze(r);return e.Ee||(e.Ee=AI(e,Sl(r))),e.Ee}function AI(r,e){if(r.limitType==="F")return Av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new eh(l.field,h)});const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function um(r,e,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function I0(r,e){return Fm(Ds(r),Ds(e))&&r.limitType===e.limitType}function D0(r){return`${Gm(Ds(r))}|lt:${r.limitType}`}function pl(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>R0(l)).join(", ")}]`),zm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Ka(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Ka(l)).join(",")),`Target(${a})`}(Ds(r))}; limitType=${r.limitType})`}function Ym(r,e){return e.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):we.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,e)&&function(a,l){for(const h of Sl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,e)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(r,e)&&function(a,l){return!(a.startAt&&!function(d,p,y){const g=Ev(d,p,y);return d.inclusive?g<=0:g<0}(a.startAt,Sl(a),l)||a.endAt&&!function(d,p,y){const g=Ev(d,p,y);return d.inclusive?g>=0:g>0}(a.endAt,Sl(a),l))}(r,e)}function SI(r){return(e,i)=>{let a=!1;for(const l of Sl(r)){const h=bI(l,e,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function bI(r,e,i){const a=r.field.isKeyField()?we.comparator(e.key,i.key):function(h,d,p){const y=d.data.field(h),g=p.data.field(h);return y!==null&&g!==null?Qa(y,g):Ce(42886)}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(i,a)=>{for(const[l,h]of a)e(l,h)})}isEmpty(){return m0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new rn(we.comparator);function th(){return wI}const O0=new rn(we.comparator);function Rc(...r){let e=O0;for(const i of r)e=e.insert(i.key,i);return e}function N0(r){let e=O0;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Cs(){return bl()}function x0(){return bl()}function bl(){return new js(r=>r.toString(),(r,e)=>r.isEqual(e))}const RI=new rn(we.comparator),CI=new zt(we.comparator);function Yt(...r){let e=CI;for(const i of r)e=e.add(i);return e}const II=new zt(ze);function DI(){return II}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function M0(r){return{integerValue:""+r}}function OI(r,e){return eI(e)?M0(e):Qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function NI(r,e,i){return r instanceof nh?function(l,h){const d={fields:{[g0]:{stringValue:p0},[_0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Bm(h)&&(h=Hm(h)),h&&(d.fields[y0]=h),{mapValue:d}}(i,e):r instanceof Ml?V0(r,e):r instanceof kl?P0(r,e):function(l,h){const d=k0(l,h),p=bv(d)+bv(l.Ae);return om(d)&&om(l.Ae)?M0(p):Qm(l.serializer,p)}(r,e)}function xI(r,e,i){return r instanceof Ml?V0(r,e):r instanceof kl?P0(r,e):i}function k0(r,e){return r instanceof ih?function(a){return om(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class nh extends yh{}class Ml extends yh{constructor(e){super(),this.elements=e}}function V0(r,e){const i=U0(e);for(const a of r.elements)i.some(l=>ci(l,a))||i.push(a);return{arrayValue:{values:i}}}class kl extends yh{constructor(e){super(),this.elements=e}}function P0(r,e){let i=U0(e);for(const a of r.elements)i=i.filter(l=>!ci(l,a));return{arrayValue:{values:i}}}class ih extends yh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function bv(r){return Lt(r.integerValue||r.doubleValue)}function U0(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MI(r,e){return r.field.isEqual(e.field)&&function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof kl&&l instanceof kl?Fa(a.elements,l.elements,ci):a instanceof ih&&l instanceof ih?ci(a.Ae,l.Ae):a instanceof nh&&l instanceof nh}(r.transform,e.transform)}class kI{constructor(e,i){this.version=e,this.transformResults=i}}class Fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _h{}function L0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new z0(r.key,Fi.none()):new Ql(r.key,r.data,Fi.none());{const i=r.data,a=Vn.empty();let l=new zt(jt.comparator);for(let h of e.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new zs(r.key,a,new Ln(l.toArray()),Fi.none())}}function VI(r,e,i){r instanceof Ql?function(l,h,d){const p=l.value.clone(),y=Rv(l.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):r instanceof zs?function(l,h,d){if(!Lc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Rv(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(j0(l)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function wl(r,e,i,a){return r instanceof Ql?function(h,d,p,y){if(!Lc(h.precondition,d))return p;const g=h.value.clone(),T=Cv(h.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,i,a):r instanceof zs?function(h,d,p,y){if(!Lc(h.precondition,d))return p;const g=Cv(h.fieldTransforms,y,d),T=d.data;return T.setAll(j0(h)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,e,i,a):function(h,d,p){return Lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,i)}function PI(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),h=k0(a.transform,l||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fa(a,l,(h,d)=>MI(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ql extends _h{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zs extends _h{constructor(e,i,a,l,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function j0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function Rv(r,e,i){const a=new Map;ot(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,p=e.data.field(h.field);a.set(h.field,xI(d,p,i[l]))}return a}function Cv(r,e,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,NI(h,d,e))}return a}class z0 extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&VI(h,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=wl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=wl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=x0();return this.mutations.forEach(l=>{const h=e.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const y=L0(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(i,a)=>wv(i,a))&&Fa(this.baseMutations,e.baseMutations,(i,a)=>wv(i,a))}}class Km{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ot(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=function(){return RI}();const h=e.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Km(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function zI(r){switch(r){case te.OK:return Ce(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function BI(r){if(r===void 0)return Vs("GRPC error has no .code"),te.UNKNOWN;switch(r){case gt.OK:return te.OK;case gt.CANCELLED:return te.CANCELLED;case gt.UNKNOWN:return te.UNKNOWN;case gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case gt.INTERNAL:return te.INTERNAL;case gt.UNAVAILABLE:return te.UNAVAILABLE;case gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case gt.NOT_FOUND:return te.NOT_FOUND;case gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case gt.ABORTED:return te.ABORTED;case gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case gt.DATA_LOSS:return te.DATA_LOSS;default:return Ce(39323,{code:r})}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Mm([4294967295,4294967295],0);class HI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GI(r,e){return cm(r,e.toTimestamp())}function Ha(r){return ot(!!r,49232),et.fromTimestamp(function(i){const a=Ps(i);return new tt(a.seconds,a.nanos)}(r))}function B0(r,e){return hm(r,e).canonicalString()}function hm(r,e){const i=function(l){return new ht(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?i:i.child(e)}function FI(r){const e=ht.fromString(r);return ot(JI(e),10190,{key:e.toString()}),e}function fm(r,e){return B0(r.databaseId,e.path)}function YI(r){const e=FI(r);return e.length===4?ht.emptyPath():KI(e)}function QI(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KI(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iv(r,e,i){return{name:fm(r,e),fields:i.value.mapValue.fields}}function XI(r,e){let i;if(e instanceof Ql)i={update:Iv(r,e.key,e.value)};else if(e instanceof z0)i={delete:fm(r,e.key)};else if(e instanceof zs)i={update:Iv(r,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof UI))return Ce(16599,{Vt:e.type});i={verify:fm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:GI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ce(27497)}(r,e.precondition)),i}function $I(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map(i=>function(l,h){let d=l.updateTime?Ha(l.updateTime):Ha(h);return d.isEqual(et.min())&&(d=Ha(h)),new kI(d,l.transformResults||[])}(i,e))):[]}function ZI(r){let e=YI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ot(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(R){const w=H0(R);return w instanceof Ur&&b0(w)?w.getFilters():[w]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(w=>function(Y){return new eh(Pa(Y.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(w))}(i.orderBy));let p=null;i.limit&&(p=function(R){let w;return w=typeof R=="object"?R.value:R,zm(w)?null:w}(i.limit));let y=null;i.startAt&&(y=function(R){const w=!!R.before,K=R.values||[];return new Jc(K,w)}(i.startAt));let g=null;return i.endAt&&(g=function(R){const w=!R.before,K=R.values||[];return new Jc(K,w)}(i.endAt)),vI(e,l,d,h,p,"F",y,g)}function H0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pa(i.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Nt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(r):r.fieldFilter!==void 0?function(i){return Nt.create(Pa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Ur.create(i.compositeFilter.filters.map(a=>H0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(i.compositeFilter.op))}(r):Ce(30097,{filter:r})}function Pa(r){return jt.fromServerFormat(r.fieldPath)}function WI(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function JI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.yt=e}}function t2(r){const e=ZI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Cn=new i2}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(Pr.min())}updateCollectionGroup(e,i,a){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class i2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new zt(ht.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(q0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LruGarbageCollector",r2=1048576;function Nv([r,e],[i,a]){const l=ze(r,i);return l===0?ze(e,a):l}class s2{constructor(e){this.Ir=e,this.buffer=new zt(Nv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class a2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Yl(i)?he(Ov,"Ignoring IndexedDB error during garbage collection: ",i):await Um(i)}await this.Vr(3e5)})}}class o2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Lm.ce);const a=new s2(i);return this.mr.forEachTarget(e,l=>a.Ar(l.sequenceNumber)).next(()=>this.mr.pr(e,l=>a.Ar(l))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Dv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,h,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(a=R,p=Date.now(),this.removeTargets(e,a,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(R=>(g=Date.now(),Va()<=xe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R})))}}function l2(r,e){return new o2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.changes=new js(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ee.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,i))).next(l=>(a!==null&&wl(a.mutation,l,Ln.empty(),tt.now()),l))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Yt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Yt()){const l=Cs();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,a).next(h=>{let d=Rc();return h.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=Cs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Yt()))}populateOverlays(e,i,a){const l=[];return a.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,l){let h=th();const d=bl(),p=function(){return bl()}();return i.forEach((y,g)=>{const T=a.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof zs)?h=h.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),wl(T.mutation,g,T.mutation.getFieldMask(),tt.now())):d.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((g,T)=>d.set(g,T)),i.forEach((g,T)=>p.set(g,new c2(T,d.get(g)??null))),p))}recalculateAndSaveOverlays(e,i){const a=bl();let l=new rn((d,p)=>d-p),h=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let T=a.get(y)||Ln.empty();T=p.applyToLocalView(g,T),a.set(y,T);const R=(l.get(p.batchId)||Yt()).add(y);l=l.insert(p.batchId,R)})}).next(()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,R=x0();T.forEach(w=>{if(!h.has(w)){const K=L0(i.get(w),a.get(w));K!==null&&R.set(w,K),h=h.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,R))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,l){return function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):TI(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-h.size):ee.resolve(Cs());let p=Nl,y=h;return d.next(g=>ee.forEach(g,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(w=>{y=y.insert(T,w)}))).next(()=>this.populateOverlays(e,g,h)).next(()=>this.computeViews(e,y,g,Yt())).next(T=>({batchId:p,changes:N0(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next(a=>{let l=Rc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const h=i.collectionGroup;let d=Rc();return this.indexManager.getCollectionParents(e,h).next(p=>ee.forEach(p,y=>{const g=function(R,w){return new gh(w,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next(T=>{T.forEach((R,w)=>{d=d.insert(R,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,l))).next(d=>{h.forEach((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,kn.newInvalidDocument(T)))});let p=Rc();return d.forEach((y,g)=>{const T=h.get(y);T!==void 0&&wl(T.mutation,g,Ln.empty(),tt.now()),Ym(i,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ee.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Ha(l.createTime)}}(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(l){return{name:l.name,query:t2(l.bundledQuery),readTime:Ha(l.readTime)}}(i)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.overlays=new rn(we.comparator),this.qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Cs();return ee.forEach(i,l=>this.getOverlay(e,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((l,h)=>{this.St(e,i,h)}),ee.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,i,a){const l=Cs(),h=i.length+1,d=new we(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let h=new rn((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let T=h.get(g.largestBatchId);T===null&&(T=Cs(),h=h.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=Cs(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=l)););return ee.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new jI(i,a));let h=this.qr.get(i);h===void 0&&(h=Yt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.sessionToken=ui.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.Qr=new zt(Ot.$r),this.Ur=new zt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ot(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Ot(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new we(new ht([])),a=new Ot(i,e),l=new Ot(i,e+1),h=[];return this.Ur.forEachInRange([a,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ht([])),a=new Ot(i,e),l=new Ot(i,e+1);let h=Yt();return this.Ur.forEachInRange([a,l],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ot(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ot{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ot.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LI(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ot(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return ee.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ot(i,0),l=new Ot(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],d=>{const p=this.Xr(d.Yr);h.push(p)}),ee.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new zt(ze);return i.forEach(l=>{const h=new Ot(l,0),d=new Ot(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let h=a;we.isDocumentKey(h)||(h=h.child(""));const d=new Ot(new we(h),0);let p=new zt(ze);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(p=p.add(y.Yr)),!0)},d),ee.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const l=this.Xr(a);l!==null&&i.push(l)}),i}removeMutationBatch(e,i){ot(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(i.mutations,l=>{const h=new Ot(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Ot(i,0),l=this.Zr.firstAfterOrEqual(a);return ee.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.ri=e,this.docs=function(){return new rn(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ee.resolve(a?a.document.mutableCopy():kn.newInvalidDocument(i))}getEntries(e,i){let a=th();return i.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():kn.newInvalidDocument(l))}),ee.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let h=th();const d=i.path,p=new we(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||$C(XC(T),a)<=0||(l.has(T.key)||Ym(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return ee.resolve(h)}getAllFromCollectionGroup(e,i,a,l){Ce(9500)}ii(e,i){return ee.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new y2(this)}getSize(e){return ee.resolve(this.size)}}class y2 extends u2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)}),ee.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.persistence=e,this.si=new js(i=>Gm(i),Fm),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(e,i){return this.si.forEach((a,l)=>i(l)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),ee.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Pr(i),ee.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,a){let l=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)}),ee.waitFor(h).next(()=>l)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return ee.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),ee.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(e,d))}),ee.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return ee.resolve(a)}containsKey(e,i){return ee.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Lm(0),this.li=!1,this.li=!0,this.hi=new m2,this.referenceDelegate=e(this),this.Pi=new _2(this),this.indexManager=new n2,this.remoteDocumentCache=function(l){return new g2(l)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new e2(i),this.Ii=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new d2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new p2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const l=new v2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(e,i){return ee.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class v2 extends WC{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,a=>{const l=we.fromPath(a);return this.gi(e,l).next(h=>{h||i.removeEntry(l,et.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return ee.or([()=>ee.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new js(a=>tI(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=l2(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(l=>a+l))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return ee.forEach(this.pi,(a,l)=>this.br(e,a,l).next(h=>h?ee.resolve():i(l)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Pc(e.data.value)),i}br(e,i,a){return ee.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ee.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Yt(),l=Yt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Zm(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Z1()?8:JC(Kt())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,l,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new E2;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,l){return a.documentReadCount<this.fs?(Va()<=xe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",pl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Va()<=xe.DEBUG&&he("QueryEngine","Query:",pl(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Va()<=xe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",pl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(i))):ee.resolve())}ys(e,i){if(Sv(i))return ee.resolve(null);let a=Ds(i);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Ds(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Yt(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(y=>{const g=this.Ds(i,p);return this.Cs(i,g,d,y.readTime)?this.ys(e,um(i,null,"F")):this.vs(e,g,i,y)}))})))}ws(e,i,a,l){return Sv(i)||l.isEqual(et.min())?ee.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?ee.resolve(null):(Va()<=xe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),pl(i)),this.vs(e,d,i,KC(l,Nl)).next(p=>p))})}Ds(e,i){let a=new zt(SI(e));return i.forEach((l,h)=>{Ym(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(e,i,a){return Va()<=xe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",pl(i)),this.ps.getDocumentsMatchingQuery(e,i,Pr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="LocalStore";class S2{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new rn(ze),this.xs=new js(h=>Gm(h),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function b2(r,e,i,a){return new S2(r,e,i,a)}async function F0(r,e){const i=Ze(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let y=Yt();for(const g of l){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of h){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(a,y).next(g=>({Ls:g,removedBatchIds:d,addedBatchIds:p}))})})}function w2(r,e){const i=Ze(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,y,g,T){const R=g.batch,w=R.keys();let K=ee.resolve();return w.forEach(Y=>{K=K.next(()=>T.getEntry(y,Y)).next(G=>{const Q=g.docVersions.get(Y);ot(Q!==null,48541),G.version.compareTo(Q)<0&&(R.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))})}),K.next(()=>p.mutationQueue.removeMutationBatch(y,R))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let y=Yt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(a,l))})}function R2(r){const e=Ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function C2(r,e){const i=Ze(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class xv{constructor(){this.activeTargetIds=DI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I2{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="ConnectivityMonitor";class kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Mv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function dm(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,h){const d=dm(),p=this.zo(e,i.toUriEncodedString());he(Hd,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:g}=new URL(p),T=Wa(g);return this.Jo(e,p,y,a,T).then(R=>(he(Hd,`Received RPC '${e}' ${d}: `,R),R),R=>{throw ph(Hd,`RPC '${e}' ${d} failed with error: `,R,"url: ",p,"request:",a),R})}Ho(e,i,a,l,h,d){return this.Go(e,i,a,l,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>e[h]=l),a&&a.headers.forEach((l,h)=>e[h]=l)}zo(e,i){const a=O2[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class M2 extends N2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,h){const d=dm();return new Promise((p,y)=>{const g=new s0;g.setWithCredentials(!0),g.listenOnce(a0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Vc.NO_ERROR:const R=g.getResponseJson();he(Gt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),p(R);break;case Vc.TIMEOUT:he(Gt,`RPC '${e}' ${d} timed out`),y(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const w=g.getStatus();if(he(Gt,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let K=g.getResponseJson();Array.isArray(K)&&(K=K[0]);const Y=K?.error;if(Y&&Y.status&&Y.message){const G=function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(se)>=0?se:te.UNKNOWN}(Y.status);y(new ge(G,Y.message))}else y(new ge(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Gt,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(l);he(Gt,`RPC '${e}' ${d} sending request:`,l),g.send(i,"POST",T,a,15)})}T_(e,i,a){const l=dm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=u0(),p=l0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const T=h.join("");he(Gt,`Creating RPC '${e}' stream ${l}: ${T}`,y);const R=d.createWebChannel(T,y);this.I_(R);let w=!1,K=!1;const Y=new x2({Yo:Q=>{K?he(Gt,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(w||(he(Gt,`Opening RPC '${e}' stream ${l} transport.`),R.open(),w=!0),he(Gt,`RPC '${e}' stream ${l} sending:`,Q),R.send(Q))},Zo:()=>R.close()}),G=(Q,X,se)=>{Q.listen(X,re=>{try{se(re)}catch(de){setTimeout(()=>{throw de},0)}})};return G(R,vl.EventType.OPEN,()=>{K||(he(Gt,`RPC '${e}' stream ${l} transport opened.`),Y.o_())}),G(R,vl.EventType.CLOSE,()=>{K||(K=!0,he(Gt,`RPC '${e}' stream ${l} transport closed`),Y.a_(),this.E_(R))}),G(R,vl.EventType.ERROR,Q=>{K||(K=!0,ph(Gt,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),Y.a_(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),G(R,vl.EventType.MESSAGE,Q=>{if(!K){const X=Q.data[0];ot(!!X,16349);const se=X,re=se?.error||se[0]?.error;if(re){he(Gt,`RPC '${e}' stream ${l} received error:`,re);const de=re.status;let ue=function(b){const C=gt[b];if(C!==void 0)return BI(C)}(de),Ae=re.message;ue===void 0&&(ue=te.INTERNAL,Ae="Unknown error status: "+de+" with message "+re.message),K=!0,Y.a_(new ge(ue,Ae)),R.close()}else he(Gt,`RPC '${e}' stream ${l} received:`,X),Y.u_(X)}}),G(p,o0.STAT_EVENT,Q=>{Q.stat===nm.PROXY?he(Gt,`RPC '${e}' stream ${l} detected buffering proxy`):Q.stat===nm.NOPROXY&&he(Gt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.__()},0),Y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new HI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,i,a=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class k2{constructor(e,i,a,l,h,d,p,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===te.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.D_===i&&this.G_(a,l)},a=>{e(()=>{const l=new ge(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{a(()=>this.z_(l))}),this.stream.onMessage(l=>{a(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(he(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V2 extends k2{constructor(e,i,a,l,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$I(e.writeResults,e.commitTime),a=Ha(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=QI(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>XI(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class U2 extends P2{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,hm(i,a),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(te.UNKNOWN,h.toString())})}Ho(e,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,hm(i,a),l,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(te.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class L2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="RemoteStore";class j2{constructor(e,i,a,l,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{$l(this)&&(he(Kl,"Restarting streams for network reachability change."),await async function(y){const g=Ze(y);g.Ea.add(4),await Xl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Eh(g)}(this))})}),this.Ra=new L2(a,l)}}async function Eh(r){if($l(r))for(const e of r.da)await e(!0)}async function Xl(r){for(const e of r.da)await e(!1)}function $l(r){return Ze(r).Ea.size===0}async function Q0(r,e,i){if(!Yl(e))throw e;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>R2(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(Kl,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)})}function K0(r,e){return e().catch(i=>Q0(r,i,e))}async function Th(r){const e=Ze(r),i=Lr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;z2(e);)try{const l=await C2(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,B2(e,l)}catch(l){await Q0(e,l)}X0(e)&&$0(e)}function z2(r){return $l(r)&&r.Ta.length<10}function B2(r,e){r.Ta.push(e);const i=Lr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function X0(r){return $l(r)&&!Lr(r).x_()&&r.Ta.length>0}function $0(r){Lr(r).start()}async function H2(r){Lr(r).ra()}async function q2(r){const e=Lr(r);for(const i of r.Ta)e.ea(i.mutations)}async function G2(r,e,i){const a=r.Ta.shift(),l=Km.from(a,e,i);await K0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Th(r)}async function F2(r,e){e&&Lr(r).X_&&await async function(a,l){if(function(d){return zI(d)&&d!==te.ABORTED}(l.code)){const h=a.Ta.shift();Lr(a).B_(),await K0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Th(a)}}(r,e),X0(r)&&$0(r)}async function Pv(r,e){const i=Ze(r);i.asyncQueue.verifyOperationInProgress(),he(Kl,"RemoteStore received new credentials");const a=$l(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Eh(i)}async function Y2(r,e){const i=Ze(r);e?(i.Ea.delete(2),await Eh(i)):e||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function Lr(r){return r.fa||(r.fa=function(i,a,l){const h=Ze(i);return h.sa(),new V2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:H2.bind(null,r),r_:F2.bind(null,r),ta:q2.bind(null,r),na:G2.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Kl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,i,a,l,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,h){const d=Date.now()+a,p=new Wm(e,i,d,l,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(r,e){if(Vs("AsyncQueue",`${e}: ${r}`),Yl(r))return new ge(te.UNAVAILABLE,`${e}: ${r}`);throw r}class Q2{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ze(i),h=l.queries;l.queries=Uv(),h.forEach((d,p)=>{for(const y of p.Sa)y.onError(a)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function Uv(){return new js(r=>D0(r),I0)}function K2(r){r.Ca.forEach(e=>{e.next()})}var Lv,jv;(jv=Lv||(Lv={})).Ma="default",jv.Cache="cache";const X2="SyncEngine";class $2{constructor(e,i,a,l,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js(p=>D0(p),I0),this.Iu=new Map,this.Eu=new Set,this.du=new rn(we.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z2(r,e,i){const a=tD(r);try{const l=await function(d,p){const y=Ze(d),g=tt.now(),T=p.reduce((K,Y)=>K.add(Y.key),Yt());let R,w;return y.persistence.runTransaction("Locally write mutations","readwrite",K=>{let Y=th(),G=Yt();return y.Ns.getEntries(K,T).next(Q=>{Y=Q,Y.forEach((X,se)=>{se.isValidDocument()||(G=G.add(X))})}).next(()=>y.localDocuments.getOverlayedDocuments(K,Y)).next(Q=>{R=Q;const X=[];for(const se of p){const re=PI(se,R.get(se.key).overlayedDocument);re!=null&&X.push(new zs(se.key,re,T0(re.value.mapValue),Fi.exists(!0)))}return y.mutationQueue.addMutationBatch(K,g,X,p)}).next(Q=>{w=Q;const X=Q.applyToLocalDocumentSet(R,G);return y.documentOverlayCache.saveOverlays(K,Q.batchId,X)})}).then(()=>({batchId:w.batchId,changes:N0(R)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new rn(ze)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g}(a,l.batchId,i),await Ah(a,l.changes),await Th(a.remoteStore)}catch(l){const h=Z0(l,"Failed to persist write");i.reject(h)}}function zv(r,e,i){const a=Ze(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)}),function(d,p){const y=Ze(d);y.onlineState=p;let g=!1;y.queries.forEach((T,R)=>{for(const w of R.Sa)w.va(p)&&(g=!0)}),g&&K2(y)}(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function W2(r,e){const i=Ze(r),a=e.batch.batchId;try{const l=await w2(i.localStore,e);J0(i,a,null),W0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ah(i,l)}catch(l){await Um(l)}}async function J2(r,e,i){const a=Ze(r);try{const l=await function(d,p){const y=Ze(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next(R=>(ot(R!==null,37113),T=R.keys(),y.mutationQueue.removeMutationBatch(g,R))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(a.localStore,e);J0(a,e,i),W0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ah(a,l)}catch(l){await Um(l)}}function W0(r,e){(r.mu.get(e)||[]).forEach(i=>{i.resolve()}),r.mu.delete(e)}function J0(r,e,i){const a=Ze(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(e);h&&(i?h.reject(i):h.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}async function Ah(r,e,i){const a=Ze(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,y)=>{d.push(a.pu(y,e,i).then(g=>{if((g||i)&&a.isPrimaryClient){const T=g?!g.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){l.push(g);const T=Zm.As(y.targetId,g);h.push(T)}}))}),await Promise.all(d),a.Pu.H_(l),await async function(y,g){const T=Ze(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ee.forEach(g,w=>ee.forEach(w.Es,K=>T.persistence.referenceDelegate.addReference(R,w.targetId,K)).next(()=>ee.forEach(w.ds,K=>T.persistence.referenceDelegate.removeReference(R,w.targetId,K)))))}catch(R){if(!Yl(R))throw R;he(A2,"Failed to update sequence numbers: "+R)}for(const R of g){const w=R.targetId;if(!R.fromCache){const K=T.Ms.get(w),Y=K.snapshotVersion,G=K.withLastLimboFreeSnapshotVersion(Y);T.Ms=T.Ms.insert(w,G)}}}(a.localStore,h))}async function eD(r,e){const i=Ze(r);if(!i.currentUser.isEqual(e)){he(X2,"User change. New user:",e.toKey());const a=await F0(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(y=>{y.reject(new ge(te.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ah(i,a.Ls)}}function tD(r){const e=Ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return b2(this.persistence,new T2,e.initialUser,this.serializer)}Cu(e){return new G0($m.mi,this.serializer)}Du(e){return new I2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class nD extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new a2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new G0(a=>rh.mi(a,i),this.serializer)}}class mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eD.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q2}()}createDatastore(e){const i=vh(e.databaseInfo.databaseId),a=function(h){return new M2(h)}(e.databaseInfo);return function(h,d,p,y){return new U2(h,d,p,y)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,l,h,d,p){return new j2(a,l,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>zv(this.syncEngine,i,0),function(){return kv.v()?new kv:new D2}())}createSyncEngine(e,i){return function(l,h,d,p,y,g,T){const R=new $2(l,h,d,p,y,g);return T&&(R.gu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=Ze(i);he(Kl,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class iD{constructor(e,i,a,l,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ft.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{he(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(he(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Z0(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),he(jr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await F0(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await rD(r);he(jr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>Pv(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Pv(e.remoteStore,l)),r._onlineComponents=e}async function rD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(jr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(l){return l.name==="FirebaseError"?l.code===te.FAILED_PRECONDITION||l.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;ph("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new sh)}}else he(jr,"Using default OfflineComponentProvider"),await Gd(r,new nD(void 0));return r._offlineComponents}async function sD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(jr,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(he(jr,"Using default OnlineComponentProvider"),await Bv(r,new mm))),r._onlineComponents}function aD(r){return sD(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firestore.googleapis.com",qv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r2)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new PC;switch(a.type){case"firstParty":return new zC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Hv.get(i);a&&(he("ComponentProvider","Removing Datastore"),Hv.delete(i),a.terminate())}(this),Promise.resolve()}}function oD(r,e,i,a={}){r=rm(r,Jm);const l=Wa(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(gE(`https://${p}`),yE("Firestore",!0)),h.host!==tT&&h.host!==p&&ph("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:p,ssl:l,emulatorOptions:a};if(!Os(y,d)&&(r._setSettings(y),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=Ft.MOCK_USER;else{g=H1(a.mockUserToken,r._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ft(R)}r._authCredentials=new UC(new h0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ep(this.firestore,e,this._query)}}class Qt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Fl(i,Qt._jsonSchema))return new Qt(e,a||null,new we(ht.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:yt("string",Qt._jsonSchemaVersion),referencePath:yt("string")};class Vl extends ep{constructor(e,i,a){super(e,i,EI(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new we(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function lD(r,e,...i){if(r=jn(r),arguments.length===1&&(e=Vm.newId()),YC("doc","path",e),r instanceof Jm){const a=ht.fromString(e,...i);return fv(a),new Qt(r,null,new we(a))}{if(!(r instanceof Qt||r instanceof Vl))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return fv(a),new Qt(r.firestore,r instanceof Vl?r.converter:null,new we(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="AsyncQueue";class Yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y0(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&he(Fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;he(Fv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Qv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Wm.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&Ce(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Qv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class nT extends Jm{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yv(e),this._firestoreClient=void 0,await e}}}function uD(r,e){const i=typeof r=="object"?r:TE(),a=typeof r=="string"?r:Zc,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=z1("firestore");h&&oD(l,...h)}return l}function cD(r){if(r._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hD(r),r._firestoreClient}function hD(r){const e=r._freezeSettings(),i=function(l,h,d,p){return new sI(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new iD(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(ui.fromBase64String(e))}catch(i){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:yt("string",Pn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(Fl(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:yt("string",Yi._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fl(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Qi(e.vectorValues);throw new ge(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:yt("string",Qi._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^__.*__$/;class dD{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(e,this.data,i,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class np{constructor(e,i,a,l,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new np({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&fD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mD{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||vh(e)}Cc(e,i,a,l=!1){return new np({Ac:e,methodName:i,Dc:a,path:jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pD(r){const e=r._freezeSettings(),i=vh(r._databaseId);return new mD(r._databaseId,!!e.ignoreUndefinedProperties,i)}function gD(r,e,i,a,l,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,l);lT("Data must be an object, but it was:",d,a);const p=aT(a,d);let y,g;if(h.merge)y=new Ln(d.fieldMask),g=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const R of h.mergeFields){const w=yD(e,R,i);if(!d.contains(w))throw new ge(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);vD(T,w)||T.push(w)}y=new Ln(T),g=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,g=d.fieldTransforms;return new dD(new Vn(p),y,g)}function sT(r,e){if(oT(r=jn(r)))return lT("Unsupported field value:",e,r),aT(r,e);if(r instanceof iT)return function(a,l){if(!rT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,l){const h=[];let d=0;for(const p of a){let y=sT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(r,e)}return function(a,l){if((a=jn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return OI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=tt.fromDate(a);return{timestampValue:cm(l.serializer,h)}}if(a instanceof tt){const h=new tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:cm(l.serializer,h)}}if(a instanceof Yi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:qI(l.serializer,a._byteString)};if(a instanceof Qt){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:B0(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qi)return function(d,p){return{mapValue:{fields:{[v0]:{stringValue:E0},[sm]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,g)})}}}}}}(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)}(r,e)}function aT(r,e){const i={};return m0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(r,(a,l)=>{const h=sT(l,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function oT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Yi||r instanceof Pn||r instanceof Qt||r instanceof iT||r instanceof Qi)}function lT(r,e,i){if(!oT(i)||!f0(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function yD(r,e,i){if((e=jn(e))instanceof tp)return e._internalPath;if(typeof e=="string")return uT(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const _D=new RegExp("[~\\*/\\[\\]]");function uT(r,e,i){if(e.search(_D)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new tp(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,e,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ge(te.INVALID_ARGUMENT,p+r+y)}function vD(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,i,a,l,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ED(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ED extends cT{data(){return super.data()}}function hT(r,e){return typeof e=="string"?uT(r,e):e instanceof tp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Ic{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends cT{constructor(e,i,a,l,h,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(hT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:yt("string",qa._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class jc extends qa{data(e={}){return super.data(e)}}class Rl{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ic(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Ic(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(p=>{const y=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ic(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const y=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ic(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:AD(p.type),doc:y,oldIndex:g,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:yt("string",Rl._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};function SD(r,e,i){r=rm(r,Qt);const a=rm(r.firestore,nT),l=TD(r.converter,e);return bD(a,[gD(pD(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Fi.none())])}function bD(r,e){return function(a,l){const h=new Is;return a.asyncQueue.enqueueAndForget(async()=>Z2(await aD(a),l,h)),h.promise}(cD(r),e)}(function(e,i=!0){(function(l){to=l})(Ja),Ga(new Ns("firestore",(a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new nT(new LC(a.getProvider("auth-internal")),new BC(d,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(g.options.projectId,T)}(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),Vr(lv,uv,e),Vr(lv,uv,"esm2020")})();const wD={apiKey:"AIzaSyCy-a9fSGbt70MLUfH_Xg4cSXThyU7USv8",authDomain:"phenoixguild.firebaseapp.com",projectId:"phenoixguild",storageBucket:"phenoixguild.firebasestorage.app",messagingSenderId:"829936465872",appId:"1:829936465872:web:f01fbd13792a2ea663abd5",measurementId:"G-Y1GYT3N2H7"},fT=EE(wD),RD=RC(fT),CD=uD(fT);function ID(){const[r,e]=B.useState({email:"",password:"",name:"",age:""}),[i,a]=B.useState(""),l=p=>{const{name:y,value:g}=p.target;e(T=>({...T,[y]:g}))},h=()=>{if(!r.email)return"Email is required.";if(!r.password||r.password.length<6)return"Password must be at least 6 characters.";if(!r.name)return"Name is required.";const p=parseInt(r.age,10);return isNaN(p)||p<13||p>120?"Age must be a number between 13 and 120.":""},d=async p=>{p.preventDefault(),a("");const y=h();if(y){a(y);return}try{const T=(await fR(RD,r.email,r.password)).user;await SD(lD(CD,"users",T.uid),{name:r.name.trim(),age:parseInt(r.age,10),email:r.email,createdAt:new Date}),alert("Signup successful! You can now log in."),e({email:"",password:"",name:"",age:""}),a("")}catch(g){a(g.message)}};return S.jsxs("main",{className:"container",children:[S.jsx("h2",{children:"Sign Up - Phoenix Guild"}),S.jsxs("form",{onSubmit:d,noValidate:!0,children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{id:"email",type:"email",name:"email",value:r.email,onChange:l,required:!0}),S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{id:"password",type:"password",name:"password",value:r.password,onChange:l,required:!0,minLength:6}),S.jsx("label",{htmlFor:"name",children:"Name:"}),S.jsx("input",{id:"name",type:"text",name:"name",value:r.name,onChange:l,required:!0}),S.jsx("label",{htmlFor:"age",children:"Age:"}),S.jsx("input",{id:"age",type:"number",name:"age",value:r.age,onChange:l,required:!0,min:13,max:120}),S.jsx("button",{type:"submit",children:"Sign Up"})]}),i&&S.jsx("div",{className:"error",children:i})]})}function DD(){const[r,e]=B.useState([]),[i,a]=B.useState([]),[l,h]=B.useState(""),[d,p]=B.useState(""),[y,g]=B.useState([]),T=xm.currentUser?.uid;B.useEffect(()=>{async function G(){const X=(await m_(bd(si,"groups"))).docs.map(se=>({id:se.id,...se.data()}));if(e(X),T){const se=X.filter(re=>re.members?.includes(T));a(se)}}G()},[T]);const R=async G=>{const Q=Rs(si,"groups",G),X=await Ua(Q);if(!X.exists())return;const se=X.data().members||[],de=(await Promise.all(se.map(async ue=>{const Ae=Rs(si,"users",ue),x=await Ua(Ae),b=x.exists()?x.data():{};return{id:ue,name:b.name||"Anonymous",weeklyPoints:b.weeklyPoints||0}}))).sort((ue,Ae)=>Ae.weeklyPoints-ue.weeklyPoints);g(de)},w=async()=>{if(!l||!T)return;const G=await jA(bd(si,"groups"),{name:l,members:[T],createdAt:new Date});e([...r,{id:G.id,name:l,members:[T]}]),h("")},K=async G=>{const Q=Rs(si,"groups",G);await gl(Q,{members:zA(T)});const X=r.find(se=>se.id===G);X&&!i.includes(X)&&a([...i,X])},Y=async()=>{if(!d)return;const G=BA(bd(si,"groups"),HA("name","==",d)),Q=await m_(G);if(Q.empty)alert("Group not found!");else{const X=Q.docs[0];await K(X.id),p("")}};return S.jsxs("div",{className:"groups-container",children:[S.jsx("h2",{children:"Groups"}),S.jsxs("div",{className:"group-create",children:[S.jsx("input",{type:"text",placeholder:"New Group Name",value:l,onChange:G=>h(G.target.value)}),S.jsx("button",{onClick:w,children:"Create Group"})]}),S.jsxs("div",{className:"group-join-name",children:[S.jsx("input",{type:"text",placeholder:"Enter Group Name to Join",value:d,onChange:G=>p(G.target.value)}),S.jsx("button",{onClick:Y,children:"Join Group"})]}),S.jsx("h3",{children:"Available Groups"}),S.jsx("ul",{children:r.filter(G=>!G.members?.includes(T)).map(G=>S.jsxs("li",{children:[G.name," ",S.jsx("button",{onClick:()=>K(G.id),children:"Join"})]},G.id))}),S.jsx("h3",{children:"My Groups"}),S.jsx("ul",{children:i.map(G=>S.jsxs("li",{children:[G.name," ",S.jsx("button",{onClick:()=>R(G.id),children:"View Leaderboard"})]},G.id))}),y.length>0&&S.jsxs("div",{className:"leaderboard",children:[S.jsx("h3",{children:"Leaderboard"}),S.jsx("ol",{children:y.map((G,Q)=>S.jsxs("li",{children:[G.name||"Anonymous"," - ",G.weeklyPoints||0," points"]},Q))})]})]})}function OD(){return S.jsxs(p1,{basename:"PhoenixGuild",children:[S.jsx(R1,{}),S.jsxs(YS,{children:[S.jsx(ji,{path:"/",element:S.jsx(C1,{})}),S.jsx(ji,{path:"/rankings",element:S.jsx(I1,{})}),S.jsx(ji,{path:"/history",element:S.jsx(D1,{})}),S.jsx(ji,{path:"/about",element:S.jsx(O1,{})}),S.jsx(ji,{path:"/signin",element:S.jsx(DC,{})}),S.jsx(ji,{path:"/profile",element:S.jsx(MC,{})}),S.jsx(ji,{path:"/signup",element:S.jsx(ID,{})}),S.jsx(ji,{path:"/groups",element:S.jsx(DD,{})})]}),S.jsx(N1,{})]})}const ND=nS.createRoot(document.getElementById("root"));ND.render(S.jsx(OD,{}));
